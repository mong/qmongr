(this.webpackJsonpqmongjs=this.webpackJsonpqmongjs||[]).push([[0],{137:function(e,t,a){e.exports=a(146)},142:function(e,t,a){},146:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(6),i=a.n(r),c=(a(142),a(4)),o=a(2);var s=function(e){var t=e.col_nr,a=void 0===t?2:t,n=e.indicator_header,r=void 0===n?"Kvalitetsindikator":n,i=e.treatment_unit_name,c=void 0===i?[]:i,o=e.national,s=void 0===o?"Nasjonalt":o,_=e.selection_bar_height,d=e.legend_height,u="".concat(_+d,"px"),m=2===a?60:3===a?50:40,f=(100-m)/(a-1),h={width:"".concat(m,"%"),top:u},v={width:"".concat(f,"%"),top:u},p=c.map((function(e){return l.a.createElement("th",{className:"selected_unit",style:v,key:e}," ",e)}));return l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{key:"kvind_header",className:"quality_indicator",style:h},r),p,l.a.createElement("th",{className:"nationally",style:v,key:"nat_header"},s)))};var _=function(e){var t=e.td_class,a=void 0===t?"selected_unit":t,n=e.indicator_value,r=void 0===n?"65%":n,i=e.icon_class,c=void 0===i?"fa fa-circle-o":i,o=e.share_of_totla,s=void 0===o?1500:o,_=e.mid_text,d=void 0===_?"av":_,u=e.total,m=void 0===u?2e3:u;return l.a.createElement("td",{className:a},l.a.createElement("div",{className:"level"},l.a.createElement("h4",null,"".concat(r," "),l.a.createElement("i",{className:c}))),l.a.createElement("div",{className:"summary"},"".concat(s," ").concat(d," ").concat(m)))};var d=function(e){var t=e.title,a=void 0===t?"This is the title":t,n=e.short_description,r=void 0===n?"This is the short description of the app":n,i=e.high_achivment_text,c=void 0===i?"H\xf8y m\xe5loppn\xe5else: > 80%":i;return l.a.createElement("td",{className:"quality_indicator"},l.a.createElement("div",{className:"quality_indicator_name"},l.a.createElement("h1",null,a)),l.a.createElement("div",{className:"qi_long_description"},l.a.createElement("p",null,r)),l.a.createElement("div",{className:"desired_target_level"},l.a.createElement("h4",null,c)))},u=function(e){var t=e.chart_type,a=e.update_chart_type,n=[{class_name_inp:"figure_button figure_button_left",type:"Radio",id:"table_bar",name:"table_figure_button",value:"bar",icon:"fas fa-chart-bar",label:"S\xf8yle",class_name_label:"figure_button_label"},{class_name_inp:"figure_button figure_button_right",type:"Radio",id:"table_line",name:"table_figure_button",value:"line",icon:"fas fa-chart-line",label:"Linje",class_name_label:"figure_button_label"}].map((function(e){return l.a.createElement(l.a.Fragment,{key:e.id},l.a.createElement("input",{className:e.class_name_inp,type:e.type,id:e.id,name:e.name,value:e.value,checked:e.value===t,onChange:function(e){return a(e.target.value)}}),l.a.createElement("label",{className:e.class_name_label,htmlFor:e.id},e.label," ",l.a.createElement("i",{className:e.icon})))}));return l.a.createElement("div",{className:"tr_figure_button"},n)},m=a(1),f=function(e){var t=e.show_level,a=e.update_show_level,r=e.zoom,i=e.update_zoom,c=e.svg_container,s=e.update_selected_row,_=Object(n.useState)("inactive"),d=Object(o.a)(_,2),u=d[0],f=d[1],h=["Vis m\xe5lniv\xe5","Skjul m\xe5lniv\xe5"],v=["Zoom inn","Zoom ut"],p=function(e,t,a){a(t.filter((function(t){return t!==e}))[0])};Object(n.useEffect)((function(){var e="Skjulm\xe5lniv\xe5"===t.replace(/\s/g,"")?"visible":"hidden";Object(m.m)(c.current).selectAll("svg .level").style("visibility",e)}),[c,t]);var y,b=[{label:t,click:function(){return p(t,h,a)},class:"dd-level"},{label:r,click:function(){return p(r,v,i)},class:"dd-zoom"},{label:"Lukk",click:function(){return s("")},class:"dd-close"}].map((function(e){return l.a.createElement("li",{key:e.class},l.a.createElement("div",{className:e.class,onClick:e.click}," ",e.label," "))}));return l.a.createElement("div",{className:"table_dd_menu_container",onMouseLeave:function(){y=setTimeout((function(){f("inactive")}),1e3)},onMouseOver:function(){return clearTimeout(y)}},l.a.createElement("button",{className:"table_dd_button",onClick:function(){return f("")}},l.a.createElement("i",{className:"fas fa-bars","aria-hidden":"true"})),l.a.createElement("div",{id:"table_dd_container",className:"dropdown_container ".concat(u)},l.a.createElement("ul",{className:"dropdown_ul"},b)))},h=function(e){var t=e.description_title,a=void 0===t?"Om kvalitetsindikatoren":t,r=e.description_text,i=void 0===r?"Denne kvalitetsindikatoren er definert som andel pasienter med akutt hoftebrudd som ble operert innen 24 timer etter bruddtidspunktet. ":r,c=Object(n.useState)("inactive"),s=Object(o.a)(c,2),_=s[0],d=s[1];return l.a.createElement("div",{className:"description-container"},l.a.createElement("div",{className:"description_title_container",onClick:function(){return function(e,t){t(""===e?"inactive":"")}(_,d)}},l.a.createElement("h4",null,a),l.a.createElement("i",{className:"fa ".concat(""===_?"fa-angle-up":"fa-angle-down"," ")})),l.a.createElement("p",{className:"description_content ".concat(_)},i))},v=["#4F9A94","#90CAF9","#B0BEC5","#FFE082","#2962FF","#CE93D8","#9C786C","#BCAAA4","#F8BBD0","#9FA8DA","#80DEEA","#A5D6A7","#E6EE9C","#FFAB91","#78909C"],p="#D2D3D4",y="#EEF6F7",b="#2D3034",g="#828586",k={high:"#3baa34",mid:"#fd9c00",low:"#e30713"},x={x_axis_label_fill:g,y_axis_label_fill:g,x_axis_label:"",y_axis_label:"",x_axis_label_font_family:"arial",y_axis_label_font_family:"arial",x_axis_tick_font_fill:g,y_axis_tick_font_fill:b,x_axis_tick_line_stroke:p,y_axis_tick_line_stroke:"none",x_axis_domain_line_stroke:"none",y_axis_domain_line_stroke:"none"},E=function(e,t){var a=t.x_scale,n=t.inner_width,l=t.inner_height,r=t.x_axis_label,i=t.x_axis_label_fill,c=t.x_axis_label_offset,o=void 0===c?l/6:c,s=t.x_axis_label_font_size,_=void 0===s?9+.04*n+"px":s,d=t.x_axis_tick_font_size,u=void 0===d?7+.02*n+"px":d,f=t.x_axis_tick_font_fill,h=t.x_axis_tick_line_stroke,v=t.x_axis_tick_number,p=void 0===v?6:v,y=t.x_axis_tick_size,b=void 0===y?l:y,g=t.x_axis_domain_line_stroke,k=t.x_axis_label_font_family,x=t.transition,E=void 0!==x&&x,j=t.delay_val,O=void 0===j?0:j,w=t.duration_val,N=void 0===w?0:w,S=t.axis_label_format,A=void 0===S?",.0%":S,F=Object(m.a)(a).tickSize(-b).ticks(p).tickFormat(Object(m.d)(A)),C=e.selectAll(".x-axis").data([null]);C=C.enter().append("g").attr("class","x-axis").merge(C).attr("transform","translate(0,".concat(l,")")),E?C.transition().delay(O).duration(N).call(F):C.call(F),C.selectAll(".tick text").style("font-size",u).attr("fill",f),C.selectAll(".tick line").attr("stroke",h),C.select(".domain").attr("stroke",g);var z=C.selectAll(".axis-label").data([null]);z.enter().append("text").attr("class","axis-label").merge(z).attr("fill",i).text(r).attr("x",n/2).attr("y",o).style("font-size",_).style("font-family",k)},j={menus:{unit:"Velg behandlingssted",year:"\xc5r:"},indicators:{high:{text:"H\xf8y m\xe5loppn\xe5else",icon:"fa fa-fas fa-circle"},moderate:{text:"Moderat m\xe5loppn\xe5else",icon:"fa fa-fas fa-adjust"},low:{text:"Lav m\xe5loppn\xe5else",icon:"fa fa-circle-o"}},table:{main_column:"Kvalitetsindikator",national_column:"Nasjonalt",desired_level:"\xd8nsket m\xe5lniv\xe5"},tu_list:{header_text:"Velg behandlingsenheter",max_nr_tu:5}},O=[{react_key:"hjerte",name:"Hjerte- og karsykdommer",key:["ablanor","noric","hjerteinfarkt","hjerneslag","hjertestans","hjertesvikt","hjertekirurgi","norkar"]},{react_key:"kreft",name:"Kreft",key:["barnekreft","brystkreft","gynkreft","lungekreft","lymfoid","melanom","prostata","tarmkreft_colon","tarmkreft_rectum"]},{react_key:"diabetes",name:"Diabetes",key:["barnediabetes","diabetes_voksne"]},{react_key:"nerve",name:"Nervesystemet",key:["cp","ms","parkinson","norkog"]},{react_key:"muskel",name:"Muskel og skjelett",key:["hofte_barn","hoftebrudd","korsband","ryggkir","leddprotese","nnrr","muskel","nkr_nakke","nkr_rygg"]},{react_key:"tarm",name:"Mage og tarm",key:["gastronet","fedmekir","nra","norgast"]},{react_key:"gyn",name:"Gynekologi",key:["nger","kvinl_inkontinens"]},{react_key:"nyre",name:"Nyre",key:["nyre"]},{react_key:"intensiv",name:"Skade og intensiv",key:["traume","intensiv","nnk"]},{react_key:"rehab",name:"Rehabilitering",key:["nnrr","norscir"]},{react_key:"autoimmun",name:"Autoimmune sykdommer",key:["roas","norvas"]},{react_key:"revma",name:"Revmatologi",key:["norartritt","norvas"]},{react_key:"barn",name:"Barn",key:["cp","hofte_barn","barnekreft","barnediabetes","ganespalt","nnk"]}],w=j,N={column:{indicator_id:"ind_id",coverage_id:"dg_id",year:"year",treatment_unit:"unit_name",treatment_unit_level:"unit_level",organisation_number:"orgnr",denominator:"denominator",variable:"var",achieved_level:"level",desired_level:"desired_level",registry_id:"registry_id",registry_short_name:"rname",registry_full_name:"full_name",indicator_title:"title",indicator_name:"name",indicator_type:"type",indicator_measurement_unit:"measure_unit",indicator_short_description:"short_description",indicator_long_description:"long_description",level_green:"level_green",level_yellow:"level_yellow",level_direction:"level_direction",min_indicator_value:"min_value",max_indicator_value:"max_value",min_denominator:"min_denominator",id:"id"},indicator_type:{andel:{db:"andel",full_name:"Andel"},median:{db:"median",full_name:"Median"}},treatment_unit_level:{rhf:"rhf",hf:"hf",hospital:"hospital",nation:"nation"},achieved_level:{high:"H",mod:"M",low:"L"},level_direction:{high:1,low:0},desired_level:{high:"H\xf8yt",low:"Lavt"}},S=N,A=function(e,t,a,n){var l=t.width,r=t.height,i=t.margin,c=t.zoom,o=t.delay_value,s=void 0===o?1e3:o,_=t.duration_value,d=void 0===_?1e3:_,u={top:r*i.top,bottom:r*i.bottom,right:l*i.right,left:l*i.left};e=Object(m.m)(e);var f=l-u.left-u.right,h=r-u.top-u.bottom,v=e.selectAll("svg").data([null]),p=(v=v.enter().append("svg").merge(v).attr("width",l-20).attr("height",r).style("background-color","#EEF6F7").attr("class","table_chart")).selectAll(".grouped_element").data([null]);p=p.enter().append("g").attr("class","grouped_element").merge(p).attr("transform","translate("+u.left+" ,"+u.top+")");var y=Object(m.i)().domain(a.map((function(e){return e[S.column.treatment_unit]}))).range([0,h]).paddingInner(.5).paddingOuter(.5).align(.5);!function(e,t){var a=t.y_scale,n=t.inner_width,l=t.inner_height,r=t.y_axis_label_font_family,i=void 0===r?"arial":r,c=t.y_axis_tick_font_size,o=void 0===c?3+.03*l+"px":c,s=t.y_axis_tick_distance_from_axis,_=void 0===s?.03*n:s,d=t.y_axis_tick_font_fill,u=t.y_axis_tick_line_stroke,f=t.y_axis_domain_line_stroke,h=Object(m.b)(a),v=e.selectAll(".y-axis").data([null]);(v=v.enter().append("g").attr("class","y-axis").merge(v)).call(h).attr("text-anchor","end"),v.selectAll(".tick text").attr("x",-_).style("font-size",o).style("font-family",i).attr("fill",d),v.selectAll(".tick line").attr("stroke",u),v.select(".domain").attr("stroke",f)}(p,Object.assign({},x,{y_scale:y,inner_width:f,inner_height:h,margin_px:u}));var b=Object(m.j)().domain([0,1]).range([0,f]);E(p,Object.assign({},x,{x_scale:b,inner_width:f,inner_height:h,transition:!1}));var g=k,j="Skjulm\xe5lniv\xe5"===document.querySelector(".dropdown_ul .dd-level").innerHTML.replace(/\s/g,"")?"visible":"hidden",O=p.selectAll("rect.level");O=O.data(n).enter().append("rect").merge(O).attr("class","level").attr("y",0).attr("x",(function(e){return b(e.end)})).attr("width",(function(e){return b(e.start-e.end)})).attr("height",h).attr("fill",(function(e){return g[e.level]})).style("opacity","0.2").style("visibility",j);var w=p.selectAll("rect.bars").data(a,(function(e){return e[S.column.treatment_unit]}));if(w.exit().transition().style("opacity",0).remove(),w=w.enter().append("rect").attr("class","bars").merge(w).attr("fill",(function(e){return"Nasjonalt"===e[S.column.treatment_unit]?"#00263D":"#7EBEC7"})).attr("x",0).attr("y",(function(e){return y(e[S.column.treatment_unit])})).attr("height",y.bandwidth).transition().duration(s).attr("width",(function(e){return b(e[S.column.variable])})),"Zoomut"===c.replace(/\s/g,"")){var N,A=Object(m.g)(a,(function(e){return e[S.column.variable]})),F=.2*(.01+A);A=Math.ceil(100*(A+F))/100,b=Object(m.j)().domain([0,A>1?1:A]).range([0,f]),w.merge(w).transition().delay(0).duration(d).attr("width",(function(e){return b(e[S.column.variable])})),O.data(n).merge(O).transition().delay(s).duration(d).attr("x",(function(e){var t;return t=b(e.end)>f?b.invert(f):b(e.end)<0?b.invert(0):e.end,b(t)})).attr("width",(function(e){var t,a;return t=b(e.end)>f?b.invert(f):b(e.end)<0?b.invert(0):e.end,b(e.start)<=f&&b(e.start)>=0?a=e.start:b(e.start)>f?a=b.invert(f):b(e.start)<0&&(a=b.invert(0)),b(a)-b(t)})),N=A<.05?",.1%":",.0%",E(p,Object.assign({},x,{x_scale:b,inner_width:f,inner_height:h,transition:!0,delay_val:s,duration_val:d,axis_label_format:N}))}},F={x_axis_label_fill:b,y_axis_label_fill:b,x_axis_label:"",y_axis_label:"Andel",x_axis_label_font_family:"arial, Helvetica Neue",y_axis_label_font_family:"arial, Helvetica Neue",x_axis_tick_font_fill:g,y_axis_tick_font_fill:g,y_axis_tick_number:6,x_axis_tick_line_stroke:"none",y_axis_tick_line_stroke:p,x_axis_domain_line_stroke:"none",y_axis_domain_line_stroke:"none",legend_text_fill:b,legend_text_font_family:"arial, Helvetica Neue"},C=function(e,t){var a=t.y_scale,n=t.inner_width,l=t.inner_height,r=t.y_axis_label,i=void 0===r?"Y axis":r,c=t.y_axis_label_fill,o=void 0===c?"black":c,s=t.y_axis_label_offset,_=void 0===s?1.15*n:s,d=t.y_axis_label_font_size,u=void 0===d?7+.02*n+"px":d,f=t.y_axis_label_font_family,h=void 0===f?"arial":f,v=t.y_axis_tick_font_size,p=void 0===v?8+.02*l+"px":v,y=t.y_axis_tick_number,b=t.y_axis_tick_font_fill,g=t.y_axis_tick_line_stroke,k=t.y_axis_tick_size,x=void 0===k?n:k,E=t.y_axis_domain_line_stroke,j=t.transition,O=void 0!==j&&j,w=t.delay_val,N=void 0===w?0:w,S=t.duration_val,A=void 0===S?0:S,F=t.axis_label_format,C=void 0===F?",.0%":F,z=Object(m.c)(a).ticks(y).tickSize(x).tickFormat(Object(m.d)(C)),M=e.selectAll(".y-axis").data([null]);M=M.enter().append("g").attr("class","y-axis").merge(M),O?M.transition().delay(N).duration(A).call(z):M.call(z),M.selectAll(".tick text").style("font-size",p).attr("fill",b),M.selectAll(".tick line").attr("stroke",g),M.select(".domain").attr("stroke",E);var H=M.selectAll(".axis-label").data([null]);H.enter().append("text").attr("class","axis-label").merge(H).attr("fill",o).text(i).attr("transform","rotate(-90)").attr("x",-l/1.5).attr("y",_).style("font-size",u).style("font-family",h)},z=N,M=function(e,t,a,n){var l=t.width,r=t.height,i=t.margin,s=t.zoom,_={top:r*i.top,bottom:r*i.bottom,right:l*i.right,left:l*i.left},d=l-_.left-_.right,u=r-_.top-_.bottom;e=Object(m.m)(e);var f=Object(m.l)().domain([Object(m.h)(a,(function(e){return new Date(e[z.column.year]+"")})),Object(m.g)(a,(function(e){return new Date(e[z.column.year]+"")}))]).range([0,d]),h=Object(m.j)().domain([0,1]).range([u,0]),p=Array.from(Object(m.e)(a,(function(e){return e.unit_name})),(function(e){var t=Object(o.a)(e,2);return{key:t[0],value:t[1]}})),b=Object(m.k)().domain(p.map((function(e){return e.key}))).range(v);!function(e,t){var a=t.line_color_scale,n=t.margin,l=void 0===n?{left:.1,right:.1}:n,r=t.inner_width,i=t.legend_text_fill,c=t.legend_text_font_family,o=t.legend_text_font_size,s=void 0===o?7+.01*r:o,_=e.selectAll(".line_chart_legend_table").data([null]),d=_.enter().append("div").merge(_).attr("class","line_chart_legend_table").style("position","relative").style("top","0").style("left","".concat(100*l.left,"%")).style("width","".concat(100*(1-l.left-l.right),"%")),u=d.selectAll("ul").data([null]).enter().append("ul").merge(d.select("ul")).style("display","flex").style("justify-content","flex-start").style("flex-wrap","wrap").selectAll("li").data(a.domain(),(function(e){return e})),f=u.enter().append("li").merge(u).style("margin","5px").style("display","flex").attr("class","legend_item").text((function(e){return e})).style("font-size",s+"px").style("font-family",c).style("fill",i).style("padding","5px").style("border-bottom",(function(e){return"3px solid ".concat(a(e))}));u.exit().remove(),f.merge(u).on("mouseover",(function(e,t){Object(m.n)("svg path.table-line-chart:not(.clicked)").transition().duration(500).style("opacity",.2),Object(m.m)("svg path.".concat(t.replace(/\s/g,""))).transition().duration(500).style("opacity",1),Object(m.m)(this).style("cursor","pointer")})).on("mouseout",(function(e,t){Object(m.m)(".tr_figure").selectAll("li.clicked").nodes().length<1?Object(m.n)("path.table-line-chart:not(.clicked)").transition().duration(500).style("opacity",1):Object(m.n)("path.table-line-chart:not(.clicked)").transition().duration(500).style("opacity",.2)})).on("click",(function(e,t){var a=Object(m.m)(this).attr("class");if(a.includes("clicked")){var n,l=Object(m.m)(".line_chart_legend_table").selectAll("li.clicked").nodes().length.selectAll("li.clicked");1===l?(n=(n=Object(m.m)("svg path.".concat(t.replace(/\s/g,""))).attr("class")).replace(" clicked",""),a=a.replace(" clicked",""),Object(m.n)("svg path.table-line-chart").attr("class",(function(e){return"table-line-chart  ".concat(e[0].replace(/\s/g,""))})).transition().duration(1e3).style("opacity",1),Object(m.n)(".tr_figure li.legend_item").attr("class",a).transition().duration(500).style("opacity",1)):l>1?(n=(n=Object(m.m)("svg path.".concat(t.replace(/\s/g,""))).attr("class")).replace(" clicked",""),a=a.replace(" clicked",""),Object(m.m)("svg path.".concat(t.replace(/\s/g,""))).attr("class",n).transition().duration(1e3).style("opacity","0.2"),Object(m.m)(this).attr("class",a).transition().duration(500).style("opacity",.4)):(n=(n=Object(m.m)("svg path.".concat(t.replace(/\s/g,""))).attr("class")).replace(" clicked",""),a=a.replace(" clicked",""),Object(m.m)("svg path.table-line-chart").attr("class",n).transition().duration(1e3).style("opacity",1),Object(m.m)(".tr_figure li.legend_item").attr("class",a).transition().duration(500).style("opacity",1))}else 0===(l=Object(m.m)(".tr_figure").selectAll("li.clicked").nodes().length)?(n=Object(m.m)("svg path.".concat(t.replace(/\s/g,""))).attr("class"),n="".concat(n," clicked"),a="".concat(a," clicked"),Object(m.m)("svg path.".concat(t.replace(/\s/g,""))).attr("class",n).style("opacity",1),Object(m.m)(this).attr("class",a).style("opacity",1),Object(m.n)("svg path.table-line-chart:not(.clicked)").transition().duration(500).style("opacity",.2),Object(m.n)(".tr_figure li.legend_item:not(.clicked)").transition().duration(500).style("opacity",.4)):l>0&&(n=Object(m.m)("svg path.".concat(t.replace(/\s/g,""))).attr("class"),n="".concat(n," clicked"),a="".concat(a," clicked"),Object(m.m)("svg path.".concat(t.replace(/\s/g,""))).attr("class",n).style("opacity",1),Object(m.m)(this).attr("class",a).style("opacity",1))}))}(e,Object.assign({},F,{line_color_scale:b,inner_width:d,inner_height:u,margin:i,position_left:_.left}));var g=e.selectAll("svg").data([null]),x=(g=g.enter().append("svg").merge(g).attr("width",l-20).attr("height",r).style("background-color",y)).selectAll(".grouped_element").data([null]);x=x.enter().append("g").attr("class","grouped_element").merge(x).attr("transform","translate("+_.left+" ,"+_.top+")"),C(x,Object.assign({},F,{y_scale:h,inner_width:d,inner_height:u}));var E=Object(c.a)(new Set(a.map((function(e){return e[z.column.year]+""}))));(E=E.map((function(e){return new Date(e)}))).length>8&&(E=E.length%2===0?E.filter((function(e,t){return t%2!==0})):E.filter((function(e,t){return t%2===0}))),function(e,t){var a=t.x_scale,n=t.inner_width,l=t.inner_height,r=t.x_axis_tick_values,i=t.x_axis_label,c=void 0===i?"":i,o=t.x_axis_label_fill,s=void 0===o?"":o,_=t.x_axis_label_offset,d=void 0===_?0:_,u=t.x_axis_label_font_size,f=void 0===u?0:u,h=t.x_axis_label_font_family,v=void 0===h?"arial":h,p=t.x_axis_tick_font_size,y=void 0===p?10+.015*n+"px":p,b=t.x_axis_tick_distance_from_axis,g=void 0===b?5+.08*l:b,k=t.x_axis_tick_font_fill,x=t.x_axis_tick_line_stroke,E=t.x_axis_domain_line_stroke,j=Object(m.a)(a).tickValues(r).tickFormat(Object(m.o)("%Y")),O=e.selectAll(".x-axis").data([null]);(O=O.enter().append("g").attr("class","x-axis").merge(O).attr("transform","translate(0,".concat(l,")"))).call(j),O.selectAll(".tick text").style("font-size",y).attr("fill",k).attr("y",g),O.selectAll(".tick line").attr("stroke",x),O.select(".domain").attr("stroke",E);var w=O.selectAll(".axis-label").data([null]);w.enter().append("text").attr("class","axis-label").merge(w).attr("fill",s).text(c).attr("x",n/2).attr("y",d).style("font-size",f+"px").style("font-family",v)}(x,Object.assign({},F,{x_scale:f,inner_width:d,inner_height:u,x_axis_tick_values:E}));var j=Object(m.f)().x((function(e){return f(new Date(e[z.column.year]+""))})).y((function(e){return h(e[z.column.variable])})),O="Skjulm\xe5lniv\xe5"===document.querySelector(".dropdown_ul .dd-level").innerHTML.replace(/\s/g,"")?"visible":"hidden",w=k,N=x.selectAll("rect.level");N=N.data(n).enter().append("rect").merge(N).attr("class","level").attr("x",0).attr("y",(function(e){return h(e.start)})).attr("height",(function(e){return u-h(e.start-e.end)})).attr("width",d).attr("fill",(function(e){return w[e.level]})).style("opacity","0.2").style("visibility",O);var S=x.selectAll(".table-line-chart").data(Object(m.e)(a,(function(e){return e[z.column.treatment_unit]})));if(S.exit().transition().style("opacity",0).remove(),S=S.enter().append("path").merge(S).attr("class",(function(e){return"table-line-chart  ".concat(e[0].replace(/\s/g,""))})).attr("d",(function(e){return j(e[1])})).attr("stroke",(function(e){return b(e[0])})).style("stroke-width",3).style("stroke-linejoin","round").style("stroke-linecap","round").attr("fill","none").style("mix-blend-mode","multiply"),"Zoomut"===s.replace(/\s/g,"")){var A,M,H=Object(m.h)(a,(function(e){return e[z.column.variable]})),D=Object(m.g)(a,(function(e){return e[z.column.variable]})),L=.2*(D-H);A=(H=Math.floor(100*(H-L))/100)<0?0:H,M=(D=Math.ceil(100*(D+L))/100)>1?1:D,h=Object(m.j)().domain([A,M]).range([u,0]);var V=M-A<.06?",.1%":",.0%";S.data(Object(m.e)(a,(function(e){return e[z.column.treatment_unit]}))).enter().append("path").merge(S).transition().delay(1e3).duration(1e3).attr("d",(function(e){return j(e[1])})),N.data(n).enter().append("rect").merge(N).transition().delay(1e3).duration(1e3).attr("y",(function(e){var t;return t=h(e.start)>u?h.invert(u):h(e.start)<0?h.invert(0):e.start,h(t)})).attr("height",(function(e){var t,a;return a=h(e.start)>u?h.invert(u):h(e.start)<0?h.invert(0):e.start,h(e.end)<=u&&h(e.end)>=0?t=e.end:h(e.end)>u?t=h.invert(u):h(e.end)<0&&(t=h.invert(0)),h(t)-h(a)})),C(x,Object.assign({},F,{y_scale:h,inner_width:d,inner_height:u,transition:!0,delay_val:1e3,duration_val:1e3,axis_label_format:V}))}},H=N,D=function(e){0===this[H.column.level_direction]?"high"===e.level?(e.start=this[H.column.level_green],e.end=0):"mid"===e.level?(e.start=this[H.column.level_yellow],e.end=this[H.column.level_green]):(e.start=1,e.end=this[H.column.level_yellow]):1===this[H.column.level_direction]&&("high"===e.level?(e.start=1,e.end=this[H.column.level_green]):"mid"===e.level?(e.start=this[H.column.level_green],e.end=this[H.column.level_yellow]):(e.start=this[H.column.level_yellow],e.end=0))};var L=function(e){var t=e.colspan,a=void 0===t?3:t,r=e.data,i=e.figure_class,c=e.update_selected_row,s=Object(n.useRef)();r.agg_data.filtered_by_year.some((function(e){return"Nasjonalt"===e.unit_name}))||(r.agg_data.filtered_by_year.push(r.agg_data.nation.filtered_by_year[0]),Array.prototype.push.apply(r.agg_data.filtered_by_unit,r.agg_data.nation.filtered_by_unit));var _=Object(n.useState)("line"),d=Object(o.a)(_,2),m=d[0],v=d[1],p=Object(n.useState)("Zoom ut"),y=Object(o.a)(p,2),b=y[0],g=y[1],k=Object(n.useState)("Vis m\xe5lniv\xe5"),x=Object(o.a)(k,2),E=x[0],j=x[1],O=Object(n.useState)(null),w=Object(o.a)(O,2),N=w[0],S=w[1];return Object(n.useEffect)((function(){var e={};e.width=s.current.clientWidth,e.height=.5*e.width,e.margin={top:.05,bottom:.1,right:.15,left:.2},e.zoom=b;var t=[{level:"high"},{level:"mid"},{level:"low"}];if(t.forEach(D,r.description[0]),"bar"===m){for(var a=s.current.childElementCount,n=0;n<a;n++)s.current.removeChild(s.current.children[0]);A(s.current,e,r.agg_data.filtered_by_year,t)}else if("line"===m){for(var l=s.current.childElementCount,i=0;i<l;i++)s.current.removeChild(s.current.children[0]);e.margin={top:.05,bottom:.2,right:.15,left:.05},M(s.current,e,r.agg_data.filtered_by_unit,t)}}),[r,m,b]),l.a.createElement("tr",{className:i},l.a.createElement("td",{colSpan:a},l.a.createElement("div",{className:"tr_figure"},l.a.createElement("div",{className:"tr_buttons_container"},l.a.createElement(f,{show_level:E,update_show_level:j,zoom:b,update_zoom:g,remove_tf:N,update_remove_tf:S,svg_container:s,update_selected_row:c}),l.a.createElement(u,{chart_type:m,update_chart_type:v})),l.a.createElement("div",{ref:s,style:{textAlign:"center"}}),l.a.createElement(h,{description_text:r.description[0].long_description}))))},V=N;var B=function(e){var t=e.mid_text,a=void 0===t?"av":t,n=e.data,r=e.treatment_unit_name,i=void 0===r?[]:r,c=e.med_field_class,o=void 0===c?"":c,s=e.show_level_filter,u=void 0===s?"":s,m=e.selected_row,f=e.update_selected_row,h=e.colspan,v=n.description[0],p=v.title,y=v.short_description,b=0===v[V.column.level_direction]?"<":">",g=v[V.column.level_green],k=null!==g?"H\xf8y m\xe5loppn\xe5else: ".concat(b," ").concat(100*g,"%"):"",x="".concat(v[V.column.id]," \n    ").concat(v[V.column.registry_short_name]),E=i.map((function(e,t){var r=n.agg_data.filtered_by_year.filter((function(t){return t[V.column.treatment_unit]===e}));if(r.length<1)return l.a.createElement("td",{key:"".concat(v[V.column.id],"_").concat(e,"_").concat(t,"_su"),className:"selected_unit"});var i=v[V.column.indicator_type]===V.indicator_type.andel.db?"".concat(Math.round(100*r[0][V.column.variable]),"%"):"".concat(r[0][V.column.variable]),c=r[0][V.column.denominator],o=Math.round(r[0][V.column.variable]*c),s="H"===r[0][V.column.achieved_level]?"fa fa-fas fa-circle":"M"===r[0][V.column.achieved_level]?"fa fa-fas fa-adjust":"L"===r[0][V.column.achieved_level]?"fa fa-circle-o":"",d=r[0][V.column.achieved_level]!==u&&null!==u?"filtered_level":"";return l.a.createElement(_,{key:"".concat(v[V.column.id],"_").concat(e,"_").concat(t,"_su"),td_class:"selected_unit ".concat(d),indicator_value:i,icon_class:s,share_of_totla:o,mid_text:a,total:c})})),j=v[V.column.indicator_type]===V.indicator_type.andel.db?"".concat(Math.round(100*n.agg_data.nation.filtered_by_year[0][V.column.variable]),"%"):"".concat(n.agg_data.nation.filtered_by_year[0][V.column.variable]),O=n.agg_data.nation.filtered_by_year[0][V.column.denominator],w=Math.round(n.agg_data.nation.filtered_by_year[0][V.column.variable]*O),N="H"===n.agg_data.nation.filtered_by_year[0][V.column.achieved_level]?"fa fa-fas fa-circle":"M"===n.agg_data.nation.filtered_by_year[0][V.column.achieved_level]?"fa fa-fas fa-adjust":"L"===n.agg_data.nation.filtered_by_year[0][V.column.achieved_level]?"fa fa-circle-o":"",S=n.agg_data.nation.filtered_by_year[0][V.column.achieved_level]!==u&&null!==u?"filtered_level":"",A=m===v[V.column.id]?l.a.createElement(L,{colspan:h,data:n,figure_class:o,update_selected_row:f}):null;return l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",{onClick:function(){m===v[V.column.id]?f(""):f(v[V.column.id])},id:"".concat(x),className:"".concat(x," ").concat(o," indicator")},l.a.createElement(d,{title:p,short_description:y,high_achivment_text:k}),E,l.a.createElement(_,{key:"",td_class:"nationally ".concat(S),indicator_value:j,icon_class:N,share_of_totla:w,mid_text:a,total:O})),A)};var I=function(e){var t=e.register_name,a=void 0===t?"Nasjonalt hoftebruddregister":t,n=e.colspan,r=void 0===n?2:n,i=e.tr_register_name_class,c=void 0===i?"register-row":i;return l.a.createElement("tr",{className:c},l.a.createElement("td",{colSpan:r},l.a.createElement("h3",{className:"reg-name"},a)))},R=N;var Z=function(e){var t=e.register_sname,a=void 0===t?"hjerte":t,n=e.colspan,r=void 0===n?4:n,i=e.tr_register_name_class,o=void 0===i?"register-row":i,s=e.data,_=e.treatment_unit_name,d=e.med_field_filter,u=e.show_level_filter,m=e.selected_row,f=e.update_selected_row,h=d.includes(a)?"":"filter_med_field",v=Object(c.a)(new Set(s.description.map((function(e){return e[R.column.registry_full_name]})))),p=Object(c.a)(new Set(s.agg_data.filtered_by_year.map((function(e){return e[R.column.indicator_id]})))).map((function(e){var t={},a={};t.filtered_by_year=s.agg_data.filtered_by_year.filter((function(t){return t[R.column.indicator_id]===e})),t.filtered_by_unit=s.agg_data.filtered_by_unit.filter((function(t){return t[R.column.indicator_id]===e})),a.filtered_by_year=s.agg_data.nation.filtered_by_year.filter((function(t){return t[R.column.indicator_id]===e}));var n=s.description.filter((function(t){return t[R.column.id]===e}));return a.filtered_by_unit=s.agg_data.nation.filtered_by_unit.filter((function(t){return t[R.column.indicator_id]===e})),t.nation=a,l.a.createElement(B,{data:{agg_data:t,description:n},key:e,treatment_unit_name:_,med_field_class:h,show_level_filter:u,colspan:r,selected_row:m,update_selected_row:f})}));return l.a.createElement(l.a.Fragment,null,l.a.createElement(I,{register_name:v,colspan:r,tr_register_name_class:"".concat(o," ").concat(a," ").concat(h)}),p)},q=N,T=function(e,t){var a=t.selected_unit,n=t.selected_year,l=null!==a?e.filter((function(e){return a.includes(e[q.column.treatment_unit])})):e,r=null!==n?l.filter((function(e){return e[q.column.year]===n})):l;return{filtered_by_unit:l,filtered_by_year:r}},K=O;var J=function(e){var t=e.colspan,a=void 0===t?4:t,n=e.data,r=e.treatment_unit_name,i=e.treatment_year,c=e.med_field_filter,o=e.show_level_filter,s=e.selected_row,_=e.update_selected_row;r.length<1&&(n.agg_data.filtered_by_year=n.agg_data.nation.filtered_by_year,n.agg_data.filtered_by_unit=n.agg_data.nation.filtered_by_unit);var d=K.map((function(e){var t=this;return e.key.map((function(e){var d;if(t.includes(e))d=null;else{t.push(e);var u=function(e,t){var a=e.description.filter((function(e){return e[N.column.registry_short_name]===t})),n=a.map((function(e){return e[N.column.id]})),l={};l.filtered_by_unit=e.agg_data.filtered_by_unit.filter((function(e){return n.includes(e[N.column.indicator_id])})),l.filtered_by_year=e.agg_data.filtered_by_year.filter((function(e){return n.includes(e[N.column.indicator_id])}));var r={};return r.filtered_by_unit=e.agg_data.nation.filtered_by_unit.filter((function(e){return n.includes(e[N.column.indicator_id])})),r.filtered_by_year=e.agg_data.nation.filtered_by_year.filter((function(e){return n.includes(e[N.column.indicator_id])})),l.nation=r,{agg_data:l,description:a}}(n,e);u.agg_data.filtered_by_year.length>0&&(d=l.a.createElement(Z,{key:"".concat(e),register_sname:e,data:u,colspan:a,treatment_unit_name:r,treatment_year:i,med_field_filter:c,show_level_filter:o,selected_row:s,update_selected_row:_}))}return d}))}),[]);return l.a.createElement("tbody",null,d)};var U=function(e){var t=e.treatment_unit_name,a=void 0===t?[]:t,n=e.treatment_year,r=void 0===n?2019:n,i=e.data,c=e.colspan,o=e.med_field_filter,_=e.show_level_filter,d=e.selected_row,u=e.update_selected_row,m=e.selection_bar_height,f=e.legend_height;return l.a.createElement("table",null,l.a.createElement(s,{col_nr:c,treatment_unit_name:a,selection_bar_height:m,legend_height:f}),l.a.createElement(J,{colspan:c,data:i,treatment_unit_name:a,treatment_year:r,med_field_filter:o,show_level_filter:_,selected_row:d,update_selected_row:u}))};var Y=function(e){var t=e.level,a=void 0===t?"H\xf8y m\xe5loppn\xe5else":t,n=e.icon_class,r=void 0===n?"fa fa-fas fa-circle":n,i=e.legend_btn_class,c=void 0===i?"high":i,o=e.update_show_level_filter,s=e.show_level_filter,_=c[0].toUpperCase(),d=_===s?"checked":"";return l.a.createElement("button",{className:"".concat(c," ").concat(d),onClick:function(){var e;o(s===(e=_)?null:e)}},l.a.createElement("i",{className:"".concat(r," legend-icon")}," "),l.a.createElement("div",{className:"legend-text"},a))},G=function(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),l=a[0],r=a[1];return Object(n.useEffect)((function(){var t=e.current,a=new ResizeObserver((function(e){e.forEach((function(e){r(e)}))}));return a.observe(t),function(){a.unobserve(t)}}),[e]),l};var W=function(e){var t=e.app_text,a=void 0===t?{indicators:{high:{text:"H\xf8y m\xe5loppn\xe5else",icon:"fa fa-fas fa-circle"}}}:t,r=e.update_show_level_filter,i=e.show_level_filter,c=e.selection_bar_height,o=e.update_legend_height,s=Object(n.useRef)(),_=G(s);Object(n.useEffect)((function(){var e=_?_.target.offsetHeight:"";o(e)}),[_,s,o]);var d=Object.keys(a.indicators).map((function(e){return l.a.createElement(Y,{update_show_level_filter:r,show_level_filter:i,key:"".concat(e,"_legend_btn"),icon_class:this[e].icon,level:this[e].text,legend_btn_class:e})}),a.indicators),u={top:"".concat(c,"px")};return l.a.createElement("div",{className:"table_legend",ref:s,style:u},d)};var P=function(e){var t=e.med_field_name,a=void 0===t?"Hjerte- og karsykdommer":t,n=e.nr_indicators,r=void 0===n?10:n,i=e.update_med_field_filter,c=e.update_clicked_med_field,o=e.clicked_med_field===a.react_key?"checked":"";return l.a.createElement("li",{className:"med_field ".concat(o," med_field_").concat(a.react_key)},l.a.createElement("button",{className:"med_field_text",onClick:function(){return c(a.react_key),void i(a.key)}},a.name.toUpperCase(),l.a.createElement("div",{className:"med_field_nrind"},r)))};var Q=function(e){var t=e.med_field,a=void 0===t?[]:t,n=e.ind_per_reg,r=e.update_med_field_filter,i=e.clicked_med_field,c=e.update_clicked_med_field,o=e.selection_bar_height,s=e.legend_height,_=n.map((function(e){return e.registry_name})),d=a.map((function(e){var t=n.filter((function(t){return e.key.includes(t.registry_name)})).reduce((function(e,t){return e+t.number_ind}),0);return l.a.createElement(P,{key:e.react_key,med_field_name:e,nr_indicators:t,update_med_field_filter:r,clicked_med_field:i,update_clicked_med_field:c})})),u=n.reduce((function(e,t){return e+t.number_ind}),0),m="all"===i?"checked":"",f={top:"".concat(s+o,"px")};return l.a.createElement("ul",{style:f,className:"med_field_list"},l.a.createElement("li",{className:"med_field_title ".concat(m)},l.a.createElement("button",{onClick:function(){return c("all"),void r(_)}},l.a.createElement("h4",{className:"med_field_text"},"ALLE INDIKATORER",l.a.createElement("div",{className:"med_field_nrind"},u)))),d)},X=function(e){var t=e.data,a=e.med_field,r=e.app_text,i=e.ind_per_reg,c=e.update_ind_per_reg,s=e.treatment_units,_=e.selected_year,d=e.colspan,u=e.selected_row,m=e.update_selected_row,f=e.selection_bar_height,h=e.legend_height,v=e.update_legend_height,p=i.map((function(e){return e.registry_name})),y=Object(n.useState)(null),b=Object(o.a)(y,2),g=b[0],k=b[1],x=Object(n.useState)(p),E=Object(o.a)(x,2),j=E[0],O=E[1],w=Object(n.useState)("all"),N=Object(o.a)(w,2),S=N[0],A=N[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(W,{app_text:r,update_show_level_filter:k,show_level_filter:g,selected_row:u,update_selected_row:m,selection_bar_height:f,update_legend_height:v}),l.a.createElement("div",{className:"content_container"},l.a.createElement("div",{className:"med_field_container"},l.a.createElement(Q,{ind_per_reg:i,med_field:a,update_med_field_filter:O,clicked_med_field:S,update_clicked_med_field:A,selected_row:u,update_selected_row:m,selection_bar_height:f,legend_height:h})),l.a.createElement("div",{className:"main_table_container"},l.a.createElement(U,{data:t,treatment_unit_name:s,treatment_year:_,update_ind_per_reg:c,ind_per_reg:i,colspan:d,med_field_filter:j,show_level_filter:g,selected_row:u,update_selected_row:m,selection_bar_height:f,legend_height:h}))))},$=function(){var e={fill:"#1d1d1b"},t={fill:"#575756"};return l.a.createElement("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",width:"100%",height:"100%",viewBox:"-6 -4 110 40"},l.a.createElement("title",null,"SKDE_sort"),l.a.createElement("path",{className:"cls-1",style:e,d:"M350.94,285.45a3.55,3.55,0,1,1-3.55-3.55,3.55,3.55,0,0,1,3.55,3.55",transform:"translate(-333.03 -281.9)"}),l.a.createElement("path",{className:"cls-2",style:t,d:"M350.94,296.26a3.55,3.55,0,1,1-3.55-3.55,3.55,3.55,0,0,1,3.55,3.55",transform:"translate(-333.03 -281.9)"}),l.a.createElement("path",{className:"cls-2",style:t,d:"M340.12,296.26a3.55,3.55,0,1,1-3.54-3.55,3.55,3.55,0,0,1,3.54,3.55",transform:"translate(-333.03 -281.9)"}),l.a.createElement("path",{className:"cls-2",style:t,d:"M361.76,296.26a3.54,3.54,0,1,1-3.54-3.55,3.54,3.54,0,0,1,3.54,3.55",transform:"translate(-333.03 -281.9)"}),l.a.createElement("path",{className:"cls-2",style:t,d:"M350.94,307.08a3.55,3.55,0,1,1-3.55-3.54,3.55,3.55,0,0,1,3.55,3.54",transform:"translate(-333.03 -281.9)"}),l.a.createElement("path",{className:"cls-1",style:e,d:"M377.82,292.62a11.46,11.46,0,0,0-4-1c-1.38,0-2.27.5-2.27,1.27,0,.59.37.94,1.47,\r 1.46a22.38,22.38,0,0,1,4.64,2.66,3.29,3.29,0,0,1,1,2.46c0,2.47-2,3.91-5.43,3.91a12.3,\r 12.3,0,0,1-1.38-.09,10.29,10.29,0,0,1-3.23-1l-1-.41,1.24-2.43a15.87,15.87,0,0,0,\r 2.2,1,7.86,7.86,0,0,0,2.23.4c1.36,0,2.25-.54,\r 2.25-1.38,0-.58-.36-1-1.36-1.48l-2.39-1.21c-2.74-1.4-3.59-2.32-3.59-3.82a3.48,\r 3.48,0,0,1,.61-1.93,4.33,4.33,0,0,1,1.15-1,6.53,6.53,0,0,1,3.89-.92,\r 11.14,11.14,0,0,1,2.9.36,14.85,14.85,0,0,1,2.21.79Z",transform:"translate(-333.03 -281.9)"}),l.a.createElement("path",{className:"cls-1",style:e,d:"M388.19,303.13l-5.09-6.56v6.56h-2.91V289.34h2.91v6.44l4.79-6.44h3.36L386,296.05l5.53,7.08Z",transform:"translate(-333.03 -281.9)"}),l.a.createElement("path",{className:"cls-1",style:e,d:"M403.34,301.1a7.22,7.22,0,0,1-5.58,2h-5.09V289.34h5.11c2.61,0,4.24.59,5.6,2a7.1,7.1,\r 0,0,1,1.86,4.82A7.21,7.21,0,0,1,403.34,301.1Zm-2.53-8.62a5.38,5.38,0,0,\r 0-3.3-.82h-2.09v9.15h2.09c3.13,0,4.89-1.65,4.89-4.6A4.68,4.68,0,0,0,400.81,292.48Z",transform:"translate(-333.03 -281.9)"}),l.a.createElement("path",{className:"cls-1",style:e,d:"M406.31,303.13V289.34h11v2.24h-7.54V295h6.17v2.24h-6.17v3.67h7.89v2.24Z",transform:"translate(-333.03 -281.9)"}))},ee=function(){return l.a.createElement("p",{className:"header_text"},"Her f\xe5r du en samlet oversikt over kvalitetsindikatorer fra medisinske kvalitetsregistre tilknyttet hver helseregion, helseforetak og hvert enkelt sykehus. I tillegg til \xe5 se alle kvalitetsindikatorer for hvert enkelt sykehus kan du sortere p\xe5 ulike fagomr\xe5der.")},te=function(){return l.a.createElement("div",{style:{backgroundImage:"linear-gradient(-270deg, #A2CFD6 0%, #7EBEC7 100%)",padding:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center",color:"#2D3034"}},l.a.createElement("div",{style:{margin:"1rem",flex:1,opacity:"0.3"}},l.a.createElement($,null)),l.a.createElement("div",{style:{margin:"1rem 2rem",flex:4,textAlign:"justify",fontSize:"1.3rem",lineHeight:"1.5"}},l.a.createElement(ee,null)))},ae=a(3),ne=a(16);var le=function(e){var t=e.opts,a=void 0===t?[]:t,n=e.select_className,r=void 0===n?"pick_treatment_unit":n,i=e.placeholder,c=void 0===i?l.a.createElement("div",null,l.a.createElement("i",{className:"fas fa-search"})," S\xf8k etter behandlingsenheter "):i,o=e.update_tu,s=e.treatment_unit,_=a,d={control:function(e,t){return Object(ae.a)(Object(ae.a)({},e),{},{width:"100%",backgroundColor:"#00263d",boxShadow:(t.isFocused,null),fontSize:"1rem",border:"none",borderRadius:(t.isFocused,0),borderBottom:t.isFocused?"3px solid #7ebec7":(t.isSelected,"3px solid #EEF6F7"),cursor:"text"})},input:function(e){return Object(ae.a)(Object(ae.a)({},e),{},{color:"#EEF6F7",paddingLeft:"1.3rem"})},multiValue:function(e){return Object(ae.a)(Object(ae.a)({},e),{},{color:"#00263d",backgroundColor:"#EEF6F7"})},placeholder:function(e){return Object(ae.a)(Object(ae.a)({},e),{},{color:"#EEF6F7",fontSize:"1.2rem"})},crossIcon:function(e){return Object(ae.a)(Object(ae.a)({},e),{},{color:"white"})},dropdownIndicator:function(e){return Object(ae.a)(Object(ae.a)({},e),{},{display:"none"})},indicatorSeparator:function(e){return Object(ae.a)(Object(ae.a)({},e),{},{display:"none"})},menu:function(e){return Object(ae.a)(Object(ae.a)({},e),{},{zIndex:3})},option:function(e){return Object(ae.a)({},e)}},u=s.map((function(e){return{value:e,label:e}}));return l.a.createElement("form",null,l.a.createElement(ne.a,{className:r,options:_,placeholder:c,closeMenuOnSelect:!0,value:u,openMenuOnClick:!1,isSearchable:!0,isMulti:!0,onChange:function(e){return function(e){var t=null!==e?e.map((function(e){return e.value})):[];o(t)}(e)},styles:d,menuIsOpen:s.length<j.tu_list.max_nr_tu&&void 0}))};var re=function(e){var t=e.opts,a=void 0===t?[]:t,n=e.select_className,r=void 0===n?"pick_year":n,i=e.update_year,c=a.map((function(e){return{value:e,label:e}})),o={control:function(e,t){return Object(ae.a)(Object(ae.a)({},e),{},{width:"100%",backgroundColor:"#00263d",boxShadow:null,fontSize:"1rem",border:t.isFocused?"3px solid #7ebec7":(t.isSelected,"3px solid #EEF6F7"),minHeight:"2rem",cursor:"pointer"})},input:function(e){return Object(ae.a)(Object(ae.a)({},e),{},{color:"#EEF6F7"})},singleValue:function(e){return Object(ae.a)(Object(ae.a)({},e),{},{color:"#EEF6F7"})},menu:function(e){return Object(ae.a)(Object(ae.a)({},e),{},{zIndex:3})},option:function(e){return Object(ae.a)({},e)}};return l.a.createElement("form",null,l.a.createElement(ne.a,{className:r,onChange:function(e){return function(e){i(e.value)}(e)},options:c,defaultValue:c[0],isSearchable:!0,styles:o}))},ie=function(e){return l.a.createElement("h2",{className:"tu_list_header"},"".concat(j.tu_list.header_text," (maks ").concat(j.tu_list.max_nr_tu,")"))},ce=function(e){var t=e.tu_names,a=e.treatment_units,n=e.update_treatment_units,r=function(e,t,a){t.length<j.tu_list.max_nr_tu&&!t.includes(e)?a([].concat(Object(c.a)(t),[e])):t.includes(e)?a(t.filter((function(t){return t!==e}))):alert("maks ".concat(j.tu_list.max_nr_tu," behandlingsenheter!"))},i=t.hf.map((function(e){var t=e.hospital.map((function(e){var t=a.includes(e)?{transform:"scale(1.05,1.1)",color:"#08418e"}:{};return l.a.createElement("button",{key:"hospital_".concat(e),className:"tu_list_hospital_btn",style:t,onClick:function(){return r(e,a,n)}},e)})),i=a.includes(e.hf)?{transform:"scale(1.05,1.1)",color:"#08418e"}:{};return l.a.createElement("div",{key:"hf_hospital_".concat(e.hf),className:"tu_list_hf"},l.a.createElement("div",{className:"tu_list_hf_btn_constainer"},l.a.createElement("button",{style:i,className:"tu_list_hf_btn",onClick:function(){return r(e.hf,a,n)}},e.hf_full)),l.a.createElement("div",{className:"tu_list_hospital"},t))}));return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"tu_list_rhf"},l.a.createElement("h3",{className:"tu_list_rhf_header"},t.rhf),l.a.createElement("div",{className:"tu_list_rhf_content"},l.a.createElement("div",{className:"tu_list_hfs_in_rhf"},i))))},oe=function(e){var t=e.tu_structure,a=e.treatment_units,r=e.update_treatment_units,i=Object(n.useState)("none"),c=Object(o.a)(i,2),s=c[0],_=c[1],d={display:s},u=t.map((function(e){return l.a.createElement(ce,{key:"rhf_".concat(e.rhf),treatment_units:a,update_treatment_units:r,tu_names:e})}));return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"hospital_list_btn_container"},l.a.createElement("button",{className:"hospital_list_btn",onClick:function(){return _("")}},"Vis alle")),l.a.createElement("div",{style:d,className:"tu_list"},l.a.createElement(ie,null),l.a.createElement("div",{className:"all_tu"},u),l.a.createElement("button",{onClick:function(){return _("none")},className:"tu_list_close_btn"},l.a.createElement("i",{className:"far fa-times-circle"}))))},se=O,_e=w,de=N;var ue=function(e){var t=e.data,a=t.indicator_hf,r=t.indicator_rhf,i=t.indicator_hosp,s=t.indicator_nation,_=t.description,d=Object(n.useState)([]),u=Object(o.a)(d,2),m=u[0],f=u[1],h=Object(n.useState)(2019),v=Object(o.a)(h,2),p=v[0],y=v[1],b=Object(n.useState)(null),g=Object(o.a)(b,2),k=g[0],x=g[1],E=Object(n.useState)(null),j=Object(o.a)(E,2),O=j[0],w=j[1],N=Object(n.useState)(null),S=Object(o.a)(N,2),A=S[0],F=S[1],C=[{label:"Sykehus",options:Object(c.a)(new Set(i.map((function(e){return e.unit_name})))).sort().map((function(e){return{value:e,label:e}}))},{label:"HF",options:Object(c.a)(new Set(a.map((function(e){return e.unit_name})))).sort().map((function(e){return{value:e,label:e}}))},{label:"RHF",options:Object(c.a)(new Set(r.map((function(e){return e.unit_name})))).sort().map((function(e){return{value:e,label:e}}))}],z={selected_unit:m,selected_year:p},M={},H=T(i,z),D=T(a,z),L=T(r,z),V=T(s,{selected_unit:"Nasjonalt",selected_year:p}),B=Object(c.a)(new Set(H.filtered_by_year.map((function(e){return e[de.column.treatment_unit]})))).sort(),I=Object(c.a)(new Set(D.filtered_by_year.map((function(e){return e[de.column.treatment_unit]})))).sort(),R=Object(c.a)(new Set(L.filtered_by_year.map((function(e){return e[de.column.treatment_unit]})))).sort(),Z=B.concat(I,R),q=Z.length+2;M.nation=V,M.filtered_by_unit=H.filtered_by_unit.concat(D.filtered_by_unit,L.filtered_by_unit),M.filtered_by_year=H.filtered_by_year.concat(D.filtered_by_year,L.filtered_by_year);var K,J=Z.length>0?Object(c.a)(new Set(M.filtered_by_year.map((function(e){return e[de.column.indicator_id]})))):Object(c.a)(new Set(M.nation.filtered_by_year.map((function(e){return e[de.column.indicator_id]})))),U=Object(c.a)(new Set(se.flatMap((function(e){return e.key})))).map((function(e){var t=_.filter((function(t){return t[de.column.registry_short_name]===e&&J.includes(t[de.column.id])}));return{registry_name:e,number_ind:t.length,indicators:t}})),Y=((K=t.tu_names).sort((function(e,t){return e.hospital>t.hospital?1:-1})),K.sort((function(e,t){return e.hf_full>t.hf_full?1:-1})),K.sort((function(e,t){return e.rhf>t.rhf?1:-1})),K.reduce((function(e,t){if(0===e.length||e.every((function(e){return e.rhf!==t.rhf}))){var a={rhf:t.rhf,hf:[{hf:t.hf,hf_full:t.hf_full,hospital:[t.hospital]}]};e=[].concat(Object(c.a)(e),[a])}else if(e.filter((function(e){return e.rhf===t.rhf})).map((function(e){return e.hf})).map((function(e){return e.map((function(e){return e.hf}))})).flat().includes(t.hf))e.filter((function(e){return e.rhf===t.rhf}))[0].hf.filter((function(e){return e.hf===t.hf}))[0].hospital.push(t.hospital);else{var n={hf:t.hf,hf_full:t.hf_full,hospital:[t.hospital]};e.filter((function(e){return e.rhf===t.rhf}))[0].hf.push(n)}return e}),[])),W=Object(n.useRef)(),P=G(W);return Object(n.useEffect)((function(){var e=P?P.target.offsetHeight:"";w(e)}),[P,W]),l.a.createElement("div",{className:"app-container"},l.a.createElement(te,null),l.a.createElement("div",{className:"app-body"},l.a.createElement("div",{className:"selection-container",ref:W},l.a.createElement("div",{className:"treatment-unit-selection"},l.a.createElement(le,{opts:C,update_tu:f,treatment_unit:m,selected_row:k,update_selected_row:x}),l.a.createElement(oe,{tu_structure:Y,treatment_units:m,update_treatment_units:f})),l.a.createElement("div",{className:"year-selection"},l.a.createElement(re,{opts:[2019,2018,2017,2016],update_year:y,selected_row:k,update_selected_row:x}))),l.a.createElement(X,{update_selected_year:y,update_treatment_units:f,ind_per_reg:U,treatment_units:Z,selected_year:p,med_field:se,app_text:_e,colspan:q,data:{agg_data:M,description:_},unique_indicators:J,selected_row:k,update_selected_row:x,selection_bar_height:O,legend_height:A,update_legend_height:F})))},me=window.indicator_hosp,fe=window.indicator_hf,he=window.indicator_rhf,ve=window.indicator_nat,pe=window.description,ye=window.tu_names;i.a.render(l.a.createElement(ue,{data:{indicator_hf:fe,indicator_rhf:he,indicator_hosp:me,indicator_nation:ve,tu_names:ye,description:pe}}),document.getElementById("root"))}},[[137,1,2]]]);
//# sourceMappingURL=main.0d2c2a86.chunk.js.map