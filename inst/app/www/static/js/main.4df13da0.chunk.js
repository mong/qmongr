(this.webpackJsonptable=this.webpackJsonptable||[]).push([[0],{123:function(e,t,a){e.exports=a(132)},128:function(e,t,a){},132:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(6),r=a.n(l),c=(a(128),a(3)),o=a(2);var _=function(e){var t=e.col_nr,a=void 0===t?2:t,n=e.indicator_header,l=void 0===n?"Kvalitetsindikator":n,r=e.treatment_unit_name,c=void 0===r?[]:r,o=e.national,_=void 0===o?"Nasjonalt":o,s=2===a?60:3===a?50:40,d=(100-s)/(a-1),u={width:"".concat(s,"%")},m={width:"".concat(d,"%")},f=c.map((function(e){return i.a.createElement("th",{className:"selected_unit",style:m,key:e}," ",e)}));return i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{key:"kvind_header",className:"quality_indicator",style:u},l),f,i.a.createElement("th",{className:"nationally",style:m,key:"nat_header"},_)))};var s=function(e){var t=e.td_class,a=void 0===t?"selected_unit":t,n=e.indicator_value,l=void 0===n?"65%":n,r=e.icon_class,c=void 0===r?"fa fa-circle-o":r,o=e.share_of_totla,_=void 0===o?1500:o,s=e.mid_text,d=void 0===s?"av":s,u=e.total,m=void 0===u?2e3:u;return i.a.createElement("td",{className:a},i.a.createElement("div",{className:"level"},i.a.createElement("h4",null,"".concat(l," "),i.a.createElement("i",{className:c}))),i.a.createElement("div",{className:"summary"},"".concat(_," ").concat(d," ").concat(m)))};var d=function(e){var t=e.title,a=void 0===t?"This is the title":t,n=e.short_description,l=void 0===n?"This is the short description of the app":n,r=e.high_achivment_text,c=void 0===r?"H\xf8y m\xe5loppn\xe5else: > 80%":r;return i.a.createElement("td",{className:"quality_indicator"},i.a.createElement("div",{className:"quality_indicator_name"},i.a.createElement("h1",null,a)),i.a.createElement("div",{className:"qi_long_description"},i.a.createElement("p",null,l)),i.a.createElement("div",{className:"desired_target_level"},i.a.createElement("h4",null,c)))},u=function(e){var t=e.chart_type,a=e.update_chart_type,n=[{class_name_inp:"figure_button figure_button_left",type:"Radio",id:"table_bar",name:"table_figure_button",value:"bar",icon:"fas fa-chart-bar",label:"S\xf8yle",class_name_label:"figure_button_label"},{class_name_inp:"figure_button figure_button_right",type:"Radio",id:"table_line",name:"table_figure_button",value:"line",icon:"fas fa-chart-line",label:"Linje",class_name_label:"figure_button_label"}].map((function(e){return i.a.createElement(i.a.Fragment,{key:e.id},i.a.createElement("input",{className:e.class_name_inp,type:e.type,id:e.id,name:e.name,value:e.value,checked:e.value===t,onChange:function(e){return a(e.target.value)}}),i.a.createElement("label",{className:e.class_name_label,htmlFor:e.id},e.label," ",i.a.createElement("i",{className:e.icon})))}));return i.a.createElement("div",{className:"tr_figure_button"},n)},m=a(1),f=function(e){var t=e.show_level,a=e.update_show_level,l=e.zoom,r=e.update_zoom,c=e.svg_container,_=e.update_selected_row,s=Object(n.useState)("inactive"),d=Object(o.a)(s,2),u=d[0],f=d[1],v=["Vis m\xe5lniv\xe5","Skjul m\xe5lniv\xe5"],y=["Zoom inn","Zoom ut"],p=function(e,t,a){a(t.filter((function(t){return t!==e}))[0])};Object(n.useEffect)((function(){var e="Skjulm\xe5lniv\xe5"===t.replace(/\s/g,"")?"visible":"hidden";Object(m.m)(c.current).selectAll("svg .level").style("visibility",e)}),[c,t]);var g,b=[{label:t,click:function(){return p(t,v,a)},class:"dd-level"},{label:l,click:function(){return p(l,y,r)},class:"dd-zoom"},{label:"Lukk",click:function(){return _("")},class:"dd-close"}].map((function(e){return i.a.createElement("li",{key:e.class},i.a.createElement("div",{className:e.class,onClick:e.click}," ",e.label," "))}));return i.a.createElement("div",{className:"table_dd_menu_container",onMouseLeave:function(){g=setTimeout((function(){f("inactive")}),1e3)},onMouseOver:function(){return clearTimeout(g)}},i.a.createElement("button",{className:"table_dd_button",onClick:function(){return f("")}},i.a.createElement("i",{className:"fas fa-bars","aria-hidden":"true"})),i.a.createElement("div",{id:"table_dd_container",className:"dropdown_container ".concat(u)},i.a.createElement("ul",{className:"dropdown_ul"},b)))},v=function(e){var t=e.description_title,a=void 0===t?"Om kvalitetsindikatoren":t,l=e.description_text,r=void 0===l?"Denne kvalitetsindikatoren er definert som andel pasienter med akutt hoftebrudd som ble operert innen 24 timer etter bruddtidspunktet. ":l,c=Object(n.useState)("inactive"),_=Object(o.a)(c,2),s=_[0],d=_[1];return i.a.createElement("div",{className:"description-container"},i.a.createElement("div",{className:"description_title_container",onClick:function(){return function(e,t){t(""===e?"inactive":"")}(s,d)}},i.a.createElement("h4",null,a),i.a.createElement("i",{className:"fa ".concat(""===s?"fa-angle-up":"fa-angle-down"," ")})),i.a.createElement("p",{className:"description_content ".concat(s)},r))},y=["#4F9A94","#90CAF9","#B0BEC5","#FFE082","#2962FF","#CE93D8","#9C786C","#BCAAA4","#F8BBD0","#9FA8DA","#80DEEA","#A5D6A7","#E6EE9C","#FFAB91","#78909C"],p="#D2D3D4",g="#EEF6F7",b="#2D3034",h="#828586",k={high:"#BFE389",mid:"#F5A623",low:"#F04157"},x={x_axis_label_fill:h,y_axis_label_fill:h,x_axis_label:"",y_axis_label:"",x_axis_label_font_family:"arial",y_axis_label_font_family:"arial",x_axis_tick_font_fill:h,y_axis_tick_font_fill:b,x_axis_tick_line_stroke:p,y_axis_tick_line_stroke:"none",x_axis_domain_line_stroke:"none",y_axis_domain_line_stroke:"none"},j=function(e,t){var a=t.x_scale,n=t.inner_width,i=t.inner_height,l=t.x_axis_label,r=t.x_axis_label_fill,c=t.x_axis_label_offset,o=void 0===c?i/6:c,_=t.x_axis_label_font_size,s=void 0===_?9+.04*n+"px":_,d=t.x_axis_tick_font_size,u=void 0===d?7+.02*n+"px":d,f=t.x_axis_tick_font_fill,v=t.x_axis_tick_line_stroke,y=t.x_axis_tick_number,p=void 0===y?6:y,g=t.x_axis_tick_size,b=void 0===g?i:g,h=t.x_axis_domain_line_stroke,k=t.x_axis_label_font_family,x=t.transition,j=void 0!==x&&x,w=t.delay_val,E=void 0===w?0:w,O=t.duration_val,N=void 0===O?0:O,A=t.axis_label_format,S=void 0===A?",.0%":A,z=Object(m.a)(a).tickSize(-b).ticks(p).tickFormat(Object(m.d)(S)),F=e.selectAll(".x-axis").data([null]);F=F.enter().append("g").attr("class","x-axis").merge(F).attr("transform","translate(0,".concat(i,")")),j?F.transition().delay(E).duration(N).call(z):F.call(z),F.selectAll(".tick text").style("font-size",u).attr("fill",f),F.selectAll(".tick line").attr("stroke",v),F.select(".domain").attr("stroke",h);var C=F.selectAll(".axis-label").data([null]);C.enter().append("text").attr("class","axis-label").merge(C).attr("fill",r).text(l).attr("x",n/2).attr("y",o).style("font-size",s).style("font-family",k)},w=[{react_key:"hjerte",name:"Hjerte- og karsykdommer",key:["ablanor","noric","hjerteinfarkt","hjerneslag","hjertestans","hjertesvikt","hjertekirurgi","norkar"]},{react_key:"kreft",name:"Kreft",key:["barnekreft","brystkreft","gynkreft","lungekreft","lymfoid","melanom","prostata","tarmkreft"]},{react_key:"luft",name:"Luftveier",key:["mek_vent"]},{react_key:"diabetes",name:"Diabetes",key:["diabetes_barn","diabetes_voksne"]},{react_key:"nerve",name:"Nervesystemet",key:["cp","ms","parkinson","norkog"]},{react_key:"muskel",name:"Muskel og skjelett",key:["hofte_barn","hoftebrudd","korsband","ryggkir","leddprotese","nnrr","muskel","nkr_nakke","rygg"]},{react_key:"tarm",name:"Mage og tarm",key:["gastronet","fedmekir","nra","norgast"]},{react_key:"gyn",name:"Gynekologi",key:["gyn_endoskopi","kvinl_inkontinens"]},{react_key:"nyre",name:"Nyre",key:["nyre"]},{react_key:"intensiv",name:"Skade og intensiv",key:["traume","intensiv","nnk"]},{react_key:"rehab",name:"Rehabilitering",key:["nnrr","ryggmargsskade"]},{react_key:"autoimmun",name:"Autoimmune sykdommer",key:["roas","norvas"]},{react_key:"revma",name:"Revmatologi",key:["norartritt","norvas"]},{react_key:"onh",name:"\xd8re-nese-hals",key:["tonsille"]},{react_key:"hud",name:"Hudsykdommer",key:["hisreg"]},{react_key:"psyk",name:"Psykisk helse og rus",key:["kvarus","norspis"]},{react_key:"barn",name:"Barn",key:["cp","hofte_barn","barnekreft","diabetes_barn","ganespalt","nnk"]},{react_key:"annet",name:"Andre",key:["smerte","porfyri"]}],E={menus:{unit:"Velg behandlingssted",year:"\xc5r:"},indicators:{high:{text:"H\xf8y m\xe5loppn\xe5else",icon:"fa fa-fas fa-circle"},moderate:{text:"Moderat m\xe5loppn\xe5else",icon:"fa fa-fas fa-adjust"},low:{text:"Lav m\xe5loppn\xe5else",icon:"fa fa-circle-o"}},table:{main_column:"Kvalitetsindikator",national_column:"Nasjonalt",desired_level:"\xd8nsket m\xe5lniv\xe5"}},O={column:{indicator_id:"ind_id",coverage_id:"dg_id",year:"year",treatment_unit:"unit_name",treatment_unit_level:"unit_level",organisation_number:"orgnr",denominator:"denominator",variable:"var",achieved_level:"level",desired_level:"desired_level",registry_id:"registry_id",registry_short_name:"rname",registry_full_name:"full_name",indicator_title:"title",indicator_name:"name",indicator_type:"type",indicator_measurement_unit:"measure_unit",indicator_short_description:"short_description",indicator_long_description:"long_description",level_green:"level_green",level_yellow:"level_yellow",level_direction:"level_direction",min_indicator_value:"min_value",max_indicator_value:"max_value",min_denominator:"min_denominator",id:"id"},indicator_type:{andel:{db:"andel",full_name:"Andel"},median:{db:"median",full_name:"Median"}},treatment_unit_level:{rhf:"rhf",hf:"hf",hospital:"hospital",nation:"nation"},achieved_level:{high:"H",mod:"M",low:"L"},level_direction:{high:1,low:0},desired_level:{high:"H\xf8yt",low:"Lavt"}},N=O,A=function(e,t,a,n){var i=t.width,l=t.height,r=t.margin,c=t.zoom,o=t.delay_value,_=void 0===o?1e3:o,s=t.duration_value,d=void 0===s?1e3:s,u={top:l*r.top,bottom:l*r.bottom,right:i*r.right,left:i*r.left};e=Object(m.m)(e);var f=i-u.left-u.right,v=l-u.top-u.bottom,y=e.selectAll("svg").data([null]),p=(y=y.enter().append("svg").merge(y).attr("width",i-20).attr("height",l).style("background-color","#EEF6F7").attr("class","table_chart")).selectAll(".grouped_element").data([null]);p=p.enter().append("g").attr("class","grouped_element").merge(p).attr("transform","translate("+u.left+" ,"+u.top+")");var g=Object(m.i)().domain(a.map((function(e){return e[N.column.treatment_unit]}))).range([0,v]).paddingInner(.5).paddingOuter(.5).align(.5);!function(e,t){var a=t.y_scale,n=t.inner_width,i=t.inner_height,l=t.y_axis_label_font_family,r=void 0===l?"arial":l,c=t.y_axis_tick_font_size,o=void 0===c?3+.03*i+"px":c,_=t.y_axis_tick_distance_from_axis,s=void 0===_?.03*n:_,d=t.y_axis_tick_font_fill,u=t.y_axis_tick_line_stroke,f=t.y_axis_domain_line_stroke,v=Object(m.b)(a),y=e.selectAll(".y-axis").data([null]);(y=y.enter().append("g").attr("class","y-axis").merge(y)).call(v).attr("text-anchor","end"),y.selectAll(".tick text").attr("x",-s).style("font-size",o).style("font-family",r).attr("fill",d),y.selectAll(".tick line").attr("stroke",u),y.select(".domain").attr("stroke",f)}(p,Object.assign({},x,{y_scale:g,inner_width:f,inner_height:v,margin_px:u}));var b=Object(m.j)().domain([0,1]).range([0,f]);j(p,Object.assign({},x,{x_scale:b,inner_width:f,inner_height:v,transition:!1}));var h=k,w="Skjulm\xe5lniv\xe5"===document.querySelector(".dropdown_ul .dd-level").innerHTML.replace(/\s/g,"")?"visible":"hidden",E=p.selectAll("rect.level");E=E.data(n).enter().append("rect").merge(E).attr("class","level").attr("y",0).attr("x",(function(e){return b(e.end)})).attr("width",(function(e){return b(e.start-e.end)})).attr("height",v).attr("fill",(function(e){return h[e.level]})).style("opacity","0.2").style("visibility",w);var O=p.selectAll("rect.bars").data(a,(function(e){return e[N.column.treatment_unit]}));if(O.exit().transition().style("opacity",0).remove(),O=O.enter().append("rect").attr("class","bars").merge(O).attr("fill",(function(e){return"Nasjonalt"===e[N.column.treatment_unit]?"#00263D":"#7EBEC7"})).attr("x",0).attr("y",(function(e){return g(e[N.column.treatment_unit])})).attr("height",g.bandwidth).transition().duration(_).attr("width",(function(e){return b(e[N.column.variable])})),"Zoomut"===c.replace(/\s/g,"")){var A,S=Object(m.g)(a,(function(e){return e[N.column.variable]})),z=.2*(.01+S);S=Math.ceil(100*(S+z))/100,b=Object(m.j)().domain([0,S>1?1:S]).range([0,f]),O.merge(O).transition().delay(0).duration(d).attr("width",(function(e){return b(e[N.column.variable])})),E.data(n).merge(E).transition().delay(_).duration(d).attr("x",(function(e){var t;return t=b(e.end)>f?b.invert(f):b(e.end)<0?b.invert(0):e.end,b(t)})).attr("width",(function(e){var t,a;return t=b(e.end)>f?b.invert(f):b(e.end)<0?b.invert(0):e.end,b(e.start)<=f&&b(e.start)>=0?a=e.start:b(e.start)>f?a=b.invert(f):b(e.start)<0&&(a=b.invert(0)),b(a)-b(t)})),A=S<.05?",.1%":",.0%",j(p,Object.assign({},x,{x_scale:b,inner_width:f,inner_height:v,transition:!0,delay_val:_,duration_val:d,axis_label_format:A}))}},S={x_axis_label_fill:b,y_axis_label_fill:b,x_axis_label:"",y_axis_label:"Andel",x_axis_label_font_family:"arial, Helvetica Neue",y_axis_label_font_family:"arial, Helvetica Neue",x_axis_tick_font_fill:h,y_axis_tick_font_fill:h,y_axis_tick_number:6,x_axis_tick_line_stroke:"none",y_axis_tick_line_stroke:p,x_axis_domain_line_stroke:"none",y_axis_domain_line_stroke:"none",legend_text_fill:b,legend_text_font_family:"arial, Helvetica Neue"},z=function(e,t){var a=t.y_scale,n=t.inner_width,i=t.inner_height,l=t.y_axis_label,r=void 0===l?"Y axis":l,c=t.y_axis_label_fill,o=void 0===c?"black":c,_=t.y_axis_label_offset,s=void 0===_?1.15*n:_,d=t.y_axis_label_font_size,u=void 0===d?7+.02*n+"px":d,f=t.y_axis_label_font_family,v=void 0===f?"arial":f,y=t.y_axis_tick_font_size,p=void 0===y?8+.02*i+"px":y,g=t.y_axis_tick_number,b=t.y_axis_tick_font_fill,h=t.y_axis_tick_line_stroke,k=t.y_axis_tick_size,x=void 0===k?n:k,j=t.y_axis_domain_line_stroke,w=t.transition,E=void 0!==w&&w,O=t.delay_val,N=void 0===O?0:O,A=t.duration_val,S=void 0===A?0:A,z=t.axis_label_format,F=void 0===z?",.0%":z,C=Object(m.c)(a).ticks(g).tickSize(x).tickFormat(Object(m.d)(F)),M=e.selectAll(".y-axis").data([null]);M=M.enter().append("g").attr("class","y-axis").merge(M),E?M.transition().delay(N).duration(S).call(C):M.call(C),M.selectAll(".tick text").style("font-size",p).attr("fill",b),M.selectAll(".tick line").attr("stroke",h),M.select(".domain").attr("stroke",j);var H=M.selectAll(".axis-label").data([null]);H.enter().append("text").attr("class","axis-label").merge(H).attr("fill",o).text(r).attr("transform","rotate(-90)").attr("x",-i/1.5).attr("y",s).style("font-size",u).style("font-family",v)},F=O,C=function(e,t,a,n){var i=t.width,l=t.height,r=t.margin,_=t.zoom,s={top:l*r.top,bottom:l*r.bottom,right:i*r.right,left:i*r.left},d=i-s.left-s.right,u=l-s.top-s.bottom;e=Object(m.m)(e);var f=Object(m.l)().domain([Object(m.h)(a,(function(e){return new Date(e[F.column.year]+"")})),Object(m.g)(a,(function(e){return new Date(e[F.column.year]+"")}))]).range([0,d]),v=Object(m.j)().domain([0,1]).range([u,0]),p=Array.from(Object(m.e)(a,(function(e){return e.unit_name})),(function(e){var t=Object(o.a)(e,2);return{key:t[0],value:t[1]}})),b=Object(m.k)().domain(p.map((function(e){return console.log(e),e.key}))).range(y);!function(e,t){var a=t.line_color_scale,n=t.margin,i=void 0===n?{left:.1,right:.1}:n,l=t.inner_width,r=t.legend_text_fill,c=t.legend_text_font_family,o=t.legend_text_font_size,_=void 0===o?7+.01*l:o,s=e.selectAll(".line_chart_legend_table").data([null]),d=s.enter().append("div").merge(s).attr("class","line_chart_legend_table").style("position","relative").style("top","0").style("left","".concat(100*i.left,"%")).style("width","".concat(100*(1-i.left-i.right),"%")),u=d.selectAll("ul").data([null]).enter().append("ul").merge(d.select("ul")).style("display","flex").style("justify-content","flex-start").style("flex-wrap","wrap").selectAll("li").data(a.domain(),(function(e){return e})),f=u.enter().append("li").merge(u).style("margin","5px").style("display","flex").attr("class","legend_item").text((function(e){return e})).style("font-size",_+"px").style("font-family",c).style("fill",r).style("padding","5px").style("border-bottom",(function(e){return"3px solid ".concat(a(e))}));u.exit().remove(),f.merge(u).on("mouseover",(function(e,t){Object(m.n)("svg path.table-line-chart:not(.clicked)").transition().duration(500).style("opacity",.2),Object(m.m)("svg path.".concat(t.replace(/\s/g,""))).transition().duration(500).style("opacity",1),Object(m.m)(this).style("cursor","pointer")})).on("mouseout",(function(e,t){Object(m.m)(".tr_figure").selectAll("li.clicked").nodes().length<1?Object(m.n)("path.table-line-chart:not(.clicked)").transition().duration(500).style("opacity",1):Object(m.n)("path.table-line-chart:not(.clicked)").transition().duration(500).style("opacity",.2)})).on("click",(function(e,t){var a=Object(m.m)(this).attr("class");if(a.includes("clicked")){var n,i=Object(m.m)(".line_chart_legend_table").selectAll("li.clicked").nodes().length;console.log(Object(m.m)(".line_chart_legend_table").selectAll("li.clicked")),1===i?(n=(n=Object(m.m)("svg path.".concat(t.replace(/\s/g,""))).attr("class")).replace(" clicked",""),a=a.replace(" clicked",""),Object(m.n)("svg path.table-line-chart").attr("class",(function(e){return console.log(e),"table-line-chart  ".concat(e[0].replace(/\s/g,""))})).transition().duration(1e3).style("opacity",1),Object(m.n)(".tr_figure li.legend_item").attr("class",a).transition().duration(500).style("opacity",1)):i>1?(n=(n=Object(m.m)("svg path.".concat(t.replace(/\s/g,""))).attr("class")).replace(" clicked",""),a=a.replace(" clicked",""),Object(m.m)("svg path.".concat(t.replace(/\s/g,""))).attr("class",n).transition().duration(1e3).style("opacity","0.2"),Object(m.m)(this).attr("class",a).transition().duration(500).style("opacity",.4)):(n=(n=Object(m.m)("svg path.".concat(t.replace(/\s/g,""))).attr("class")).replace(" clicked",""),a=a.replace(" clicked",""),Object(m.m)("svg path.table-line-chart").attr("class",n).transition().duration(1e3).style("opacity",1),Object(m.m)(".tr_figure li.legend_item").attr("class",a).transition().duration(500).style("opacity",1))}else 0===(i=Object(m.m)(".tr_figure").selectAll("li.clicked").nodes().length)?(n=Object(m.m)("svg path.".concat(t.replace(/\s/g,""))).attr("class"),n="".concat(n," clicked"),a="".concat(a," clicked"),Object(m.m)("svg path.".concat(t.replace(/\s/g,""))).attr("class",n).style("opacity",1),Object(m.m)(this).attr("class",a).style("opacity",1),Object(m.n)("svg path.table-line-chart:not(.clicked)").transition().duration(500).style("opacity",.2),Object(m.n)(".tr_figure li.legend_item:not(.clicked)").transition().duration(500).style("opacity",.4)):i>0&&(n=Object(m.m)("svg path.".concat(t.replace(/\s/g,""))).attr("class"),n="".concat(n," clicked"),a="".concat(a," clicked"),Object(m.m)("svg path.".concat(t.replace(/\s/g,""))).attr("class",n).style("opacity",1),Object(m.m)(this).attr("class",a).style("opacity",1))}))}(e,Object.assign({},S,{line_color_scale:b,inner_width:d,inner_height:u,margin:r,position_left:s.left}));var h=e.selectAll("svg").data([null]),x=(h=h.enter().append("svg").merge(h).attr("width",i-20).attr("height",l).style("background-color",g)).selectAll(".grouped_element").data([null]);x=x.enter().append("g").attr("class","grouped_element").merge(x).attr("transform","translate("+s.left+" ,"+s.top+")"),z(x,Object.assign({},S,{y_scale:v,inner_width:d,inner_height:u}));var j=Object(c.a)(new Set(a.map((function(e){return e[F.column.year]+""}))));(j=j.map((function(e){return new Date(e)}))).length>8&&(j=j.length%2===0?j.filter((function(e,t){return t%2!==0})):j.filter((function(e,t){return t%2===0}))),function(e,t){var a=t.x_scale,n=t.inner_width,i=t.inner_height,l=t.x_axis_tick_values,r=t.x_axis_label,c=void 0===r?"":r,o=t.x_axis_label_fill,_=void 0===o?"":o,s=t.x_axis_label_offset,d=void 0===s?0:s,u=t.x_axis_label_font_size,f=void 0===u?0:u,v=t.x_axis_label_font_family,y=void 0===v?"arial":v,p=t.x_axis_tick_font_size,g=void 0===p?10+.015*n+"px":p,b=t.x_axis_tick_distance_from_axis,h=void 0===b?5+.08*i:b,k=t.x_axis_tick_font_fill,x=t.x_axis_tick_line_stroke,j=t.x_axis_domain_line_stroke,w=Object(m.a)(a).tickValues(l).tickFormat(Object(m.o)("%Y")),E=e.selectAll(".x-axis").data([null]);(E=E.enter().append("g").attr("class","x-axis").merge(E).attr("transform","translate(0,".concat(i,")"))).call(w),E.selectAll(".tick text").style("font-size",g).attr("fill",k).attr("y",h),E.selectAll(".tick line").attr("stroke",x),E.select(".domain").attr("stroke",j);var O=E.selectAll(".axis-label").data([null]);O.enter().append("text").attr("class","axis-label").merge(O).attr("fill",_).text(c).attr("x",n/2).attr("y",d).style("font-size",f+"px").style("font-family",y)}(x,Object.assign({},S,{x_scale:f,inner_width:d,inner_height:u,x_axis_tick_values:j}));var w=Object(m.f)().x((function(e){return f(new Date(e[F.column.year]+""))})).y((function(e){return v(e[F.column.variable])})),E="Skjulm\xe5lniv\xe5"===document.querySelector(".dropdown_ul .dd-level").innerHTML.replace(/\s/g,"")?"visible":"hidden",O=k,N=x.selectAll("rect.level");N=N.data(n).enter().append("rect").merge(N).attr("class","level").attr("x",0).attr("y",(function(e){return v(e.start)})).attr("height",(function(e){return u-v(e.start-e.end)})).attr("width",d).attr("fill",(function(e){return O[e.level]})).style("opacity","0.2").style("visibility",E);var A=x.selectAll(".table-line-chart").data(Object(m.e)(a,(function(e){return e[F.column.treatment_unit]})));if(A.exit().transition().style("opacity",0).remove(),A=A.enter().append("path").merge(A).attr("class",(function(e){return"table-line-chart  ".concat(e[0].replace(/\s/g,""))})).attr("d",(function(e){return w(e[1])})).attr("stroke",(function(e){return b(e[0])})).style("stroke-width",3).style("stroke-linejoin","round").style("stroke-linecap","round").attr("fill","none").style("mix-blend-mode","multiply"),"Zoomut"===_.replace(/\s/g,"")){var C,M,H=Object(m.h)(a,(function(e){return e[F.column.variable]})),D=Object(m.g)(a,(function(e){return e[F.column.variable]})),L=.2*(D-H);C=(H=Math.floor(100*(H-L))/100)<0?0:H,M=(D=Math.ceil(100*(D+L))/100)>1?1:D,v=Object(m.j)().domain([C,M]).range([u,0]);var B=M-C<.06?",.1%":",.0%";A.data(Object(m.e)(a,(function(e){return e[F.column.treatment_unit]}))).enter().append("path").merge(A).transition().delay(1e3).duration(1e3).attr("d",(function(e){return w(e[1])})),N.data(n).enter().append("rect").merge(N).transition().delay(1e3).duration(1e3).attr("y",(function(e){var t;return t=v(e.start)>u?v.invert(u):v(e.start)<0?v.invert(0):e.start,v(t)})).attr("height",(function(e){var t,a;return a=v(e.start)>u?v.invert(u):v(e.start)<0?v.invert(0):e.start,v(e.end)<=u&&v(e.end)>=0?t=e.end:v(e.end)>u?t=v.invert(u):v(e.end)<0&&(t=v.invert(0)),v(t)-v(a)})),z(x,Object.assign({},S,{y_scale:v,inner_width:d,inner_height:u,transition:!0,delay_val:1e3,duration_val:1e3,axis_label_format:B}))}},M=O,H=function(e){0===this[M.column.level_direction]?"high"===e.level?(e.start=this[M.column.level_green],e.end=0):"mid"===e.level?(e.start=this[M.column.level_yellow],e.end=this[M.column.level_green]):(e.start=1,e.end=this[M.column.level_yellow]):1===this[M.column.level_direction]&&("high"===e.level?(e.start=1,e.end=this[M.column.level_green]):"mid"===e.level?(e.start=this[M.column.level_green],e.end=this[M.column.level_yellow]):(e.start=this[M.column.level_yellow],e.end=0))};var D=function(e){var t=e.colspan,a=void 0===t?3:t,l=e.data,r=e.figure_class,c=e.update_selected_row,_=Object(n.useRef)();l.agg_data.filtered_by_year.some((function(e){return"Nasjonalt"===e.unit_name}))||(l.agg_data.filtered_by_year.push(l.agg_data.nation.filtered_by_year[0]),Array.prototype.push.apply(l.agg_data.filtered_by_unit,l.agg_data.nation.filtered_by_unit));var s=Object(n.useState)("line"),d=Object(o.a)(s,2),m=d[0],y=d[1],p=Object(n.useState)("Zoom ut"),g=Object(o.a)(p,2),b=g[0],h=g[1],k=Object(n.useState)("Vis m\xe5lniv\xe5"),x=Object(o.a)(k,2),j=x[0],w=x[1],E=Object(n.useState)(null),O=Object(o.a)(E,2),N=O[0],S=O[1];return Object(n.useEffect)((function(){var e={};e.width=_.current.clientWidth,e.height=.5*e.width,e.margin={top:.05,bottom:.1,right:.15,left:.2},e.zoom=b;var t=[{level:"high"},{level:"mid"},{level:"low"}];if(t.forEach(H,l.description[0]),"bar"===m){for(var a=_.current.childElementCount,n=0;n<a;n++)_.current.removeChild(_.current.children[0]);A(_.current,e,l.agg_data.filtered_by_year,t)}else if("line"===m){for(var i=_.current.childElementCount,r=0;r<i;r++)_.current.removeChild(_.current.children[0]);e.margin={top:.05,bottom:.2,right:.15,left:.05},C(_.current,e,l.agg_data.filtered_by_unit,t)}}),[l,m,b]),i.a.createElement("tr",{className:r},i.a.createElement("td",{colSpan:a},i.a.createElement("div",{className:"tr_figure"},i.a.createElement("div",{className:"tr_buttons_container"},i.a.createElement(f,{show_level:j,update_show_level:w,zoom:b,update_zoom:h,remove_tf:N,update_remove_tf:S,svg_container:_,update_selected_row:c}),i.a.createElement(u,{chart_type:m,update_chart_type:y})),i.a.createElement("div",{ref:_,style:{textAlign:"center"}}),i.a.createElement(v,{description_text:l.description[0].long_description}))))},L=O;var B=function(e){var t=e.mid_text,a=void 0===t?"av":t,n=e.data,l=e.treatment_unit_name,r=void 0===l?[]:l,c=e.med_field_class,o=void 0===c?"":c,_=e.show_level_filter,u=void 0===_?"":_,m=e.selected_row,f=e.update_selected_row,v=e.colspan,y=n.description[0],p=y.title,g=y.short_description,b=0===y[L.column.level_direction]?"<":">",h=y[L.column.level_green],k=null!==h?"H\xf8y m\xe5loppn\xe5else: ".concat(b," ").concat(100*h,"%"):"",x="".concat(y[L.column.id]," \n    ").concat(y[L.column.registry_short_name]),j=r.map((function(e,t){var l=n.agg_data.filtered_by_year.filter((function(t){return t[L.column.treatment_unit]===e}));if(l.length<1)return i.a.createElement("td",{key:"".concat(y[L.column.id],"_").concat(e,"_").concat(t,"_su"),className:"selected_unit"});var r=y[L.column.indicator_type]===L.indicator_type.andel.db?"".concat(Math.round(100*l[0][L.column.variable]),"%"):"".concat(l[0][L.column.variable]),c=l[0][L.column.denominator],o=Math.round(l[0][L.column.variable]*c),_="H"===l[0][L.column.achieved_level]?"fa fa-fas fa-circle":"M"===l[0][L.column.achieved_level]?"fa fa-fas fa-adjust":"L"===l[0][L.column.achieved_level]?"fa fa-circle-o":"",d=l[0][L.column.achieved_level]!==u&&null!==u?"filtered_level":"";return i.a.createElement(s,{key:"".concat(y[L.column.id],"_").concat(e,"_").concat(t,"_su"),td_class:"selected_unit ".concat(d),indicator_value:r,icon_class:_,share_of_totla:o,mid_text:a,total:c})})),w=y[L.column.indicator_type]===L.indicator_type.andel.db?"".concat(Math.round(100*n.agg_data.nation.filtered_by_year[0][L.column.variable]),"%"):"".concat(n.agg_data.nation.filtered_by_year[0][L.column.variable]),E=n.agg_data.nation.filtered_by_year[0][L.column.denominator],O=Math.round(n.agg_data.nation.filtered_by_year[0][L.column.variable]*E),N="H"===n.agg_data.nation.filtered_by_year[0][L.column.achieved_level]?"fa fa-fas fa-circle":"M"===n.agg_data.nation.filtered_by_year[0][L.column.achieved_level]?"fa fa-fas fa-adjust":"L"===n.agg_data.nation.filtered_by_year[0][L.column.achieved_level]?"fa fa-circle-o":"",A=n.agg_data.nation.filtered_by_year[0][L.column.achieved_level]!==u&&null!==u?"filtered_level":"",S=m===y[L.column.id]?i.a.createElement(D,{colspan:v,data:n,figure_class:o,update_selected_row:f}):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement("tr",{onClick:function(){m===y[L.column.id]?f(""):f(y[L.column.id])},id:"".concat(x),className:"".concat(x," ").concat(o," indicator")},i.a.createElement(d,{title:p,short_description:g,high_achivment_text:k}),j,i.a.createElement(s,{key:"",td_class:"nationally ".concat(A),indicator_value:w,icon_class:N,share_of_totla:O,mid_text:a,total:E})),S)};var R=function(e){var t=e.register_name,a=void 0===t?"Nasjonalt hoftebruddregister":t,n=e.colspan,l=void 0===n?2:n,r=e.tr_register_name_class,c=void 0===r?"register-row":r;return i.a.createElement("tr",{className:c},i.a.createElement("td",{colSpan:l},i.a.createElement("h3",{className:"reg-name"},a)))},q=O;var I=function(e){var t=e.register_sname,a=void 0===t?"hjerte":t,n=e.colspan,l=void 0===n?4:n,r=e.tr_register_name_class,o=void 0===r?"register-row":r,_=e.data,s=e.treatment_unit_name,d=e.med_field_filter,u=e.show_level_filter,m=e.selected_row,f=e.update_selected_row,v=d.includes(a)?"":"filter_med_field",y=Object(c.a)(new Set(_.description.map((function(e){return e[q.column.registry_full_name]})))),p=Object(c.a)(new Set(_.agg_data.filtered_by_year.map((function(e){return e[q.column.indicator_id]})))).map((function(e){var t={},a={};t.filtered_by_year=_.agg_data.filtered_by_year.filter((function(t){return t[q.column.indicator_id]===e})),t.filtered_by_unit=_.agg_data.filtered_by_unit.filter((function(t){return t[q.column.indicator_id]===e})),a.filtered_by_year=_.agg_data.nation.filtered_by_year.filter((function(t){return t[q.column.indicator_id]===e}));var n=_.description.filter((function(t){return t[q.column.id]===e}));return a.filtered_by_unit=_.agg_data.nation.filtered_by_unit.filter((function(t){return t[q.column.indicator_id]===e})),t.nation=a,i.a.createElement(B,{data:{agg_data:t,description:n},key:e,treatment_unit_name:s,med_field_class:v,show_level_filter:u,colspan:l,selected_row:m,update_selected_row:f})}));return i.a.createElement(i.a.Fragment,null,i.a.createElement(R,{register_name:y,colspan:l,tr_register_name_class:"".concat(o," ").concat(a," ").concat(v)}),p)},T=O,V=function(e,t){var a=t.selected_unit,n=t.selected_year,i=null!==a?e.filter((function(e){return a.includes(e[T.column.treatment_unit])})):e,l=null!==n?i.filter((function(e){return e[T.column.year]===n})):i;return{filtered_by_unit:i,filtered_by_year:l}},Z=w;var K=function(e){var t=e.colspan,a=void 0===t?4:t,n=e.data,l=e.treatment_unit_name,r=e.treatment_year,c=e.med_field_filter,o=e.show_level_filter,_=e.selected_row,s=e.update_selected_row;l.length<1&&(n.agg_data.filtered_by_year=n.agg_data.nation.filtered_by_year,n.agg_data.filtered_by_unit=n.agg_data.nation.filtered_by_unit);var d=Z.map((function(e){var t=this;return e.key.map((function(e){var d;if(t.includes(e))d=null;else{t.push(e);var u=function(e,t){var a=e.description.filter((function(e){return e[O.column.registry_short_name]===t})),n=a.map((function(e){return e[O.column.id]})),i={};i.filtered_by_unit=e.agg_data.filtered_by_unit.filter((function(e){return n.includes(e[O.column.indicator_id])})),i.filtered_by_year=e.agg_data.filtered_by_year.filter((function(e){return n.includes(e[O.column.indicator_id])}));var l={};return l.filtered_by_unit=e.agg_data.nation.filtered_by_unit.filter((function(e){return n.includes(e[O.column.indicator_id])})),l.filtered_by_year=e.agg_data.nation.filtered_by_year.filter((function(e){return n.includes(e[O.column.indicator_id])})),i.nation=l,{agg_data:i,description:a}}(n,e);u.agg_data.filtered_by_year.length>0&&(d=i.a.createElement(I,{key:"".concat(e),register_sname:e,data:u,colspan:a,treatment_unit_name:l,treatment_year:r,med_field_filter:c,show_level_filter:o,selected_row:_,update_selected_row:s}))}return d}))}),[]);return i.a.createElement("tbody",null,d)};var J=function(e){var t=e.treatment_unit_name,a=void 0===t?[]:t,n=e.treatment_year,l=void 0===n?2019:n,r=e.data,c=e.colspan,o=e.med_field_filter,s=e.show_level_filter,d=e.selected_row,u=e.update_selected_row;return i.a.createElement("table",null,i.a.createElement(_,{col_nr:c,treatment_unit_name:a}),i.a.createElement(K,{colspan:c,data:r,treatment_unit_name:a,treatment_year:l,med_field_filter:o,show_level_filter:s,selected_row:d,update_selected_row:u}))};var U=function(e){var t=e.level,a=void 0===t?"H\xf8y m\xe5loppn\xe5else":t,n=e.icon_class,l=void 0===n?"fa fa-fas fa-circle":n,r=e.legend_btn_class,c=void 0===r?"high":r,o=e.update_show_level_filter,_=e.show_level_filter,s=c[0].toUpperCase(),d=s===_?"checked":"";return i.a.createElement("button",{className:"".concat(c," ").concat(d),onClick:function(){var e;o(_===(e=s)?null:e)}},i.a.createElement("i",{className:"".concat(l," legend-icon")}," "),i.a.createElement("div",{className:"legend-text"},a))};var Y=function(e){var t=e.app_text,a=void 0===t?{indicators:{high:{text:"H\xf8y m\xe5loppn\xe5else",icon:"fa fa-fas fa-circle"}}}:t,n=e.update_show_level_filter,l=e.show_level_filter,r=Object.keys(a.indicators).map((function(e){return i.a.createElement(U,{update_show_level_filter:n,show_level_filter:l,key:"".concat(e,"_legend_btn"),icon_class:this[e].icon,level:this[e].text,legend_btn_class:e})}),a.indicators);return i.a.createElement("div",{className:"table_legend"},r)};var G=function(e){var t=e.med_field_name,a=void 0===t?"Hjerte- og karsykdommer":t,n=e.nr_indicators,l=void 0===n?10:n,r=e.update_med_field_filter,c=e.update_clicked_med_field,o=e.clicked_med_field===a.react_key?"checked":"";return i.a.createElement("li",{className:"med_field ".concat(o," med_field_").concat(a.react_key)},i.a.createElement("button",{className:"med_field_text",onClick:function(){return c(a.react_key),void r(a.key)}},a.name.toUpperCase(),i.a.createElement("div",{className:"med_field_nrind"},l)))};var P=function(e){var t=e.med_field,a=void 0===t?[]:t,n=e.ind_per_reg,l=e.update_med_field_filter,r=e.clicked_med_field,c=e.update_clicked_med_field,o=n.map((function(e){return e.registry_name})),_=a.map((function(e){var t=n.filter((function(t){return e.key.includes(t.registry_name)})).reduce((function(e,t){return e+t.number_ind}),0);return i.a.createElement(G,{key:e.react_key,med_field_name:e,nr_indicators:t,update_med_field_filter:l,clicked_med_field:r,update_clicked_med_field:c})})),s=n.reduce((function(e,t){return e+t.number_ind}),0),d="all"===r?"checked":"";return i.a.createElement("ul",{className:"med_field_list"},i.a.createElement("li",{className:"med_field_title ".concat(d)},i.a.createElement("button",{onClick:function(){return c("all"),void l(o)}},i.a.createElement("h4",{className:"med_field_text"},"ALLE INDIKATORER",i.a.createElement("div",{className:"med_field_nrind"},s)))),_)},W=function(e){var t=e.data,a=e.med_field,l=e.app_text,r=e.ind_per_reg,c=e.update_ind_per_reg,_=e.treatment_units,s=e.selected_year,d=e.colspan,u=e.selected_row,m=e.update_selected_row,f=r.map((function(e){return e.registry_name})),v=Object(n.useState)(null),y=Object(o.a)(v,2),p=y[0],g=y[1],b=Object(n.useState)(f),h=Object(o.a)(b,2),k=h[0],x=h[1],j=Object(n.useState)("all"),w=Object(o.a)(j,2),E=w[0],O=w[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(Y,{app_text:l,update_show_level_filter:g,show_level_filter:p,selected_row:u,update_selected_row:m}),i.a.createElement("div",{className:"content_container"},i.a.createElement("div",{className:"med_field_container"},i.a.createElement(P,{ind_per_reg:r,med_field:a,update_med_field_filter:x,clicked_med_field:E,update_clicked_med_field:O,selected_row:u,update_selected_row:m})),i.a.createElement("div",{className:"main_table_container"},i.a.createElement(J,{data:t,treatment_unit_name:_,treatment_year:s,update_ind_per_reg:c,ind_per_reg:r,colspan:d,med_field_filter:k,show_level_filter:p,selected_row:u,update_selected_row:m}))))},Q=a(4),X=a(16);var $=function(e){var t=e.opts,a=void 0===t?[]:t,n=e.select_className,l=void 0===n?"pick_treatment_unit":n,r=e.placeholder,c=void 0===r?i.a.createElement("div",null,i.a.createElement("i",{className:"fas fa-search"})," Behandlingsenheter "):r,o=e.update_tu,_=e.treatment_unit,s=a,d={menu:function(e){return Object(Q.a)(Object(Q.a)({},e),{},{zIndex:50})},option:function(e){return Object(Q.a)({},e)},control:function(e){return Object(Q.a)({},e)}},u=_.map((function(e){return{value:e,label:e}}));return i.a.createElement("form",null,i.a.createElement(X.a,{className:l,options:s,placeholder:c,closeMenuOnSelect:!1,value:u,isSearchable:!0,isMulti:!0,onChange:function(e){return function(e){var t=null!==e?e.map((function(e){return e.value})):[];o(t)}(e)},styles:d,menuIsOpen:_.length<4&&void 0}))};var ee=function(e){var t=e.opts,a=void 0===t?[]:t,n=e.select_className,l=void 0===n?"pick_year":n,r=e.update_year,c=a.map((function(e){return{value:e,label:e}})),o={menu:function(e){return Object(Q.a)(Object(Q.a)({},e),{},{zIndex:50})},option:function(e){return Object(Q.a)({},e)},control:function(e){return Object(Q.a)({},e)}};return i.a.createElement("form",null,i.a.createElement(X.a,{className:l,onChange:function(e){return function(e){r(e.value)}(e)},options:c,defaultValue:c[0],isSearchable:!0,styles:o}))},te=w,ae=E,ne=O;var ie=function(e){var t=e.data,a=t.indicator_hf,l=t.indicator_rhf,r=t.indicator_hosp,_=t.indicator_nation,s=t.description,d=Object(n.useState)([]),u=Object(o.a)(d,2),m=u[0],f=u[1],v=Object(n.useState)(2019),y=Object(o.a)(v,2),p=y[0],g=y[1],b=Object(n.useState)(null),h=Object(o.a)(b,2),k=h[0],x=h[1],j=Object(c.a)(new Set(r.map((function(e){return e.unit_name})))).sort().map((function(e){return{value:e,label:e}})),w=Object(c.a)(new Set(a.map((function(e){return e.unit_name})))).sort().map((function(e){return{value:e,label:e}})),E=[{label:"RHF",options:Object(c.a)(new Set(l.map((function(e){return e.unit_name})))).sort().map((function(e){return{value:e,label:e}}))},{label:"HF",options:w},{label:"Sykehus",options:j}],O={selected_unit:m,selected_year:p},N={},A=V(r,O),S=V(a,O),z=V(l,O),F=V(_,{selected_unit:"Nasjonalt",selected_year:p}),C=Object(c.a)(new Set(A.filtered_by_year.map((function(e){return e[ne.column.treatment_unit]})))).sort(),M=Object(c.a)(new Set(S.filtered_by_year.map((function(e){return e[ne.column.treatment_unit]})))).sort(),H=Object(c.a)(new Set(z.filtered_by_year.map((function(e){return e[ne.column.treatment_unit]})))).sort(),D=C.concat(M,H),L=D.length+2;N.nation=F,N.filtered_by_unit=A.filtered_by_unit.concat(S.filtered_by_unit,z.filtered_by_unit),N.filtered_by_year=A.filtered_by_year.concat(S.filtered_by_year,z.filtered_by_year);var B=D.length>0?Object(c.a)(new Set(N.filtered_by_year.map((function(e){return e[ne.column.indicator_id]})))):Object(c.a)(new Set(N.nation.filtered_by_year.map((function(e){return e[ne.column.indicator_id]})))),R=Object(c.a)(new Set(te.flatMap((function(e){return e.key})))).map((function(e){var t=s.filter((function(t){return t[ne.column.registry_short_name]===e&&B.includes(t[ne.column.id])}));return{registry_name:e,number_ind:t.length,indicators:t}}));return i.a.createElement("div",{className:"app-container"},i.a.createElement("div",{className:"selection-container"},i.a.createElement("div",{className:"treatment-unit-selection"},i.a.createElement($,{opts:E,update_tu:f,treatment_unit:m,selected_row:k,update_selected_row:x})),i.a.createElement("div",{className:"year-selection"},i.a.createElement(ee,{opts:[2019,2018,2017,2016],update_year:g,selected_row:k,update_selected_row:x}))),i.a.createElement(W,{update_selected_year:g,update_treatment_units:f,ind_per_reg:R,treatment_units:D,selected_year:p,med_field:te,app_text:ae,colspan:L,data:{agg_data:N,description:s},unique_indicators:B,selected_row:k,update_selected_row:x}))},le=window.indicator_hosp,re=window.indicator_hf,ce=window.indicator_rhf,oe=window.indicator_nat,_e=window.description;r.a.render(i.a.createElement(ie,{data:{indicator_hf:re,indicator_rhf:ce,indicator_hosp:le,indicator_nation:oe,description:_e}}),document.getElementById("root"))}},[[123,1,2]]]);
//# sourceMappingURL=main.4df13da0.chunk.js.map