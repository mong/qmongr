(this.webpackJsonptable=this.webpackJsonptable||[]).push([[0],{123:function(e,t,a){e.exports=a(132)},128:function(e,t,a){},132:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(6),l=a.n(r),c=(a(128),a(3)),o=a(2),_=function(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),i=a[0],r=a[1];return Object(n.useEffect)((function(){var t=e.current,a=new ResizeObserver((function(e){e.forEach((function(e){r(e)}))}));return a.observe(t),function(){a.unobserve(t)}}),[e]),i};var s=function(e){var t=e.col_nr,a=void 0===t?2:t,r=e.indicator_header,l=void 0===r?"Kvalitetsindikator":r,c=e.treatment_unit_name,s=void 0===c?[]:c,d=e.national,u=void 0===d?"Nasjonalt":d,m=Object(n.useRef)(),f=_(m),v=Object(n.useState)(""),y=Object(o.a)(v,2),p=y[0],b=y[1];Object(n.useEffect)((function(){var e=f?f.target.parentNode.parentNode.parentNode.parentNode.previousSibling:"",t=f?"".concat(e.offsetTop+e.offsetHeight,"px"):"";b(t)}),[f,m]);var g=2===a?60:3===a?50:40,h=(100-g)/(a-1),k={width:"".concat(g,"%"),top:p},x={width:"".concat(h,"%"),top:p},j=s.map((function(e){return i.a.createElement("th",{className:"selected_unit",style:x,key:e}," ",e)}));return i.a.createElement("thead",null,i.a.createElement("tr",{ref:m},i.a.createElement("th",{key:"kvind_header",className:"quality_indicator",style:k},l),j,i.a.createElement("th",{className:"nationally",style:x,key:"nat_header"},u)))};var d=function(e){var t=e.td_class,a=void 0===t?"selected_unit":t,n=e.indicator_value,r=void 0===n?"65%":n,l=e.icon_class,c=void 0===l?"fa fa-circle-o":l,o=e.share_of_totla,_=void 0===o?1500:o,s=e.mid_text,d=void 0===s?"av":s,u=e.total,m=void 0===u?2e3:u;return i.a.createElement("td",{className:a},i.a.createElement("div",{className:"level"},i.a.createElement("h4",null,"".concat(r," "),i.a.createElement("i",{className:c}))),i.a.createElement("div",{className:"summary"},"".concat(_," ").concat(d," ").concat(m)))};var u=function(e){var t=e.title,a=void 0===t?"This is the title":t,n=e.short_description,r=void 0===n?"This is the short description of the app":n,l=e.high_achivment_text,c=void 0===l?"H\xf8y m\xe5loppn\xe5else: > 80%":l;return i.a.createElement("td",{className:"quality_indicator"},i.a.createElement("div",{className:"quality_indicator_name"},i.a.createElement("h1",null,a)),i.a.createElement("div",{className:"qi_long_description"},i.a.createElement("p",null,r)),i.a.createElement("div",{className:"desired_target_level"},i.a.createElement("h4",null,c)))},m=function(e){var t=e.chart_type,a=e.update_chart_type,n=[{class_name_inp:"figure_button figure_button_left",type:"Radio",id:"table_bar",name:"table_figure_button",value:"bar",icon:"fas fa-chart-bar",label:"S\xf8yle",class_name_label:"figure_button_label"},{class_name_inp:"figure_button figure_button_right",type:"Radio",id:"table_line",name:"table_figure_button",value:"line",icon:"fas fa-chart-line",label:"Linje",class_name_label:"figure_button_label"}].map((function(e){return i.a.createElement(i.a.Fragment,{key:e.id},i.a.createElement("input",{className:e.class_name_inp,type:e.type,id:e.id,name:e.name,value:e.value,checked:e.value===t,onChange:function(e){return a(e.target.value)}}),i.a.createElement("label",{className:e.class_name_label,htmlFor:e.id},e.label," ",i.a.createElement("i",{className:e.icon})))}));return i.a.createElement("div",{className:"tr_figure_button"},n)},f=a(1),v=function(e){var t=e.show_level,a=e.update_show_level,r=e.zoom,l=e.update_zoom,c=e.svg_container,_=e.update_selected_row,s=Object(n.useState)("inactive"),d=Object(o.a)(s,2),u=d[0],m=d[1],v=["Vis m\xe5lniv\xe5","Skjul m\xe5lniv\xe5"],y=["Zoom inn","Zoom ut"],p=function(e,t,a){a(t.filter((function(t){return t!==e}))[0])};Object(n.useEffect)((function(){var e="Skjulm\xe5lniv\xe5"===t.replace(/\s/g,"")?"visible":"hidden";Object(f.m)(c.current).selectAll("svg .level").style("visibility",e)}),[c,t]);var b,g=[{label:t,click:function(){return p(t,v,a)},class:"dd-level"},{label:r,click:function(){return p(r,y,l)},class:"dd-zoom"},{label:"Lukk",click:function(){return _("")},class:"dd-close"}].map((function(e){return i.a.createElement("li",{key:e.class},i.a.createElement("div",{className:e.class,onClick:e.click}," ",e.label," "))}));return i.a.createElement("div",{className:"table_dd_menu_container",onMouseLeave:function(){b=setTimeout((function(){m("inactive")}),1e3)},onMouseOver:function(){return clearTimeout(b)}},i.a.createElement("button",{className:"table_dd_button",onClick:function(){return m("")}},i.a.createElement("i",{className:"fas fa-bars","aria-hidden":"true"})),i.a.createElement("div",{id:"table_dd_container",className:"dropdown_container ".concat(u)},i.a.createElement("ul",{className:"dropdown_ul"},g)))},y=function(e){var t=e.description_title,a=void 0===t?"Om kvalitetsindikatoren":t,r=e.description_text,l=void 0===r?"Denne kvalitetsindikatoren er definert som andel pasienter med akutt hoftebrudd som ble operert innen 24 timer etter bruddtidspunktet. ":r,c=Object(n.useState)("inactive"),_=Object(o.a)(c,2),s=_[0],d=_[1];return i.a.createElement("div",{className:"description-container"},i.a.createElement("div",{className:"description_title_container",onClick:function(){return function(e,t){t(""===e?"inactive":"")}(s,d)}},i.a.createElement("h4",null,a),i.a.createElement("i",{className:"fa ".concat(""===s?"fa-angle-up":"fa-angle-down"," ")})),i.a.createElement("p",{className:"description_content ".concat(s)},l))},p=["#4F9A94","#90CAF9","#B0BEC5","#FFE082","#2962FF","#CE93D8","#9C786C","#BCAAA4","#F8BBD0","#9FA8DA","#80DEEA","#A5D6A7","#E6EE9C","#FFAB91","#78909C"],b="#D2D3D4",g="#EEF6F7",h="#2D3034",k="#828586",x={high:"#BFE389",mid:"#F5A623",low:"#F04157"},j={x_axis_label_fill:k,y_axis_label_fill:k,x_axis_label:"",y_axis_label:"",x_axis_label_font_family:"arial",y_axis_label_font_family:"arial",x_axis_tick_font_fill:k,y_axis_tick_font_fill:h,x_axis_tick_line_stroke:b,y_axis_tick_line_stroke:"none",x_axis_domain_line_stroke:"none",y_axis_domain_line_stroke:"none"},w=function(e,t){var a=t.x_scale,n=t.inner_width,i=t.inner_height,r=t.x_axis_label,l=t.x_axis_label_fill,c=t.x_axis_label_offset,o=void 0===c?i/6:c,_=t.x_axis_label_font_size,s=void 0===_?9+.04*n+"px":_,d=t.x_axis_tick_font_size,u=void 0===d?7+.02*n+"px":d,m=t.x_axis_tick_font_fill,v=t.x_axis_tick_line_stroke,y=t.x_axis_tick_number,p=void 0===y?6:y,b=t.x_axis_tick_size,g=void 0===b?i:b,h=t.x_axis_domain_line_stroke,k=t.x_axis_label_font_family,x=t.transition,j=void 0!==x&&x,w=t.delay_val,O=void 0===w?0:w,E=t.duration_val,N=void 0===E?0:E,A=t.axis_label_format,S=void 0===A?",.0%":A,z=Object(f.a)(a).tickSize(-g).ticks(p).tickFormat(Object(f.d)(S)),F=e.selectAll(".x-axis").data([null]);F=F.enter().append("g").attr("class","x-axis").merge(F).attr("transform","translate(0,".concat(i,")")),j?F.transition().delay(O).duration(N).call(z):F.call(z),F.selectAll(".tick text").style("font-size",u).attr("fill",m),F.selectAll(".tick line").attr("stroke",v),F.select(".domain").attr("stroke",h);var C=F.selectAll(".axis-label").data([null]);C.enter().append("text").attr("class","axis-label").merge(C).attr("fill",l).text(r).attr("x",n/2).attr("y",o).style("font-size",s).style("font-family",k)},O=[{react_key:"hjerte",name:"Hjerte- og karsykdommer",key:["ablanor","noric","hjerteinfarkt","hjerneslag","hjertestans","hjertesvikt","hjertekirurgi","norkar"]},{react_key:"kreft",name:"Kreft",key:["barnekreft","brystkreft","gynkreft","lungekreft","lymfoid","melanom","prostata","tarmkreft_colon","tarmkreft_rectum"]},{react_key:"luft",name:"Luftveier",key:["mek_vent"]},{react_key:"diabetes",name:"Diabetes",key:["barnediabetes","diabetes_voksne"]},{react_key:"nerve",name:"Nervesystemet",key:["cp","ms","parkinson","norkog"]},{react_key:"muskel",name:"Muskel og skjelett",key:["hofte_barn","hoftebrudd","korsband","ryggkir","leddprotese","nnrr","muskel","nkr_nakke","nkr_rygg"]},{react_key:"tarm",name:"Mage og tarm",key:["gastronet","fedmekir","nra","norgast"]},{react_key:"gyn",name:"Gynekologi",key:["nger","kvinl_inkontinens"]},{react_key:"nyre",name:"Nyre",key:["nyre"]},{react_key:"intensiv",name:"Skade og intensiv",key:["traume","intensiv","nnk"]},{react_key:"rehab",name:"Rehabilitering",key:["nnrr","norscir"]},{react_key:"autoimmun",name:"Autoimmune sykdommer",key:["roas","norvas"]},{react_key:"revma",name:"Revmatologi",key:["norartritt","norvas"]},{react_key:"onh",name:"\xd8re-nese-hals",key:["tonsille"]},{react_key:"hud",name:"Hudsykdommer",key:["hisreg"]},{react_key:"psyk",name:"Psykisk helse og rus",key:["kvarus","norspis"]},{react_key:"barn",name:"Barn",key:["cp","hofte_barn","barnekreft","barnediabetes","ganespalt","nnk"]},{react_key:"annet",name:"Andre",key:["smerte","porfyri"]}],E={menus:{unit:"Velg behandlingssted",year:"\xc5r:"},indicators:{high:{text:"H\xf8y m\xe5loppn\xe5else",icon:"fa fa-fas fa-circle"},moderate:{text:"Moderat m\xe5loppn\xe5else",icon:"fa fa-fas fa-adjust"},low:{text:"Lav m\xe5loppn\xe5else",icon:"fa fa-circle-o"}},table:{main_column:"Kvalitetsindikator",national_column:"Nasjonalt",desired_level:"\xd8nsket m\xe5lniv\xe5"}},N={column:{indicator_id:"ind_id",coverage_id:"dg_id",year:"year",treatment_unit:"unit_name",treatment_unit_level:"unit_level",organisation_number:"orgnr",denominator:"denominator",variable:"var",achieved_level:"level",desired_level:"desired_level",registry_id:"registry_id",registry_short_name:"rname",registry_full_name:"full_name",indicator_title:"title",indicator_name:"name",indicator_type:"type",indicator_measurement_unit:"measure_unit",indicator_short_description:"short_description",indicator_long_description:"long_description",level_green:"level_green",level_yellow:"level_yellow",level_direction:"level_direction",min_indicator_value:"min_value",max_indicator_value:"max_value",min_denominator:"min_denominator",id:"id"},indicator_type:{andel:{db:"andel",full_name:"Andel"},median:{db:"median",full_name:"Median"}},treatment_unit_level:{rhf:"rhf",hf:"hf",hospital:"hospital",nation:"nation"},achieved_level:{high:"H",mod:"M",low:"L"},level_direction:{high:1,low:0},desired_level:{high:"H\xf8yt",low:"Lavt"}},A=N,S=function(e,t,a,n){var i=t.width,r=t.height,l=t.margin,c=t.zoom,o=t.delay_value,_=void 0===o?1e3:o,s=t.duration_value,d=void 0===s?1e3:s,u={top:r*l.top,bottom:r*l.bottom,right:i*l.right,left:i*l.left};e=Object(f.m)(e);var m=i-u.left-u.right,v=r-u.top-u.bottom,y=e.selectAll("svg").data([null]),p=(y=y.enter().append("svg").merge(y).attr("width",i-20).attr("height",r).style("background-color","#EEF6F7").attr("class","table_chart")).selectAll(".grouped_element").data([null]);p=p.enter().append("g").attr("class","grouped_element").merge(p).attr("transform","translate("+u.left+" ,"+u.top+")");var b=Object(f.i)().domain(a.map((function(e){return e[A.column.treatment_unit]}))).range([0,v]).paddingInner(.5).paddingOuter(.5).align(.5);!function(e,t){var a=t.y_scale,n=t.inner_width,i=t.inner_height,r=t.y_axis_label_font_family,l=void 0===r?"arial":r,c=t.y_axis_tick_font_size,o=void 0===c?3+.03*i+"px":c,_=t.y_axis_tick_distance_from_axis,s=void 0===_?.03*n:_,d=t.y_axis_tick_font_fill,u=t.y_axis_tick_line_stroke,m=t.y_axis_domain_line_stroke,v=Object(f.b)(a),y=e.selectAll(".y-axis").data([null]);(y=y.enter().append("g").attr("class","y-axis").merge(y)).call(v).attr("text-anchor","end"),y.selectAll(".tick text").attr("x",-s).style("font-size",o).style("font-family",l).attr("fill",d),y.selectAll(".tick line").attr("stroke",u),y.select(".domain").attr("stroke",m)}(p,Object.assign({},j,{y_scale:b,inner_width:m,inner_height:v,margin_px:u}));var g=Object(f.j)().domain([0,1]).range([0,m]);w(p,Object.assign({},j,{x_scale:g,inner_width:m,inner_height:v,transition:!1}));var h=x,k="Skjulm\xe5lniv\xe5"===document.querySelector(".dropdown_ul .dd-level").innerHTML.replace(/\s/g,"")?"visible":"hidden",O=p.selectAll("rect.level");O=O.data(n).enter().append("rect").merge(O).attr("class","level").attr("y",0).attr("x",(function(e){return g(e.end)})).attr("width",(function(e){return g(e.start-e.end)})).attr("height",v).attr("fill",(function(e){return h[e.level]})).style("opacity","0.2").style("visibility",k);var E=p.selectAll("rect.bars").data(a,(function(e){return e[A.column.treatment_unit]}));if(E.exit().transition().style("opacity",0).remove(),E=E.enter().append("rect").attr("class","bars").merge(E).attr("fill",(function(e){return"Nasjonalt"===e[A.column.treatment_unit]?"#00263D":"#7EBEC7"})).attr("x",0).attr("y",(function(e){return b(e[A.column.treatment_unit])})).attr("height",b.bandwidth).transition().duration(_).attr("width",(function(e){return g(e[A.column.variable])})),"Zoomut"===c.replace(/\s/g,"")){var N,S=Object(f.g)(a,(function(e){return e[A.column.variable]})),z=.2*(.01+S);S=Math.ceil(100*(S+z))/100,g=Object(f.j)().domain([0,S>1?1:S]).range([0,m]),E.merge(E).transition().delay(0).duration(d).attr("width",(function(e){return g(e[A.column.variable])})),O.data(n).merge(O).transition().delay(_).duration(d).attr("x",(function(e){var t;return t=g(e.end)>m?g.invert(m):g(e.end)<0?g.invert(0):e.end,g(t)})).attr("width",(function(e){var t,a;return t=g(e.end)>m?g.invert(m):g(e.end)<0?g.invert(0):e.end,g(e.start)<=m&&g(e.start)>=0?a=e.start:g(e.start)>m?a=g.invert(m):g(e.start)<0&&(a=g.invert(0)),g(a)-g(t)})),N=S<.05?",.1%":",.0%",w(p,Object.assign({},j,{x_scale:g,inner_width:m,inner_height:v,transition:!0,delay_val:_,duration_val:d,axis_label_format:N}))}},z={x_axis_label_fill:h,y_axis_label_fill:h,x_axis_label:"",y_axis_label:"Andel",x_axis_label_font_family:"arial, Helvetica Neue",y_axis_label_font_family:"arial, Helvetica Neue",x_axis_tick_font_fill:k,y_axis_tick_font_fill:k,y_axis_tick_number:6,x_axis_tick_line_stroke:"none",y_axis_tick_line_stroke:b,x_axis_domain_line_stroke:"none",y_axis_domain_line_stroke:"none",legend_text_fill:h,legend_text_font_family:"arial, Helvetica Neue"},F=function(e,t){var a=t.y_scale,n=t.inner_width,i=t.inner_height,r=t.y_axis_label,l=void 0===r?"Y axis":r,c=t.y_axis_label_fill,o=void 0===c?"black":c,_=t.y_axis_label_offset,s=void 0===_?1.15*n:_,d=t.y_axis_label_font_size,u=void 0===d?7+.02*n+"px":d,m=t.y_axis_label_font_family,v=void 0===m?"arial":m,y=t.y_axis_tick_font_size,p=void 0===y?8+.02*i+"px":y,b=t.y_axis_tick_number,g=t.y_axis_tick_font_fill,h=t.y_axis_tick_line_stroke,k=t.y_axis_tick_size,x=void 0===k?n:k,j=t.y_axis_domain_line_stroke,w=t.transition,O=void 0!==w&&w,E=t.delay_val,N=void 0===E?0:E,A=t.duration_val,S=void 0===A?0:A,z=t.axis_label_format,F=void 0===z?",.0%":z,C=Object(f.c)(a).ticks(b).tickSize(x).tickFormat(Object(f.d)(F)),M=e.selectAll(".y-axis").data([null]);M=M.enter().append("g").attr("class","y-axis").merge(M),O?M.transition().delay(N).duration(S).call(C):M.call(C),M.selectAll(".tick text").style("font-size",p).attr("fill",g),M.selectAll(".tick line").attr("stroke",h),M.select(".domain").attr("stroke",j);var H=M.selectAll(".axis-label").data([null]);H.enter().append("text").attr("class","axis-label").merge(H).attr("fill",o).text(l).attr("transform","rotate(-90)").attr("x",-i/1.5).attr("y",s).style("font-size",u).style("font-family",v)},C=N,M=function(e,t,a,n){var i=t.width,r=t.height,l=t.margin,_=t.zoom,s={top:r*l.top,bottom:r*l.bottom,right:i*l.right,left:i*l.left},d=i-s.left-s.right,u=r-s.top-s.bottom;e=Object(f.m)(e);var m=Object(f.l)().domain([Object(f.h)(a,(function(e){return new Date(e[C.column.year]+"")})),Object(f.g)(a,(function(e){return new Date(e[C.column.year]+"")}))]).range([0,d]),v=Object(f.j)().domain([0,1]).range([u,0]),y=Array.from(Object(f.e)(a,(function(e){return e.unit_name})),(function(e){var t=Object(o.a)(e,2);return{key:t[0],value:t[1]}})),b=Object(f.k)().domain(y.map((function(e){return e.key}))).range(p);!function(e,t){var a=t.line_color_scale,n=t.margin,i=void 0===n?{left:.1,right:.1}:n,r=t.inner_width,l=t.legend_text_fill,c=t.legend_text_font_family,o=t.legend_text_font_size,_=void 0===o?7+.01*r:o,s=e.selectAll(".line_chart_legend_table").data([null]),d=s.enter().append("div").merge(s).attr("class","line_chart_legend_table").style("position","relative").style("top","0").style("left","".concat(100*i.left,"%")).style("width","".concat(100*(1-i.left-i.right),"%")),u=d.selectAll("ul").data([null]).enter().append("ul").merge(d.select("ul")).style("display","flex").style("justify-content","flex-start").style("flex-wrap","wrap").selectAll("li").data(a.domain(),(function(e){return e})),m=u.enter().append("li").merge(u).style("margin","5px").style("display","flex").attr("class","legend_item").text((function(e){return e})).style("font-size",_+"px").style("font-family",c).style("fill",l).style("padding","5px").style("border-bottom",(function(e){return"3px solid ".concat(a(e))}));u.exit().remove(),m.merge(u).on("mouseover",(function(e,t){Object(f.n)("svg path.table-line-chart:not(.clicked)").transition().duration(500).style("opacity",.2),Object(f.m)("svg path.".concat(t.replace(/\s/g,""))).transition().duration(500).style("opacity",1),Object(f.m)(this).style("cursor","pointer")})).on("mouseout",(function(e,t){Object(f.m)(".tr_figure").selectAll("li.clicked").nodes().length<1?Object(f.n)("path.table-line-chart:not(.clicked)").transition().duration(500).style("opacity",1):Object(f.n)("path.table-line-chart:not(.clicked)").transition().duration(500).style("opacity",.2)})).on("click",(function(e,t){var a=Object(f.m)(this).attr("class");if(a.includes("clicked")){var n,i=Object(f.m)(".line_chart_legend_table").selectAll("li.clicked").nodes().length.selectAll("li.clicked");1===i?(n=(n=Object(f.m)("svg path.".concat(t.replace(/\s/g,""))).attr("class")).replace(" clicked",""),a=a.replace(" clicked",""),Object(f.n)("svg path.table-line-chart").attr("class",(function(e){return"table-line-chart  ".concat(e[0].replace(/\s/g,""))})).transition().duration(1e3).style("opacity",1),Object(f.n)(".tr_figure li.legend_item").attr("class",a).transition().duration(500).style("opacity",1)):i>1?(n=(n=Object(f.m)("svg path.".concat(t.replace(/\s/g,""))).attr("class")).replace(" clicked",""),a=a.replace(" clicked",""),Object(f.m)("svg path.".concat(t.replace(/\s/g,""))).attr("class",n).transition().duration(1e3).style("opacity","0.2"),Object(f.m)(this).attr("class",a).transition().duration(500).style("opacity",.4)):(n=(n=Object(f.m)("svg path.".concat(t.replace(/\s/g,""))).attr("class")).replace(" clicked",""),a=a.replace(" clicked",""),Object(f.m)("svg path.table-line-chart").attr("class",n).transition().duration(1e3).style("opacity",1),Object(f.m)(".tr_figure li.legend_item").attr("class",a).transition().duration(500).style("opacity",1))}else 0===(i=Object(f.m)(".tr_figure").selectAll("li.clicked").nodes().length)?(n=Object(f.m)("svg path.".concat(t.replace(/\s/g,""))).attr("class"),n="".concat(n," clicked"),a="".concat(a," clicked"),Object(f.m)("svg path.".concat(t.replace(/\s/g,""))).attr("class",n).style("opacity",1),Object(f.m)(this).attr("class",a).style("opacity",1),Object(f.n)("svg path.table-line-chart:not(.clicked)").transition().duration(500).style("opacity",.2),Object(f.n)(".tr_figure li.legend_item:not(.clicked)").transition().duration(500).style("opacity",.4)):i>0&&(n=Object(f.m)("svg path.".concat(t.replace(/\s/g,""))).attr("class"),n="".concat(n," clicked"),a="".concat(a," clicked"),Object(f.m)("svg path.".concat(t.replace(/\s/g,""))).attr("class",n).style("opacity",1),Object(f.m)(this).attr("class",a).style("opacity",1))}))}(e,Object.assign({},z,{line_color_scale:b,inner_width:d,inner_height:u,margin:l,position_left:s.left}));var h=e.selectAll("svg").data([null]),k=(h=h.enter().append("svg").merge(h).attr("width",i-20).attr("height",r).style("background-color",g)).selectAll(".grouped_element").data([null]);k=k.enter().append("g").attr("class","grouped_element").merge(k).attr("transform","translate("+s.left+" ,"+s.top+")"),F(k,Object.assign({},z,{y_scale:v,inner_width:d,inner_height:u}));var j=Object(c.a)(new Set(a.map((function(e){return e[C.column.year]+""}))));(j=j.map((function(e){return new Date(e)}))).length>8&&(j=j.length%2===0?j.filter((function(e,t){return t%2!==0})):j.filter((function(e,t){return t%2===0}))),function(e,t){var a=t.x_scale,n=t.inner_width,i=t.inner_height,r=t.x_axis_tick_values,l=t.x_axis_label,c=void 0===l?"":l,o=t.x_axis_label_fill,_=void 0===o?"":o,s=t.x_axis_label_offset,d=void 0===s?0:s,u=t.x_axis_label_font_size,m=void 0===u?0:u,v=t.x_axis_label_font_family,y=void 0===v?"arial":v,p=t.x_axis_tick_font_size,b=void 0===p?10+.015*n+"px":p,g=t.x_axis_tick_distance_from_axis,h=void 0===g?5+.08*i:g,k=t.x_axis_tick_font_fill,x=t.x_axis_tick_line_stroke,j=t.x_axis_domain_line_stroke,w=Object(f.a)(a).tickValues(r).tickFormat(Object(f.o)("%Y")),O=e.selectAll(".x-axis").data([null]);(O=O.enter().append("g").attr("class","x-axis").merge(O).attr("transform","translate(0,".concat(i,")"))).call(w),O.selectAll(".tick text").style("font-size",b).attr("fill",k).attr("y",h),O.selectAll(".tick line").attr("stroke",x),O.select(".domain").attr("stroke",j);var E=O.selectAll(".axis-label").data([null]);E.enter().append("text").attr("class","axis-label").merge(E).attr("fill",_).text(c).attr("x",n/2).attr("y",d).style("font-size",m+"px").style("font-family",y)}(k,Object.assign({},z,{x_scale:m,inner_width:d,inner_height:u,x_axis_tick_values:j}));var w=Object(f.f)().x((function(e){return m(new Date(e[C.column.year]+""))})).y((function(e){return v(e[C.column.variable])})),O="Skjulm\xe5lniv\xe5"===document.querySelector(".dropdown_ul .dd-level").innerHTML.replace(/\s/g,"")?"visible":"hidden",E=x,N=k.selectAll("rect.level");N=N.data(n).enter().append("rect").merge(N).attr("class","level").attr("x",0).attr("y",(function(e){return v(e.start)})).attr("height",(function(e){return u-v(e.start-e.end)})).attr("width",d).attr("fill",(function(e){return E[e.level]})).style("opacity","0.2").style("visibility",O);var A=k.selectAll(".table-line-chart").data(Object(f.e)(a,(function(e){return e[C.column.treatment_unit]})));if(A.exit().transition().style("opacity",0).remove(),A=A.enter().append("path").merge(A).attr("class",(function(e){return"table-line-chart  ".concat(e[0].replace(/\s/g,""))})).attr("d",(function(e){return w(e[1])})).attr("stroke",(function(e){return b(e[0])})).style("stroke-width",3).style("stroke-linejoin","round").style("stroke-linecap","round").attr("fill","none").style("mix-blend-mode","multiply"),"Zoomut"===_.replace(/\s/g,"")){var S,M,H=Object(f.h)(a,(function(e){return e[C.column.variable]})),D=Object(f.g)(a,(function(e){return e[C.column.variable]})),L=.2*(D-H);S=(H=Math.floor(100*(H-L))/100)<0?0:H,M=(D=Math.ceil(100*(D+L))/100)>1?1:D,v=Object(f.j)().domain([S,M]).range([u,0]);var R=M-S<.06?",.1%":",.0%";A.data(Object(f.e)(a,(function(e){return e[C.column.treatment_unit]}))).enter().append("path").merge(A).transition().delay(1e3).duration(1e3).attr("d",(function(e){return w(e[1])})),N.data(n).enter().append("rect").merge(N).transition().delay(1e3).duration(1e3).attr("y",(function(e){var t;return t=v(e.start)>u?v.invert(u):v(e.start)<0?v.invert(0):e.start,v(t)})).attr("height",(function(e){var t,a;return a=v(e.start)>u?v.invert(u):v(e.start)<0?v.invert(0):e.start,v(e.end)<=u&&v(e.end)>=0?t=e.end:v(e.end)>u?t=v.invert(u):v(e.end)<0&&(t=v.invert(0)),v(t)-v(a)})),F(k,Object.assign({},z,{y_scale:v,inner_width:d,inner_height:u,transition:!0,delay_val:1e3,duration_val:1e3,axis_label_format:R}))}},H=N,D=function(e){0===this[H.column.level_direction]?"high"===e.level?(e.start=this[H.column.level_green],e.end=0):"mid"===e.level?(e.start=this[H.column.level_yellow],e.end=this[H.column.level_green]):(e.start=1,e.end=this[H.column.level_yellow]):1===this[H.column.level_direction]&&("high"===e.level?(e.start=1,e.end=this[H.column.level_green]):"mid"===e.level?(e.start=this[H.column.level_green],e.end=this[H.column.level_yellow]):(e.start=this[H.column.level_yellow],e.end=0))};var L=function(e){var t=e.colspan,a=void 0===t?3:t,r=e.data,l=e.figure_class,c=e.update_selected_row,_=Object(n.useRef)();r.agg_data.filtered_by_year.some((function(e){return"Nasjonalt"===e.unit_name}))||(r.agg_data.filtered_by_year.push(r.agg_data.nation.filtered_by_year[0]),Array.prototype.push.apply(r.agg_data.filtered_by_unit,r.agg_data.nation.filtered_by_unit));var s=Object(n.useState)("line"),d=Object(o.a)(s,2),u=d[0],f=d[1],p=Object(n.useState)("Zoom ut"),b=Object(o.a)(p,2),g=b[0],h=b[1],k=Object(n.useState)("Vis m\xe5lniv\xe5"),x=Object(o.a)(k,2),j=x[0],w=x[1],O=Object(n.useState)(null),E=Object(o.a)(O,2),N=E[0],A=E[1];return Object(n.useEffect)((function(){var e={};e.width=_.current.clientWidth,e.height=.5*e.width,e.margin={top:.05,bottom:.1,right:.15,left:.2},e.zoom=g;var t=[{level:"high"},{level:"mid"},{level:"low"}];if(t.forEach(D,r.description[0]),"bar"===u){for(var a=_.current.childElementCount,n=0;n<a;n++)_.current.removeChild(_.current.children[0]);S(_.current,e,r.agg_data.filtered_by_year,t)}else if("line"===u){for(var i=_.current.childElementCount,l=0;l<i;l++)_.current.removeChild(_.current.children[0]);e.margin={top:.05,bottom:.2,right:.15,left:.05},M(_.current,e,r.agg_data.filtered_by_unit,t)}}),[r,u,g]),i.a.createElement("tr",{className:l},i.a.createElement("td",{colSpan:a},i.a.createElement("div",{className:"tr_figure"},i.a.createElement("div",{className:"tr_buttons_container"},i.a.createElement(v,{show_level:j,update_show_level:w,zoom:g,update_zoom:h,remove_tf:N,update_remove_tf:A,svg_container:_,update_selected_row:c}),i.a.createElement(m,{chart_type:u,update_chart_type:f})),i.a.createElement("div",{ref:_,style:{textAlign:"center"}}),i.a.createElement(y,{description_text:r.description[0].long_description}))))},R=N;var B=function(e){var t=e.mid_text,a=void 0===t?"av":t,n=e.data,r=e.treatment_unit_name,l=void 0===r?[]:r,c=e.med_field_class,o=void 0===c?"":c,_=e.show_level_filter,s=void 0===_?"":_,m=e.selected_row,f=e.update_selected_row,v=e.colspan,y=n.description[0],p=y.title,b=y.short_description,g=0===y[R.column.level_direction]?"<":">",h=y[R.column.level_green],k=null!==h?"H\xf8y m\xe5loppn\xe5else: ".concat(g," ").concat(100*h,"%"):"",x="".concat(y[R.column.id]," \n    ").concat(y[R.column.registry_short_name]),j=l.map((function(e,t){var r=n.agg_data.filtered_by_year.filter((function(t){return t[R.column.treatment_unit]===e}));if(r.length<1)return i.a.createElement("td",{key:"".concat(y[R.column.id],"_").concat(e,"_").concat(t,"_su"),className:"selected_unit"});var l=y[R.column.indicator_type]===R.indicator_type.andel.db?"".concat(Math.round(100*r[0][R.column.variable]),"%"):"".concat(r[0][R.column.variable]),c=r[0][R.column.denominator],o=Math.round(r[0][R.column.variable]*c),_="H"===r[0][R.column.achieved_level]?"fa fa-fas fa-circle":"M"===r[0][R.column.achieved_level]?"fa fa-fas fa-adjust":"L"===r[0][R.column.achieved_level]?"fa fa-circle-o":"",u=r[0][R.column.achieved_level]!==s&&null!==s?"filtered_level":"";return i.a.createElement(d,{key:"".concat(y[R.column.id],"_").concat(e,"_").concat(t,"_su"),td_class:"selected_unit ".concat(u),indicator_value:l,icon_class:_,share_of_totla:o,mid_text:a,total:c})})),w=y[R.column.indicator_type]===R.indicator_type.andel.db?"".concat(Math.round(100*n.agg_data.nation.filtered_by_year[0][R.column.variable]),"%"):"".concat(n.agg_data.nation.filtered_by_year[0][R.column.variable]),O=n.agg_data.nation.filtered_by_year[0][R.column.denominator],E=Math.round(n.agg_data.nation.filtered_by_year[0][R.column.variable]*O),N="H"===n.agg_data.nation.filtered_by_year[0][R.column.achieved_level]?"fa fa-fas fa-circle":"M"===n.agg_data.nation.filtered_by_year[0][R.column.achieved_level]?"fa fa-fas fa-adjust":"L"===n.agg_data.nation.filtered_by_year[0][R.column.achieved_level]?"fa fa-circle-o":"",A=n.agg_data.nation.filtered_by_year[0][R.column.achieved_level]!==s&&null!==s?"filtered_level":"",S=m===y[R.column.id]?i.a.createElement(L,{colspan:v,data:n,figure_class:o,update_selected_row:f}):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement("tr",{onClick:function(){m===y[R.column.id]?f(""):f(y[R.column.id])},id:"".concat(x),className:"".concat(x," ").concat(o," indicator")},i.a.createElement(u,{title:p,short_description:b,high_achivment_text:k}),j,i.a.createElement(d,{key:"",td_class:"nationally ".concat(A),indicator_value:w,icon_class:N,share_of_totla:E,mid_text:a,total:O})),S)};var T=function(e){var t=e.register_name,a=void 0===t?"Nasjonalt hoftebruddregister":t,n=e.colspan,r=void 0===n?2:n,l=e.tr_register_name_class,c=void 0===l?"register-row":l;return i.a.createElement("tr",{className:c},i.a.createElement("td",{colSpan:r},i.a.createElement("h3",{className:"reg-name"},a)))},q=N;var I=function(e){var t=e.register_sname,a=void 0===t?"hjerte":t,n=e.colspan,r=void 0===n?4:n,l=e.tr_register_name_class,o=void 0===l?"register-row":l,_=e.data,s=e.treatment_unit_name,d=e.med_field_filter,u=e.show_level_filter,m=e.selected_row,f=e.update_selected_row,v=d.includes(a)?"":"filter_med_field",y=Object(c.a)(new Set(_.description.map((function(e){return e[q.column.registry_full_name]})))),p=Object(c.a)(new Set(_.agg_data.filtered_by_year.map((function(e){return e[q.column.indicator_id]})))).map((function(e){var t={},a={};t.filtered_by_year=_.agg_data.filtered_by_year.filter((function(t){return t[q.column.indicator_id]===e})),t.filtered_by_unit=_.agg_data.filtered_by_unit.filter((function(t){return t[q.column.indicator_id]===e})),a.filtered_by_year=_.agg_data.nation.filtered_by_year.filter((function(t){return t[q.column.indicator_id]===e}));var n=_.description.filter((function(t){return t[q.column.id]===e}));return a.filtered_by_unit=_.agg_data.nation.filtered_by_unit.filter((function(t){return t[q.column.indicator_id]===e})),t.nation=a,i.a.createElement(B,{data:{agg_data:t,description:n},key:e,treatment_unit_name:s,med_field_class:v,show_level_filter:u,colspan:r,selected_row:m,update_selected_row:f})}));return i.a.createElement(i.a.Fragment,null,i.a.createElement(T,{register_name:y,colspan:r,tr_register_name_class:"".concat(o," ").concat(a," ").concat(v)}),p)},V=N,Z=function(e,t){var a=t.selected_unit,n=t.selected_year,i=null!==a?e.filter((function(e){return a.includes(e[V.column.treatment_unit])})):e,r=null!==n?i.filter((function(e){return e[V.column.year]===n})):i;return{filtered_by_unit:i,filtered_by_year:r}},K=O;var J=function(e){var t=e.colspan,a=void 0===t?4:t,n=e.data,r=e.treatment_unit_name,l=e.treatment_year,c=e.med_field_filter,o=e.show_level_filter,_=e.selected_row,s=e.update_selected_row;r.length<1&&(n.agg_data.filtered_by_year=n.agg_data.nation.filtered_by_year,n.agg_data.filtered_by_unit=n.agg_data.nation.filtered_by_unit);var d=K.map((function(e){var t=this;return e.key.map((function(e){var d;if(t.includes(e))d=null;else{t.push(e);var u=function(e,t){var a=e.description.filter((function(e){return e[N.column.registry_short_name]===t})),n=a.map((function(e){return e[N.column.id]})),i={};i.filtered_by_unit=e.agg_data.filtered_by_unit.filter((function(e){return n.includes(e[N.column.indicator_id])})),i.filtered_by_year=e.agg_data.filtered_by_year.filter((function(e){return n.includes(e[N.column.indicator_id])}));var r={};return r.filtered_by_unit=e.agg_data.nation.filtered_by_unit.filter((function(e){return n.includes(e[N.column.indicator_id])})),r.filtered_by_year=e.agg_data.nation.filtered_by_year.filter((function(e){return n.includes(e[N.column.indicator_id])})),i.nation=r,{agg_data:i,description:a}}(n,e);u.agg_data.filtered_by_year.length>0&&(d=i.a.createElement(I,{key:"".concat(e),register_sname:e,data:u,colspan:a,treatment_unit_name:r,treatment_year:l,med_field_filter:c,show_level_filter:o,selected_row:_,update_selected_row:s}))}return d}))}),[]);return i.a.createElement("tbody",null,d)};var U=function(e){var t=e.treatment_unit_name,a=void 0===t?[]:t,n=e.treatment_year,r=void 0===n?2019:n,l=e.data,c=e.colspan,o=e.med_field_filter,_=e.show_level_filter,d=e.selected_row,u=e.update_selected_row;return i.a.createElement("table",null,i.a.createElement(s,{col_nr:c,treatment_unit_name:a}),i.a.createElement(J,{colspan:c,data:l,treatment_unit_name:a,treatment_year:r,med_field_filter:o,show_level_filter:_,selected_row:d,update_selected_row:u}))};var Y=function(e){var t=e.level,a=void 0===t?"H\xf8y m\xe5loppn\xe5else":t,n=e.icon_class,r=void 0===n?"fa fa-fas fa-circle":n,l=e.legend_btn_class,c=void 0===l?"high":l,o=e.update_show_level_filter,_=e.show_level_filter,s=c[0].toUpperCase(),d=s===_?"checked":"";return i.a.createElement("button",{className:"".concat(c," ").concat(d),onClick:function(){var e;o(_===(e=s)?null:e)}},i.a.createElement("i",{className:"".concat(r," legend-icon")}," "),i.a.createElement("div",{className:"legend-text"},a))};var G=function(e){var t=e.app_text,a=void 0===t?{indicators:{high:{text:"H\xf8y m\xe5loppn\xe5else",icon:"fa fa-fas fa-circle"}}}:t,r=e.update_show_level_filter,l=e.show_level_filter,c=Object(n.useRef)(),s=_(c),d=Object(n.useState)(""),u=Object(o.a)(d,2),m=u[0],f=u[1];Object(n.useEffect)((function(){var e=s?"".concat(s.target.previousSibling.offsetHeight,"px"):"";f(e)}),[s,c]);var v=Object.keys(a.indicators).map((function(e){return i.a.createElement(Y,{update_show_level_filter:r,show_level_filter:l,key:"".concat(e,"_legend_btn"),icon_class:this[e].icon,level:this[e].text,legend_btn_class:e})}),a.indicators),y={top:m};return i.a.createElement("div",{className:"table_legend",ref:c,style:y},v)};var P=function(e){var t=e.med_field_name,a=void 0===t?"Hjerte- og karsykdommer":t,n=e.nr_indicators,r=void 0===n?10:n,l=e.update_med_field_filter,c=e.update_clicked_med_field,o=e.clicked_med_field===a.react_key?"checked":"";return i.a.createElement("li",{className:"med_field ".concat(o," med_field_").concat(a.react_key)},i.a.createElement("button",{className:"med_field_text",onClick:function(){return c(a.react_key),void l(a.key)}},a.name.toUpperCase(),i.a.createElement("div",{className:"med_field_nrind"},r)))};var W=function(e){var t=e.med_field,a=void 0===t?[]:t,r=e.ind_per_reg,l=e.update_med_field_filter,c=e.clicked_med_field,s=e.update_clicked_med_field,d=Object(n.useRef)(),u=_(d),m=Object(n.useState)(""),f=Object(o.a)(m,2),v=f[0],y=f[1];Object(n.useEffect)((function(){var e=u?"".concat(u.target.offsetTop,"px"):"";y(e)}),[u,d]);var p=r.map((function(e){return e.registry_name})),b=a.map((function(e){var t=r.filter((function(t){return e.key.includes(t.registry_name)})).reduce((function(e,t){return e+t.number_ind}),0);return i.a.createElement(P,{key:e.react_key,med_field_name:e,nr_indicators:t,update_med_field_filter:l,clicked_med_field:c,update_clicked_med_field:s})})),g=r.reduce((function(e,t){return e+t.number_ind}),0),h="all"===c?"checked":"",k={top:v};return i.a.createElement("ul",{ref:d,style:k,className:"med_field_list"},i.a.createElement("li",{className:"med_field_title ".concat(h)},i.a.createElement("button",{onClick:function(){return s("all"),void l(p)}},i.a.createElement("h4",{className:"med_field_text"},"ALLE INDIKATORER",i.a.createElement("div",{className:"med_field_nrind"},g)))),b)},Q=function(e){var t=e.data,a=e.med_field,r=e.app_text,l=e.ind_per_reg,c=e.update_ind_per_reg,_=e.treatment_units,s=e.selected_year,d=e.colspan,u=e.selected_row,m=e.update_selected_row,f=l.map((function(e){return e.registry_name})),v=Object(n.useState)(null),y=Object(o.a)(v,2),p=y[0],b=y[1],g=Object(n.useState)(f),h=Object(o.a)(g,2),k=h[0],x=h[1],j=Object(n.useState)("all"),w=Object(o.a)(j,2),O=w[0],E=w[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(G,{app_text:r,update_show_level_filter:b,show_level_filter:p,selected_row:u,update_selected_row:m}),i.a.createElement("div",{className:"content_container"},i.a.createElement("div",{className:"med_field_container"},i.a.createElement(W,{ind_per_reg:l,med_field:a,update_med_field_filter:x,clicked_med_field:O,update_clicked_med_field:E,selected_row:u,update_selected_row:m})),i.a.createElement("div",{className:"main_table_container"},i.a.createElement(U,{data:t,treatment_unit_name:_,treatment_year:s,update_ind_per_reg:c,ind_per_reg:l,colspan:d,med_field_filter:k,show_level_filter:p,selected_row:u,update_selected_row:m}))))},X=a(4),$=a(16);var ee=function(e){var t=e.opts,a=void 0===t?[]:t,n=e.select_className,r=void 0===n?"pick_treatment_unit":n,l=e.placeholder,c=void 0===l?i.a.createElement("div",null,i.a.createElement("i",{className:"fas fa-search"})," Behandlingsenheter "):l,o=e.update_tu,_=e.treatment_unit,s=a,d={menu:function(e){return Object(X.a)(Object(X.a)({},e),{},{zIndex:50})},option:function(e){return Object(X.a)({},e)},control:function(e){return Object(X.a)({},e)}},u=_.map((function(e){return{value:e,label:e}}));return i.a.createElement("form",null,i.a.createElement($.a,{className:r,options:s,placeholder:c,closeMenuOnSelect:!1,value:u,isSearchable:!0,isMulti:!0,onChange:function(e){return function(e){var t=null!==e?e.map((function(e){return e.value})):[];o(t)}(e)},styles:d,menuIsOpen:_.length<4&&void 0}))};var te=function(e){var t=e.opts,a=void 0===t?[]:t,n=e.select_className,r=void 0===n?"pick_year":n,l=e.update_year,c=a.map((function(e){return{value:e,label:e}})),o={menu:function(e){return Object(X.a)(Object(X.a)({},e),{},{zIndex:50})},option:function(e){return Object(X.a)({},e)},control:function(e){return Object(X.a)({},e)}};return i.a.createElement("form",null,i.a.createElement($.a,{className:r,onChange:function(e){return function(e){l(e.value)}(e)},options:c,defaultValue:c[0],isSearchable:!0,styles:o}))},ae=O,ne=E,ie=N;var re=function(e){var t=e.data,a=t.indicator_hf,r=t.indicator_rhf,l=t.indicator_hosp,_=t.indicator_nation,s=t.description,d=Object(n.useState)([]),u=Object(o.a)(d,2),m=u[0],f=u[1],v=Object(n.useState)(2019),y=Object(o.a)(v,2),p=y[0],b=y[1],g=Object(n.useState)(null),h=Object(o.a)(g,2),k=h[0],x=h[1],j=Object(c.a)(new Set(l.map((function(e){return e.unit_name})))).sort().map((function(e){return{value:e,label:e}})),w=Object(c.a)(new Set(a.map((function(e){return e.unit_name})))).sort().map((function(e){return{value:e,label:e}})),O=[{label:"RHF",options:Object(c.a)(new Set(r.map((function(e){return e.unit_name})))).sort().map((function(e){return{value:e,label:e}}))},{label:"HF",options:w},{label:"Sykehus",options:j}],E={selected_unit:m,selected_year:p},N={},A=Z(l,E),S=Z(a,E),z=Z(r,E),F=Z(_,{selected_unit:"Nasjonalt",selected_year:p}),C=Object(c.a)(new Set(A.filtered_by_year.map((function(e){return e[ie.column.treatment_unit]})))).sort(),M=Object(c.a)(new Set(S.filtered_by_year.map((function(e){return e[ie.column.treatment_unit]})))).sort(),H=Object(c.a)(new Set(z.filtered_by_year.map((function(e){return e[ie.column.treatment_unit]})))).sort(),D=C.concat(M,H),L=D.length+2;N.nation=F,N.filtered_by_unit=A.filtered_by_unit.concat(S.filtered_by_unit,z.filtered_by_unit),N.filtered_by_year=A.filtered_by_year.concat(S.filtered_by_year,z.filtered_by_year);var R=D.length>0?Object(c.a)(new Set(N.filtered_by_year.map((function(e){return e[ie.column.indicator_id]})))):Object(c.a)(new Set(N.nation.filtered_by_year.map((function(e){return e[ie.column.indicator_id]})))),B=Object(c.a)(new Set(ae.flatMap((function(e){return e.key})))).map((function(e){var t=s.filter((function(t){return t[ie.column.registry_short_name]===e&&R.includes(t[ie.column.id])}));return{registry_name:e,number_ind:t.length,indicators:t}}));return i.a.createElement("div",{className:"app-container"},i.a.createElement("div",{className:"selection-container"},i.a.createElement("div",{className:"treatment-unit-selection"},i.a.createElement(ee,{opts:O,update_tu:f,treatment_unit:m,selected_row:k,update_selected_row:x})),i.a.createElement("div",{className:"year-selection"},i.a.createElement(te,{opts:[2019,2018,2017,2016],update_year:b,selected_row:k,update_selected_row:x}))),i.a.createElement(Q,{update_selected_year:b,update_treatment_units:f,ind_per_reg:B,treatment_units:D,selected_year:p,med_field:ae,app_text:ne,colspan:L,data:{agg_data:N,description:s},unique_indicators:R,selected_row:k,update_selected_row:x}))},le=window.indicator_hosp,ce=window.indicator_hf,oe=window.indicator_rhf,_e=window.indicator_nat,se=window.description;l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(re,{data:{indicator_hf:ce,indicator_rhf:oe,indicator_hosp:le,indicator_nation:_e,description:se}}),","),document.getElementById("root"))}},[[123,1,2]]]);
