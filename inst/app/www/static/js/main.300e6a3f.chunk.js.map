{"version":3,"sources":["dev-tools/load.ts","components/indicator_table_header.js","app_config.ts","components/indicator_value.js","components/indicator_description.tsx","components/tf_button.tsx","components/tf_ddmenu.tsx","components/tf_description.tsx","utils/useDelayInitial.ts","components/utils.ts","components/Charts/utils.tsx","components/Charts/BarChart/index.tsx","charts/page_colors.js","charts/theme_table_chart_line.js","components/Charts/LineChart/index.tsx","components/TF_FIGURE/Chart.tsx","components/TF_FIGURE/index.tsx","components/TF_FIGURE/tr_utils.ts","components/no_data.tsx","components/low_cov.tsx","components/low_n.tsx","components/indicator_row.tsx","components/register_name.tsx","components/register.tsx","data/filter_year_unit.ts","components/indicator_table_body.tsx","components/indicator_table.js","components/legend_btn.tsx","components/legend.js","components/med_field_row.js","components/med_field.js","components/main_component.tsx","components/header_logo_nsm.tsx","components/header_logo_skde.tsx","components/header_text.tsx","components/header_main.tsx","components/select_multi.tsx","components/select_single.js","components/tu_list_header.tsx","components/tu_list_body.tsx","components/tu_list.tsx","App.tsx","index.tsx","components/Charts/BarChart/BarChart.module.css","components/Charts/LineChart/LineChart.module.css","helpers/hooks/useEventListener.tsx"],"names":["loadDevTools","callback","explicitlyDisabled","window","location","search","includes","localStorage","getItem","explicitlyEnabled","then","devTools","install","finally","TABLE_HEADER","props","col_nr","indicator_header","treatment_unit_name","national","selection_bar_height","legend_height","offset_top","width_desc","width_tu","style_ind_desc","width","top","style_treatment_units","treatment_unit_th","map","tu","className","style","med_field","react_key","name","key","app_text","menus","unit","year","indicators","high","text","icon","moderate","low","table","main_column","national_column","desired_level","tu_list","header_text","max_nr_tu","data_config","column","indicator_id","coverage_id","treatment_unit","treatment_unit_level","organisation_number","denominator","variable","achieved_level","registry_id","registry_short_name","registry_full_name","indicator_title","indicator_name","indicator_type","indicator_measurement_unit","indicator_short_description","indicator_long_description","level_green","level_yellow","level_direction","min_indicator_value","max_indicator_value","min_denominator","id","andel","db","full_name","median","rhf","hf","hospital","nation","mod","appConfig","INDICATOR_VALUE","td_class","ind_type","data","indicator_value","share_of_total","total","icon_class","numerator","Math","round","indicator_value_share","aria-label","INDICATOR_DESCRIPTION","description","title","short_description","LEVEL_TEXT","TF_BUTTON","chart_type","update_chart_type","radio_buttons","class_name_inp","type","value","label","class_name_label","rb","Fragment","checked","onChange","e","chart_value","target","Error","htmlFor","DD_MENU","show_level","update_show_level","zoom","update_zoom","update_selected_row","svgContainer","useState","dd_menu_status","set_dd_menu_status","mouse_leave_dd_cont_timeout","dd_list","click","showLevel","class","current","src","getElementsByTagName","height","baseVal","setAttribute","image","select","append","attr","node","onerror","console","log","onload","canvas","getContext","drawImage","url","toDataURL","selectAll","remove","element","document","createElement","download","href","encodeURIComponent","outerHTML","getDownloadURL","dd","onClick","onMouseLeave","setTimeout","onMouseOver","clearTimeout","aria-hidden","LONG_DESCRIPTION","description_title","description_text","content_status","set_content_status","desc_click_handler","useDelayInitial","delayedValue","delayed","setDelayed","useEffect","timeout","useResizeObserver","ref","dimensions","setDimensions","observeTarget","resizeObserver","ResizeObserver","entries","forEach","entry","observe","unobserve","levelColor","level","MARGIN","BarChart","wrapperRef","svgContainerRef","displayLevels","levels","margin","delayedZoom","svgRef","useRef","max","length","contentRect","marginOffsets","right","bottom","left","innerHeight","innerWidth","svg","selectChild","yScale","scaleBand","domain","d","range","padding","xScaleDomain","maxVal","additionalMargin","xMax","ceil","min","getXScaleDomain","xScale","scaleLinear","clamp","yAxis","axisLeft","yAxisElement","call","xAxisFormat","xAxis","axisBottom","tickSize","ticks","tickFormat","format","xAxisElement","transition","duration","join","enter","end","start","update","exit","bandwidth","color","opacity","styles","barChart","transform","page_colors","theme_table_chart_line","x_axis_label_fill","colors","y_axis_label_fill","x_axis_label","y_axis_label","x_axis_label_font_family","y_axis_label_font_family","x_axis_tick_font_fill","y_axis_tick_font_fill","y_axis_tick_number","x_axis_tick_line_stroke","y_axis_tick_line_stroke","x_axis_domain_line_stroke","y_axis_domain_line_stroke","legend_text_fill","legend_text_font_family","LineChart","hoveredLegend","setHoveredLegend","selectedLegends","setSelectedLegends","legendContainerRef","container","pathLabels","Array","from","Set","lineColorScale","scaleOrdinal","minYear","maxYear","scaleTime","yScaleDomain","maxValue","minValue","yMin","floor","yMax","getYScaleDomain","highlightedLegends","theme","on","_e","selected","filter","s","yAxisFormat","axisRight","years","_","i","tickValues","lines","line","x","y","group","display","justifyContent","flexWrap","marginLeft","lineChart","fill","fontSize","fontFamily","Chart","chartType","lineChartData","getLineChartData","barChartData","getBarChartData","agg_data","all_filtered_by_year","data_by_year","unit_level","dg","unit_name","selectedTreatmentUnits","var","sort","a","b","filtered_by_unit","parseLineChartData","TF_FIGURE","colspan","figure_class","filtered_by_year","some","push","prototype","apply","config","level_boundary","colSpan","long_description","NO_DATA","textAlign","LOW_COV","LOW_N","INDICATOR_ROW","med_field_class","show_level_filter","selected_row","ind_id","tr_indicator_class","rname","indicator_val","tr_unit","index","ind_per_unit","level_class","filtered","format_indicator_values","tr_fig","REGISTER_NAME","register_name","tr_register_name_class","Register","register_sname","med_field_filter","IndicatorRow","indicator","filter_year_unit","input_params","selected_unit","selected_year","TABLE_BODY","treatment_year","done","table_body","field","register","register_data","desc","app_config","filter_register","INDICATOR_TABLE","LEGEND_BTN","legend_btn_class","update_show_level_filter","level_filter","toUpperCase","checked_class","update_state","LEGEND","update_legend_height","legend_ref","dim","offsetHeight","legend_btns","Object","keys","this","MED_FIELD_ROW","med_field_name","nr_indicators","update_med_field_filter","update_clicked_med_field","class_checked","clicked_med_field","MED_FIELD","ind_per_reg","all_reg","ind","registry_name","med_field_row","nr_ind","reg","reduce","acc","cur","number_ind","tot_nr_ind","apply_filters","filter_level_only","u","findIndex","Main","treatment_units","filtered_data","ind_ids_remaining","isArray","val","concat","v","indexOf","filter_data","HEADER_LOGO_NSM","style_1","xmlns","viewBox","data-name","cx","cy","r","HEADER_LOGO_SKDE","style_2","HEADER_TEXT","HEADER","backgroundImage","flexDirection","SELECT_MULTI","opts","select_className","placeholder","update_tu","selection_options","customStyles","control","provided","state","backgroundColor","boxShadow","isFocused","border","borderRadius","borderBottom","isSelected","cursor","input","paddingLeft","multiValue","crossIcon","dropdownIndicator","indicatorSeparator","menu","zIndex","option","value_tu","options","closeMenuOnSelect","openMenuOnClick","isSearchable","isMulti","handle_input_change","menuIsOpen","undefined","SELECT_SINGLE","update_year","opt","minHeight","singleValue","defaultValue","TU_LIST_HEADER","TU_LIST_BODY","tu_names","update_treatment_units","handle_tu_list_click","alert","hf_hospital","style_hospital","style_hf","hf_full","TU_LIST","tu_structure","tu_list_display","update_tu_list_display","style_tu_list","tu_str_elm","useEventListener","event","defaultPrevented","preventDefault","test-id","APP","indicator_hosp","update_hosp","indicator_hf","update_hf","indicator_rhf","update_rhf","indicator_nat","indicator_nation","update_nation","update_description","update_tu_names","indicatorSorter","useMemo","descriptionMap","aName","bName","localeCompare","sortedIndicatorHospital","sortedIndicatorHf","sortedIndicatorRhf","sortedIndicatorNation","Shiny","addCustomMessageHandler","message","update_selected_year","update_selection_bar_height","opts_tu","input_data","tu_name_hospital","tu_name_hf","tu_name_rhf","tu_name","unique_indicators","flatMap","registry","every","tu_entry","acc_data","flat","hf_entry","nest_tu_names","selection_bar_ref","selection_bar_dim","ReactDOM","render","StrictMode","App","getElementById","module","exports","eventName","handler","targetElement","global","listenerRef","addEventListener","eventListener","removeEventListener"],"mappings":"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","file":"static/js/main.300e6a3f.chunk.js","sourcesContent":["function loadDevTools(callback: () => void) {\n  const explicitlyDisabled =\n    window.location.search.includes(\"dev-tools=false\") ||\n    window.localStorage.getItem(\"dev-tools\") === \"false\";\n\n  const explicitlyEnabled =\n    window.location.search.includes(\"dev-tools=true\") ||\n    window.localStorage.getItem(\"dev-tools\") === \"true\";\n\n  if (\n    !explicitlyDisabled &&\n    (process.env.NODE_ENV === \"development\" || explicitlyEnabled)\n  ) {\n    import(\"./dev-tools\")\n      .then((devTools) => devTools.install())\n      .finally(callback);\n  } else {\n    callback();\n  }\n}\n\nexport default loadDevTools;\n","import React from \"react\";\n\nfunction TABLE_HEADER(props) {\n  const {\n    col_nr = 2,\n    indicator_header = \"Kvalitetsindikator\",\n    treatment_unit_name = [],\n    national = \"Nasjonalt\",\n    selection_bar_height,\n    legend_height,\n  } = props;\n\n  const offset_top = `${selection_bar_height + legend_height}px`;\n  const width_desc = col_nr === 2 ? 60 : col_nr === 3 ? 50 : 40;\n  const width_tu = (100 - width_desc) / (col_nr - 1);\n  const style_ind_desc = { width: `${width_desc}%`, top: offset_top };\n  const style_treatment_units = { width: `${width_tu}%`, top: offset_top };\n\n  let treatment_unit_th = treatment_unit_name.map((tu) => (\n    <th className=\"selected_unit\" style={style_treatment_units} key={tu}>\n      {tu}\n    </th>\n  ));\n\n  return (\n    <thead>\n      <tr>\n        <th\n          key=\"kvind_header\"\n          className=\"quality_indicator\"\n          style={style_ind_desc}\n        >\n          {indicator_header}\n        </th>\n        {treatment_unit_th}\n        <th\n          className=\"nationally\"\n          style={style_treatment_units}\n          key=\"nat_header\"\n        >\n          {national}\n        </th>\n      </tr>\n    </thead>\n  );\n}\n\nexport default TABLE_HEADER;\n","export const med_field = [\n  {\n    react_key: \"hjerte\",\n    name: \"Hjerte- og karsykdommer\",\n    key: [\n      \"ablanor\",\n      \"noric\",\n      \"hjerteinfarkt\",\n      \"hjerneslag\",\n      \"hjertestans\",\n      \"hjertesvikt\",\n      \"hjertekirurgi\",\n      \"norkar\",\n    ],\n  },\n  {\n    react_key: \"kreft\",\n    name: \"Kreft\",\n    key: [\n      \"barnekreft\",\n      \"brystkreft\",\n      \"gynkreft\",\n      \"lungekreft\",\n      \"lymfoid\",\n      \"melanom\",\n      \"prostata\",\n      \"tarmkreft_colon\",\n      \"tarmkreft_rectum\",\n    ],\n  } /*,\n  {\n    react_key: \"luft\",\n    name: \"Luftveier\",\n    key: [\"mek_vent\"]\n  }*/,\n  {\n    react_key: \"diabetes\",\n    name: \"Diabetes\",\n    key: [\"barnediabetes\", \"diabetes_voksne\"],\n  },\n  {\n    react_key: \"nerve\",\n    name: \"Nervesystemet\",\n    key: [\"cp\", \"ms\", \"parkinson\", \"norkog\"],\n  },\n  {\n    react_key: \"muskel\",\n    name: \"Muskel og skjelett\",\n    key: [\n      \"hofte_barn\",\n      \"hoftebrudd\",\n      \"korsband\",\n      \"ryggkir\",\n      \"leddprotese\",\n      \"nnrr\",\n      \"muskel\",\n      \"nkr_nakke\",\n      \"nkr_rygg\",\n    ],\n  },\n  {\n    react_key: \"tarm\",\n    name: \"Mage og tarm\",\n    key: [\n      \"gastronet\",\n      \"fedmekir\",\n      \"nra\",\n      \"norgast\",\n      \"tarmkreft_colon\",\n      \"tarmkreft_rectum\",\n    ],\n  },\n  {\n    react_key: \"gyn\",\n    name: \"Gynekologi\",\n    key: [\"nger\", \"kvinl_inkontinens\"],\n  },\n  {\n    react_key: \"nyre\",\n    name: \"Nyre\",\n    key: [\"nyre\"],\n  },\n  {\n    react_key: \"intensiv\",\n    name: \"Skade og intensiv\",\n    key: [\"traume\", \"intensiv\", \"nnk\"],\n  },\n  {\n    react_key: \"rehab\",\n    name: \"Rehabilitering\",\n    key: [\"nnrr\", \"norscir\"],\n  },\n  {\n    react_key: \"autoimmun\",\n    name: \"Autoimmune sykdommer\",\n    key: [\"roas\", \"norvas\"],\n  },\n  {\n    react_key: \"revma\",\n    name: \"Revmatologi\",\n    key: [\"norartritt\", \"norvas\"],\n  } /*,\n  {  \n    react_key: \"onh\", \n    name: \"re-nese-hals\",\n    key: [\"tonsille\"]\n  },\n  {  \n    react_key: \"hud\",\n    name: \"Hudsykdommer\",\n    key: [\"hisreg\"]\n  },\n  {  \n    react_key: \"psyk\",\n    name: \"Psykisk helse og rus\",\n    key: [\"kvarus\",\"norspis\"]\n  }*/,\n  {\n    react_key: \"barn\",\n    name: \"Barn\",\n    key: [\n      \"cp\",\n      \"hofte_barn\",\n      \"barnekreft\",\n      \"barnediabetes\",\n      \"ganespalt\",\n      \"nnk\",\n    ],\n  } /*,\n  {  \n    react_key: \"annet\",\n    name: \"Andre\",\n    key:[\n      \"smerte\",\n      \"porfyri\"\n    ]\n  }  */,\n];\nexport const app_text = {\n  menus: {\n    unit: \"Velg behandlingssted\",\n    year: \"r:\",\n  },\n  indicators: {\n    high: { text: \"Hy mloppnelse\", icon: \"fa fa-fas fa-circle\" },\n    moderate: { text: \"Moderat mloppnelse\", icon: \"fa fa-fas fa-adjust\" },\n    low: { text: \"Lav mloppnelse\", icon: \"fa fa-circle-o\" },\n  },\n  table: {\n    main_column: \"Kvalitetsindikator\",\n    national_column: \"Nasjonalt\",\n    desired_level: \"nsket mlniv\",\n  },\n  tu_list: {\n    header_text: \"Velg behandlingsenheter\",\n    max_nr_tu: 5,\n  },\n};\n\nexport const data_config = {\n  column: {\n    indicator_id: \"ind_id\",\n    coverage_id: \"dg\",\n    year: \"year\",\n    treatment_unit: \"unit_name\",\n    treatment_unit_level: \"unit_level\",\n    organisation_number: \"orgnr\",\n    denominator: \"denominator\",\n    variable: \"var\",\n    achieved_level: \"level\",\n    desired_level: \"desired_level\",\n    registry_id: \"registry_id\",\n    registry_short_name: \"rname\",\n    registry_full_name: \"full_name\",\n    indicator_title: \"title\",\n    indicator_name: \"name\",\n    indicator_type: \"type\",\n    indicator_measurement_unit: \"measure_unit\",\n    indicator_short_description: \"short_description\",\n    indicator_long_description: \"long_description\",\n    level_green: \"level_green\",\n    level_yellow: \"level_yellow\",\n    level_direction: \"level_direction\",\n    min_indicator_value: \"min_value\",\n    max_indicator_value: \"max_value\",\n    min_denominator: \"min_denominator\",\n    id: \"id\",\n  },\n  indicator_type: {\n    andel: {\n      db: \"andel\",\n      full_name: \"Andel\",\n    },\n    median: {\n      db: \"median\",\n      full_name: \"Median\",\n    },\n  },\n  treatment_unit_level: {\n    rhf: \"rhf\",\n    hf: \"hf\",\n    hospital: \"hospital\",\n    nation: \"nation\",\n  },\n  achieved_level: {\n    high: \"H\",\n    mod: \"M\",\n    low: \"L\",\n  },\n  level_direction: {\n    high: 1,\n    low: 0,\n  },\n  desired_level: {\n    high: \"Hyt\",\n    low: \"Lavt\",\n  },\n};\n\nconst appConfig = { med_field, app_text, data_config };\n\nexport default appConfig;\n","import React from \"react\";\n\nimport { data_config } from \"../app_config\";\n\nfunction INDICATOR_VALUE(props) {\n  const {\n    td_class = \"selected_unit\",\n    ind_type = \"andel\",\n    data,\n    indicator_value = \"65%\",\n    share_of_total = 1500,\n    total = 2000,\n  } = props;\n\n  const icon_class =\n    data[data_config.column.achieved_level] === \"H\"\n      ? \"fa fa-fas fa-circle\"\n      : data[data_config.column.achieved_level] === \"M\"\n      ? \"fa fa-fas fa-adjust\"\n      : data[data_config.column.achieved_level] === \"L\"\n      ? \"fa fa-circle-o\"\n      : null;\n  if (ind_type === data_config.indicator_type.andel.db) {\n    const denominator = data[data_config.column.denominator];\n    const numerator = Math.round(\n      data[data_config.column.variable] * denominator\n    );\n    const indicator_value_share =\n      data[data_config.column.variable] < 0.1\n        ? `${Math.round(data[data_config.column.variable] * 1000) / 10}%`\n        : `${Math.round(data[data_config.column.variable] * 100)}%`;\n\n    return (\n      <td className={td_class}>\n        <div\n          className=\"level\"\n          aria-label={`Achieved level ${\n            data[data_config.column.achieved_level]\n          }`}\n        >\n          <h4>\n            {`${indicator_value_share} `}\n            <i className={icon_class} />\n          </h4>\n        </div>\n        <div className=\"summary\">{`${numerator} av ${denominator}`}</div>\n      </td>\n    );\n  }\n\n  return (\n    <td className={td_class}>\n      <div\n        className=\"level\"\n        aria-label={`Achieved level ${data[data_config.column.achieved_level]}`}\n      >\n        <h4>\n          {`${indicator_value} `}\n          <i className={icon_class} />\n        </h4>\n      </div>\n      <div className=\"summary\">{`${share_of_total} av ${total}`}</div>\n    </td>\n  );\n}\n\nexport default INDICATOR_VALUE;\n","import React from \"react\";\n\nimport { data_config } from \"../app_config\";\n\ninterface Props {\n  description: any;\n}\n\nfunction INDICATOR_DESCRIPTION(props: Props) {\n  const { description } = props;\n\n  const title = description.title;\n  const short_description = description.short_description;\n  const level_direction = description[data_config.column.level_direction];\n  const level_green =\n    description[data_config.column.level_green] === null\n      ? null\n      : `${description[data_config.column.level_green] * 100}%`;\n\n  const LEVEL_TEXT =\n    level_green === null ? (\n      \"\"\n    ) : level_direction === 1 ? (\n      <h4>NSKET MLNIV: &#8805; {level_green} </h4>\n    ) : (\n      <h4>NSKET MLNIV: &#8804; {level_green} </h4>\n    );\n\n  return (\n    <td className=\"quality_indicator\">\n      <div className=\"quality_indicator_name\">\n        <h1>{title}</h1>\n      </div>\n      <div className=\"qi_long_description\">\n        <p>{short_description}</p>\n      </div>\n      <div className=\"desired_target_level\">{LEVEL_TEXT}</div>\n    </td>\n  );\n}\n\nexport default INDICATOR_DESCRIPTION;\n","import React from \"react\";\n\ninterface Props {\n  chart_type: \"bar\" | \"line\";\n  update_chart_type: (e: \"line\" | \"bar\") => void;\n}\n\nconst TF_BUTTON = (props: Props) => {\n  const { chart_type, update_chart_type } = props;\n\n  const radio_button_prop = [\n    {\n      class_name_inp: \"figure_button figure_button_left\",\n      type: \"Radio\",\n      id: \"table_line\",\n      name: \"table_figure_button\",\n      value: \"line\",\n      icon: \"fas fa-chart-line\",\n      label: \"Linje\",\n      class_name_label: \"figure_button_label\",\n    },\n    {\n      class_name_inp: \"figure_button figure_button_right\",\n      type: \"Radio\",\n      id: \"table_bar\",\n      name: \"table_figure_button\",\n      value: \"bar\",\n      icon: \"fas fa-chart-bar\",\n      label: \"Syle\",\n      class_name_label: \"figure_button_label\",\n    },\n  ];\n\n  const radio_buttons = radio_button_prop.map((rb) => {\n    return (\n      <React.Fragment key={rb.id}>\n        <input\n          className={rb.class_name_inp}\n          type={rb.type}\n          id={rb.id}\n          name={rb.name}\n          value={rb.value}\n          checked={rb.value === chart_type}\n          onChange={(e) => {\n            const chart_value = e.target.value;\n            if (![\"bar\", \"line\"].includes(chart_value)) {\n              throw new Error(`Only \"line\" and \"bar\" chart type is supported.`);\n            }\n            update_chart_type(chart_value as typeof chart_type);\n          }}\n        />\n        <label className={rb.class_name_label} htmlFor={rb.id}>\n          {rb.label} <i className={rb.icon} />\n        </label>\n      </React.Fragment>\n    );\n  });\n\n  return <div className=\"tr_figure_button\">{radio_buttons}</div>;\n};\n\nexport default TF_BUTTON;\n","import React, { useState } from \"react\";\nimport { select, selectAll } from \"d3\";\n\nimport { Description } from \"../App\";\n\ninterface Props {\n  svgContainer: React.RefObject<HTMLDivElement>;\n  show_level: boolean;\n  zoom: boolean;\n  update_zoom: React.Dispatch<React.SetStateAction<boolean>>;\n  update_show_level: React.Dispatch<React.SetStateAction<boolean>>;\n  update_selected_row(row: string): void;\n  description: Description;\n}\n\nconst DD_MENU = (props: Props) => {\n  const {\n    show_level,\n    update_show_level,\n    zoom,\n    update_zoom,\n    update_selected_row,\n    svgContainer,\n    description,\n  } = props;\n\n  const [dd_menu_status, set_dd_menu_status] = useState(\"inactive\");\n\n  function getDownloadURL(svgContainer: React.RefObject<HTMLDivElement>) {\n    if (!svgContainer.current) return;\n    let src = svgContainer.current.getElementsByTagName(\"svg\")[0];\n\n    const height = src.height.baseVal.value;\n    const width = src.width.baseVal.value;\n\n    src.setAttribute(\"xmlns\", \"http://www.w3.org/2000/svg\");\n    src.setAttribute(\"xmlns:xlink\", \"http://www.w3.org/1999/xlink\");\n    src.setAttribute(\"xml:space\", \"preserve\");\n\n    const image = select(\"body\")\n      .append(\"img\")\n      .style(\"display\", \"none\")\n      .attr(\"width\", width)\n      .attr(\"height\", height)\n      .node();\n\n    if (!image) return;\n\n    image.onerror = function (e) {\n      console.log(e);\n    };\n    image.onload = function () {\n      const canvas = select(\"body\")\n        .append(\"canvas\")\n        .attr(\"width\", width)\n        .attr(\"height\", height)\n        .node()!;\n\n      const ctx = canvas.getContext(\"2d\");\n      ctx!.drawImage(image, 0, 0);\n      const url = canvas.toDataURL(\"image/png\");\n      selectAll([canvas, image]).remove();\n      const element = document.createElement(\"a\");\n      element.download = `${description.id}.png`;\n      element.href = url;\n      element.click();\n      element.remove();\n    };\n    image.onerror = function (e) {\n      console.log(e);\n    };\n\n    image.src = \"data:image/svg+xml,\" + encodeURIComponent(src.outerHTML);\n  }\n\n  const dropdown_entries = [\n    {\n      label: show_level ? \"Skjul mlniv\" : \"Vis mlniv\",\n      click: () => update_show_level((showLevel) => !showLevel),\n      class: \"dd-level\",\n    },\n    {\n      label: zoom ? \"Zoom ut\" : \"Zoom inn\",\n      click: () => update_zoom((zoom) => !zoom),\n      class: \"dd-zoom\",\n    },\n    {\n      label: \"Last ned figur\",\n      click: () => getDownloadURL(svgContainer),\n      class: \"dd-download\",\n    },\n    { label: \"Lukk\", click: () => update_selected_row(\"\"), class: \"dd-close\" },\n  ];\n\n  let mouse_leave_dd_cont_timeout: number;\n  const menu_container_mouse_leave = () => {\n    mouse_leave_dd_cont_timeout = window.setTimeout(function () {\n      set_dd_menu_status(\"inactive\");\n    }, 1000);\n  };\n\n  const dd_list = dropdown_entries.map((dd) => {\n    return (\n      <li key={dd.class}>\n        <div className={dd.class} onClick={dd.click}>\n          {\" \"}\n          {dd.label}{\" \"}\n        </div>\n      </li>\n    );\n  });\n\n  return (\n    <div\n      className=\"table_dd_menu_container\"\n      onMouseLeave={() => menu_container_mouse_leave()}\n      onMouseOver={() => clearTimeout(mouse_leave_dd_cont_timeout)}\n    >\n      <button\n        className=\"table_dd_button\"\n        onClick={() => set_dd_menu_status(\"\")}\n      >\n        <i className=\"fas fa-bars\" aria-hidden=\"true\" />\n      </button>\n      <div\n        id=\"table_dd_container\"\n        className={`dropdown_container ${dd_menu_status}`}\n      >\n        <ul className=\"dropdown_ul\">{dd_list}</ul>\n      </div>\n    </div>\n  );\n};\n\nexport default DD_MENU;\n","import React, { useState } from \"react\";\n\ninterface Props {\n  description_title?: string;\n  description_text: string;\n}\n\nconst LONG_DESCRIPTION = (props: Props) => {\n  const {\n    description_title = \"Om kvalitetsindikatoren\",\n    description_text = \"Denne kvalitetsindikatoren er definert som andel pasienter med...\",\n  } = props;\n  const [content_status, set_content_status] = useState<string>(\"inactive\");\n  const desc_click_handler = (\n    content_status: string,\n    set_content_status: (e: string) => void\n  ) => {\n    const cur_status = content_status === \"\" ? \"inactive\" : \"\";\n    set_content_status(cur_status);\n  };\n\n  return (\n    <div className=\"description-container\">\n      <div\n        className={`description_title_container`}\n        onClick={() => desc_click_handler(content_status, set_content_status)}\n      >\n        <h4>{description_title}</h4>\n        <i\n          className={`fa ${\n            content_status === \"\" ? \"fa-angle-up\" : \"fa-angle-down\"\n          }`}\n        />\n      </div>\n      <p className={`description_content ${content_status}`}>\n        {description_text}\n      </p>\n    </div>\n  );\n};\n\nexport default LONG_DESCRIPTION;\n","import { useEffect, useState } from \"react\";\n\nfunction useDelayInitial<T>(value: T, delayedValue: T): T {\n  const [delayed, setDelayed] = useState(true);\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      setDelayed(false);\n    }, 1000);\n\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, []);\n\n  return delayed ? delayedValue : value;\n}\n\nexport default useDelayInitial;\n","import { MutableRefObject, useEffect, useState } from \"react\";\nimport ResizeObserver from \"resize-observer-polyfill\";\n\nfunction useResizeObserver(ref: MutableRefObject<HTMLElement | null>) {\n  const [dimensions, setDimensions] = useState<ResizeObserverEntry | null>(\n    null\n  );\n  useEffect(() => {\n    const observeTarget = ref?.current;\n\n    if (!observeTarget) {\n      return;\n    }\n\n    const resizeObserver = new ResizeObserver((entries) => {\n      entries.forEach((entry) => {\n        setDimensions(entry);\n      });\n    });\n\n    resizeObserver.observe(observeTarget);\n\n    return () => {\n      resizeObserver.unobserve(observeTarget);\n    };\n  }, [ref]);\n  return dimensions;\n}\n\nexport default useResizeObserver;\n","export function levelColor(level: string) {\n  switch (level) {\n    case \"high\":\n      return \"#3baa34\";\n    case \"mid\":\n      return \"#fd9c00\";\n    case \"low\":\n      return \"#e30713\";\n    default:\n      throw new Error(`${level} is not a valid level`);\n  }\n}\n","import {\n  axisBottom,\n  axisLeft,\n  format,\n  scaleBand,\n  scaleLinear,\n  select,\n} from \"d3\";\nimport { useEffect, useRef } from \"react\";\nimport useDelayInitial from \"../../../utils/useDelayInitial\";\nimport useResizeObserver from \"../../utils\";\nimport styles from \"./BarChart.module.css\";\nimport { levelColor } from \"../utils\";\nimport { Level, Margin } from \"../types\";\n\nexport interface BarStyle {\n  opacity?: number;\n  color?: string;\n}\n\nexport interface Bar {\n  label: string;\n  value: number;\n  style?: BarStyle;\n}\nexport interface Props {\n  svgContainerRef: React.RefObject<HTMLDivElement>;\n  showLevel: boolean;\n  data: Bar[];\n  levels: Level[];\n  zoom?: boolean;\n  margin?: Margin;\n}\n\nconst MARGIN = { top: 0.05, bottom: 10, right: 0.15, left: 0.2 };\n\nfunction BarChart(props: Props) {\n  const {\n    svgContainerRef: wrapperRef,\n    data,\n    showLevel: displayLevels,\n    levels,\n    zoom = false,\n    margin = {},\n  } = props;\n\n  const delayedZoom = useDelayInitial(zoom, false);\n  const svgRef = useRef<SVGSVGElement>(null);\n  const entry = useResizeObserver(wrapperRef);\n\n  const height = Math.max(data.length * 50, 250);\n  const width = entry?.contentRect.width ?? 0;\n\n  const marginOffsets = {\n    top: margin.top ?? MARGIN.top,\n    right: (margin.right ?? MARGIN.right) * width,\n    bottom: margin.bottom ?? MARGIN.bottom,\n    left: (margin.left ?? MARGIN.left) * width,\n  };\n\n  const innerHeight = height - marginOffsets.top - marginOffsets.bottom;\n  const innerWidth = width - marginOffsets.left - marginOffsets.right;\n\n  useEffect(() => {\n    if (!svgRef.current) {\n      return;\n    }\n\n    const svg = select(svgRef.current).selectChild<SVGGElement>();\n\n    // Scales\n    const yScale = scaleBand()\n      .domain(data.map((d) => d.label))\n      .range([0, innerHeight])\n      .padding(0.5);\n\n    const xScaleDomain = getXScaleDomain(data, delayedZoom);\n    const xScale = scaleLinear()\n      .domain(xScaleDomain)\n      .range([0, innerWidth])\n      .clamp(true);\n\n    // Y-Axis\n    const yAxis = axisLeft(yScale);\n    const yAxisElement = svg.select<SVGGElement>(\".y-axis\");\n    yAxisElement.call(yAxis);\n    yAxisElement.select(\".domain\").remove();\n    yAxisElement.selectAll(\".tick line\").remove();\n    yAxisElement.selectAll(\".tick text\").attr(\"font-size\", \"0.9rem\");\n\n    // X-Axis\n    const xAxisFormat =\n      xScaleDomain[1] - xScaleDomain[0] < 0.06 ? \",.1%\" : \",.0%\";\n    const xAxis = axisBottom(xScale)\n      .tickSize(-innerHeight)\n      .ticks(6)\n      .tickFormat(format(xAxisFormat));\n    const xAxisElement = svg.select<SVGGElement>(\".x-axis\");\n    xAxisElement\n      .style(\"transform\", `translateY(${innerHeight}px)`)\n      .transition()\n      .duration(1000)\n      .call(xAxis);\n    xAxisElement.select(\".domain\").remove();\n    xAxisElement.selectAll(\".tick line\").attr(\"stroke\", \"#D2D3D4\");\n    xAxisElement\n      .selectAll(\".tick text\")\n      .attr(\"fill\", \"#828586\")\n      .attr(\"font-size\", \"18.57px\");\n\n    // Levels\n    svg\n      .select(\".levels\")\n      .selectAll(\".level\")\n      .data(displayLevels ? levels : [])\n      .join(\n        (enter) =>\n          enter\n            .append(\"rect\")\n            .attr(\"class\", \"level\")\n            .attr(\"data-testid\", ({ level }) => `level-${level}`)\n            .attr(\"x\", ({ end }) => xScale(end))\n            .attr(\"y\", 0)\n            .attr(\"width\", ({ start, end }) => xScale(start) - xScale(end))\n            .attr(\"height\", innerHeight)\n            .attr(\"fill\", ({ level }) => levelColor(level))\n            .attr(\"opacity\", 0.2),\n        (update) =>\n          update.call((update) =>\n            update\n              .transition()\n              .duration(1000)\n              .attr(\"x\", ({ end }) => xScale(end))\n              .attr(\"width\", ({ start, end }) => xScale(start) - xScale(end))\n          ),\n        (exit) => exit.remove()\n      );\n\n    // Bars\n    svg\n      .select(\".bars\")\n      .selectAll(\".bar\")\n      .data(data)\n      .join(\"rect\")\n      .attr(\"class\", \"bar\")\n      .attr(\"data-testid\", (d) => `bar-${d.label}`)\n      .attr(\"x\", 0)\n      .attr(\"y\", (d) => yScale(d.label) ?? 0)\n      .attr(\"height\", yScale.bandwidth())\n      .attr(\"fill\", (d) => d.style?.color ?? \"#7EBEC7\")\n      .attr(\"opacity\", (d) => d.style?.opacity ?? 1)\n      .transition()\n      .duration(1000)\n      .attr(\"width\", (d) => xScale(d.value));\n  }, [data, displayLevels, levels, delayedZoom, innerHeight, innerWidth]);\n\n  return (\n    <div ref={wrapperRef}>\n      <svg\n        ref={svgRef}\n        className={styles.barChart}\n        height={marginOffsets.top + height + marginOffsets.bottom}\n        width={marginOffsets.left + width + marginOffsets.right}\n      >\n        <g transform={`translate(${marginOffsets.left}, ${marginOffsets.top})`}>\n          <g className=\"x-axis\" />\n          <g className=\"y-axis\" />\n          <g className=\"levels\" />\n          <g className=\"bars\" />\n        </g>\n      </svg>\n    </div>\n  );\n}\n\nexport default BarChart;\n\nfunction getXScaleDomain(data: Bar[], zoom: boolean): [number, number] {\n  if (!zoom) {\n    return [0, 1];\n  }\n\n  const maxVal = Math.max(...data.map((d) => d.value));\n  const additionalMargin = (0.01 + maxVal) * 0.2;\n  const xMax = Math.ceil((maxVal + additionalMargin) * 100) / 100;\n\n  return [0, Math.min(xMax, 1)];\n}\n","export const page_colors = {\n  chart_colors: [\n    \"#4F9A94\",\n    \"#90CAF9\",\n    \"#B0BEC5\",\n    \"#FFE082\",\n    \"#2962FF\",\n    \"#CE93D8\",\n    \"#9C786C\",\n    \"#BCAAA4\",\n    \"#F8BBD0\",\n    \"#9FA8DA\",\n    \"#80DEEA\",\n    \"#A5D6A7\",\n    \"#E6EE9C\",\n    \"#FFAB91\",\n    \"#78909C\",\n  ],\n  line_color: \"#D2D3D4\",\n  background_color: \"#EEF6F7\",\n  primary_text_color: \"#2D3034\",\n  secondary_text_color: \"#828586\",\n  primary_color: \"#7EBEC7\",\n  secondary_color: \"#00263D\",\n  traffic_light_colors: {\n    high: \"#3baa34\",\n    mid: \"#fd9c00\",\n    low: \"#e30713\",\n  },\n};\n","import { page_colors as colors } from \"./page_colors.js\";\n\nexport const theme_table_chart_line = {\n  x_axis_label_fill: colors.primary_text_color,\n  y_axis_label_fill: colors.primary_text_color,\n  x_axis_label: \"\",\n  y_axis_label: \"Andel\",\n  x_axis_label_font_family: \"arial, Helvetica Neue\",\n  y_axis_label_font_family: \"arial, Helvetica Neue\",\n  x_axis_tick_font_fill: colors.secondary_text_color,\n  y_axis_tick_font_fill: colors.secondary_text_color,\n  y_axis_tick_number: 6,\n  x_axis_tick_line_stroke: \"none\",\n  y_axis_tick_line_stroke: colors.line_color,\n  x_axis_domain_line_stroke: \"none\",\n  y_axis_domain_line_stroke: \"none\",\n  legend_text_fill: colors.primary_text_color,\n  legend_text_font_family: \"arial, Helvetica Neue\",\n};\n","import {\n  axisBottom,\n  axisRight,\n  format,\n  group,\n  line,\n  scaleLinear,\n  scaleOrdinal,\n  scaleTime,\n  select,\n} from \"d3\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { page_colors } from \"../../../charts/page_colors\";\nimport { theme_table_chart_line as theme } from \"../../../charts/theme_table_chart_line\";\nimport useDelayInitial from \"../../../utils/useDelayInitial\";\nimport { Level, Margin } from \"../types\";\nimport useResizeObserver from \"../../utils\";\nimport styles from \"./LineChart.module.css\";\nimport { levelColor } from \"../utils\";\n\nexport interface DataPoint {\n  label: string;\n  year: number;\n  value: number;\n}\n\nexport interface Props {\n  svgContainerRef: React.RefObject<HTMLDivElement>;\n  showLevel: boolean;\n  data: DataPoint[];\n  levels: Level[];\n  zoom?: boolean;\n  margin?: Margin;\n}\n\nconst MARGIN = { top: 8, bottom: 34, right: 0.15, left: 0.2 };\n\nconst LineChart = (props: Props) => {\n  const {\n    svgContainerRef,\n    data,\n    showLevel: displayLevels,\n    levels,\n    zoom = false,\n    margin = {},\n  } = props;\n\n  const [hoveredLegend, setHoveredLegend] = useState<string | null>(null);\n  const [selectedLegends, setSelectedLegends] = useState<string[]>([]);\n  const delayedZoom = useDelayInitial(zoom, false);\n  const legendContainerRef = useRef<HTMLUListElement>(null);\n  const entry = useResizeObserver(svgContainerRef);\n\n  const width = entry?.contentRect.width ?? 0;\n  const height = width / 2;\n\n  const marginOffsets = {\n    top: margin.top ?? MARGIN.top,\n    right: (margin.right ?? MARGIN.right) * width,\n    bottom: margin.bottom ?? MARGIN.bottom,\n    left: (margin.left ?? MARGIN.left) * width,\n  };\n\n  const innerHeight = height - marginOffsets.top - marginOffsets.bottom;\n  const innerWidth = width - marginOffsets.left - marginOffsets.right;\n\n  useEffect(() => {\n    if (innerWidth === 0) {\n      return;\n    }\n\n    const container = select(svgContainerRef.current);\n\n    // Scales\n    const pathLabels = Array.from(new Set(data.map((d) => d.label)));\n    const lineColorScale = scaleOrdinal<string>()\n      .domain(pathLabels)\n      .range(page_colors.chart_colors);\n\n    const minYear = Math.min(...data.map((d) => d.year));\n    const maxYear = Math.max(...data.map((d) => d.year));\n    const xScale = scaleTime()\n      .domain([minYear, maxYear])\n      .range([0, innerWidth]);\n\n    const yScaleDomain = getYScaleDomain(data, delayedZoom);\n    const yScale = scaleLinear()\n      .domain(yScaleDomain)\n      .range([innerHeight, 0])\n      .clamp(true);\n\n    // Legend\n    let highlightedLegends = selectedLegends;\n\n    if (hoveredLegend) {\n      highlightedLegends = Array.from(\n        new Set([...selectedLegends, hoveredLegend])\n      );\n    }\n\n    select(legendContainerRef.current)\n      .selectAll(\".legend-item\")\n      .data(pathLabels)\n      .join(\"li\")\n      .attr(\"class\", \"legend-item\")\n      .text((d) => d)\n      .style(\"margin\", \"5px\")\n      .style(\"display\", \"flex\")\n      .style(\"font-size\", `${7 + innerWidth * 0.01}px`)\n      .style(\"font-family\", theme.legend_text_font_family)\n      .style(\"fill\", theme.legend_text_fill)\n      .style(\"padding\", \"5px\")\n      .style(\"border-bottom\", (d) => `3px solid ${lineColorScale(d)}`)\n      .style(\"cursor\", \"pointer\")\n      .style(\"opacity\", (d) => {\n        if (selectedLegends.length === 0) {\n          return 1;\n        }\n        return selectedLegends.includes(d) ? 1 : 0.4;\n      })\n      .on(\"click\", (_e, d) => {\n        setHoveredLegend((current) => (current === d ? null : current));\n        setSelectedLegends((selected) => {\n          if (selected.includes(d)) {\n            return selected.filter((s) => s !== d);\n          }\n\n          return [...selected, d];\n        });\n      })\n      .on(\"mouseover\", (_e, d) => {\n        setHoveredLegend(d);\n      })\n      .on(\"mouseout\", (_e, d) => {\n        setHoveredLegend((current) => (current === d ? null : current));\n      });\n\n    // Y-Axis\n    const yAxisFormat =\n      yScaleDomain[1] - yScaleDomain[0] < 0.06 ? \",.1%\" : \",.0%\";\n    const yAxis = axisRight(yScale)\n      .ticks(theme.y_axis_tick_number)\n      .tickSize(innerWidth)\n      .tickFormat(format(yAxisFormat));\n    const yAxisElement = container.select<SVGGElement>(\".y-axis\");\n    yAxisElement.transition().duration(1000).call(yAxis);\n    yAxisElement.select(\".domain\").remove();\n    yAxisElement\n      .selectAll(\".tick line\")\n      .attr(\"stroke\", theme.y_axis_tick_line_stroke);\n    yAxisElement\n      .selectAll(\".tick text\")\n      .style(\"font-size\", `${8 + innerHeight * 0.02}px`)\n      .attr(\"fill\", theme.y_axis_tick_font_fill);\n\n    // X-Axis\n    let years = Array.from(new Set(data.map((d) => d.year)));\n    if (years.length > 8) {\n      years =\n        years.length % 2 === 0\n          ? years.filter((_, i) => i % 2 !== 0)\n          : years.filter((_, i) => i % 2 === 0);\n    }\n\n    const xAxis = axisBottom(xScale)\n      .tickValues(years)\n      .tickFormat((d) => `${d}`);\n    const xAxisElement = container.select<SVGGElement>(\".x-axis\");\n    xAxisElement.call(xAxis);\n    xAxisElement.select(\".domain\").remove();\n    xAxisElement.selectAll(\".tick line\").remove();\n    xAxisElement\n      .selectAll(\".tick text\")\n      .style(\"font-size\", `${10 + innerWidth * 0.015}px`)\n      .attr(\"fill\", theme.x_axis_tick_font_fill)\n      .attr(\"y\", 5 + innerHeight * 0.08);\n\n    // Levels\n    container\n      .select(\".levels\")\n      .selectAll(\".level\")\n      .data(displayLevels ? levels : [])\n      .join(\n        (enter) =>\n          enter\n            .append(\"rect\")\n            .attr(\"class\", \"level\")\n            .attr(\"data-testid\", ({ level }) => `level-${level}`)\n            .attr(\"x\", 0)\n            .attr(\"y\", (d) => yScale(d.start))\n            .attr(\"width\", innerWidth)\n            .attr(\n              \"height\",\n              ({ start, end }) =>\n                innerHeight - yScale(start) - (innerHeight - yScale(end))\n            )\n            .attr(\"fill\", ({ level }) => levelColor(level))\n            .attr(\"opacity\", 0.2),\n        (update) =>\n          update.call((update) =>\n            update\n              .transition()\n              .duration(1000)\n              .attr(\"y\", (d) => yScale(d.start))\n              .attr(\n                \"height\",\n                ({ start, end }) =>\n                  innerHeight - yScale(start) - (innerHeight - yScale(end))\n              )\n          ),\n        (exit) => exit.remove()\n      );\n\n    // Paths\n    const lines = line<DataPoint>()\n      .x((d) => xScale(d.year))\n      .y((d) => yScale(d.value));\n    container\n      .select(\".lines\")\n      .selectAll(\".line\")\n      .data(group(data, (d) => d.label))\n      .join(\n        (enter) =>\n          enter\n            .append(\"path\")\n            .attr(\"class\", \"line\")\n            .attr(\"stroke\", ([label]) => lineColorScale(label))\n            .style(\"stroke-width\", 3)\n            .style(\"stroke-linejoin\", \"round\")\n            .style(\"stroke-linecap\", \"round\")\n            .attr(\"fill\", \"none\")\n            .style(\"mix-blend-mode\", \"multiply\")\n            .attr(\"d\", ([, d]) => lines(d)),\n        (update) =>\n          update.call((update) =>\n            update\n              .attr(\"opacity\", ([label]) => {\n                if (highlightedLegends.length === 0) {\n                  return 1;\n                }\n                return highlightedLegends.includes(label) ? 1 : 0.4;\n              })\n              .transition()\n              .duration(1000)\n              .attr(\"d\", ([, d]) => lines(d))\n          ),\n        (exit) => exit.remove()\n      );\n  }, [\n    data,\n    delayedZoom,\n    displayLevels,\n    hoveredLegend,\n    innerHeight,\n    innerWidth,\n    levels,\n    selectedLegends,\n    svgContainerRef,\n  ]);\n\n  return (\n    <div>\n      <ul\n        ref={legendContainerRef}\n        style={{\n          display: \"flex\",\n          justifyContent: \"flex-start\",\n          flexWrap: \"wrap\",\n          marginLeft: \"5%\",\n          width: \"80%\",\n        }}\n      />\n      <div ref={svgContainerRef}>\n        <svg\n          className={styles.lineChart}\n          height={marginOffsets.top + height + marginOffsets.bottom}\n          width={marginOffsets.left + width + marginOffsets.right}\n        >\n          <g\n            transform={`translate(${marginOffsets.left}, ${marginOffsets.top})`}\n          >\n            <g className=\"x-axis\" transform={`translate(0, ${innerHeight})`} />\n            <g className=\"y-axis\">\n              <text\n                fill={theme.y_axis_label_fill}\n                transform=\"rotate(-90)\"\n                x={-innerHeight / 1.5}\n                y={innerWidth * 1.15}\n                style={{\n                  fontSize: `${7 + innerWidth * 0.02}px`,\n                  fontFamily: theme.y_axis_label_font_family,\n                }}\n              >\n                {theme.y_axis_label}\n              </text>\n            </g>\n            <g className=\"levels\" />\n            <g className=\"lines\" />\n          </g>\n        </svg>\n      </div>\n    </div>\n  );\n};\n\nexport default LineChart;\n\nfunction getYScaleDomain(data: DataPoint[], zoom: boolean): [number, number] {\n  if (!zoom) {\n    return [0, 1];\n  }\n\n  const maxValue = Math.max(...data.map((d) => d.value));\n  const minValue = Math.min(...data.map((d) => d.value));\n\n  const additionalMargin = (maxValue - minValue) * 0.2;\n  const yMin = Math.floor((minValue - additionalMargin) * 100) / 100;\n  const yMax = Math.ceil((maxValue + additionalMargin) * 100) / 100;\n\n  return [Math.max(yMin, 0), Math.min(yMax, 1)];\n}\n","import React from \"react\";\nimport { StatisticData } from \"../../App\";\nimport { GraphData } from \"../main_component\";\nimport BarChart, { Bar, BarStyle } from \"../Charts/BarChart\";\nimport LineChart, { DataPoint } from \"../Charts/LineChart\";\nimport { Level } from \"../Charts/types\";\n\nexport interface Props {\n  svgContainerRef: React.RefObject<HTMLDivElement>;\n  data: GraphData;\n  chartType: \"bar\" | \"line\";\n  zoom: boolean;\n  showLevel: boolean;\n  levels: Level[];\n  selectedTreatmentUnits: string[];\n}\n\nfunction Chart(props: Props) {\n  switch (props.chartType) {\n    case \"line\":\n      const lineChartData = getLineChartData(props.data);\n      return <LineChart {...props} data={lineChartData} />;\n    case \"bar\":\n      const barChartData: Bar[] = getBarChartData(props);\n      return <BarChart {...props} data={barChartData} />;\n  }\n}\n\nexport default Chart;\n\nconst getBarChartData = (props: Props): Bar[] =>\n  parseBarChartData(props.data)\n    .map((d) => {\n      const style: BarStyle = {};\n\n      if (d.unit_name === \"Nasjonalt\") {\n        style.color = \"#00263D\";\n      } else {\n        style.color = \"#7EBEC7\";\n        if (props.selectedTreatmentUnits.length) {\n          style.opacity = props.selectedTreatmentUnits.includes(d.unit_name)\n            ? 1\n            : 0.5;\n        }\n      }\n\n      return {\n        label: d.unit_name,\n        value: d.var,\n        style,\n      };\n    })\n    .sort((a, b) => b.value - a.value);\n\nfunction parseBarChartData(data: GraphData) {\n  return data.agg_data.all_filtered_by_year.filter(\n    (data_by_year: StatisticData) => {\n      if (data_by_year.unit_level !== \"nation\") {\n        return !(\n          data_by_year.denominator <\n            (data.description[0][\"min_denominator\"] ?? 0) ||\n          (data_by_year.dg ?? 1) < 0.6\n        ); //|| typeof(data_by_year.dg) === \"undefined\" )\n      } else {\n        return true;\n      }\n    }\n  );\n}\n\nconst getLineChartData = (data: GraphData): DataPoint[] =>\n  parseLineChartData(data).map((d) => ({\n    label: d.unit_name,\n    year: d.year,\n    value: d.var,\n  }));\n\nfunction parseLineChartData(data: GraphData): StatisticData[] {\n  return data.agg_data.filtered_by_unit.filter(\n    (data_by_year: StatisticData) => {\n      if (data_by_year.unit_level !== \"nation\") {\n        return !(\n          data_by_year.denominator <\n            (data.description[0][\"min_denominator\"] ?? 0) ||\n          (data_by_year.dg ?? 1) < 0.6\n        ); //|| typeof(data_by_year.dg) === \"undefined\" )\n      } else {\n        return true;\n      }\n    }\n  );\n}\n","import React, { useRef, useState } from \"react\";\n\nimport TF_BUTTON from \"../tf_button\";\nimport TF_DDMENU from \"../tf_ddmenu\";\nimport TF_LONG_DESCRIPTION from \"../tf_description\";\nimport { GraphData } from \"../main_component\";\nimport Chart from \"./Chart\";\nimport { level_boundary } from \"./tr_utils\";\n\nexport interface Props {\n  colspan?: number;\n  data: GraphData;\n  figure_class?: string;\n  selectedTreatmentUnits: string[];\n  update_selected_row(row: string): void;\n}\n\nfunction TF_FIGURE(props: Props) {\n  const {\n    colspan = 3,\n    data,\n    figure_class,\n    update_selected_row,\n    selectedTreatmentUnits,\n  } = props;\n\n  const svgContainerRef = useRef<HTMLDivElement>(null);\n  const [chart_type, update_chart_type] = useState<\"line\" | \"bar\">(\"line\");\n  const [zoom, update_zoom] = useState(true);\n  const [show_level, update_show_level] = useState(false);\n\n  if (\n    !data.agg_data.filtered_by_year.some((d) => d.unit_name === \"Nasjonalt\")\n  ) {\n    data.agg_data.filtered_by_year.push(\n      data.agg_data.nation.filtered_by_year[0]\n    );\n    Array.prototype.push.apply(\n      data.agg_data.filtered_by_unit,\n      data.agg_data.nation.filtered_by_unit\n    );\n  }\n\n  let levels = level_boundary(data.description[0]);\n\n  return (\n    <tr className={figure_class}>\n      <td colSpan={colspan}>\n        <div className=\"tr_figure\">\n          <div className=\"tr_buttons_container\">\n            <TF_DDMENU\n              svgContainer={svgContainerRef}\n              show_level={show_level}\n              update_show_level={update_show_level}\n              zoom={zoom}\n              update_zoom={update_zoom}\n              update_selected_row={update_selected_row}\n              description={data.description[0]}\n            />\n            <TF_BUTTON\n              chart_type={chart_type}\n              update_chart_type={update_chart_type}\n            />\n          </div>\n          <Chart\n            svgContainerRef={svgContainerRef}\n            data={data}\n            chartType={chart_type}\n            zoom={zoom}\n            showLevel={show_level}\n            levels={levels}\n            selectedTreatmentUnits={selectedTreatmentUnits}\n          />\n          <TF_LONG_DESCRIPTION\n            description_text={data.description[0].long_description ?? \"\"}\n          />\n        </div>\n      </td>\n    </tr>\n  );\n}\n\nexport default TF_FIGURE;\n","export interface Config {\n  level_direction: number;\n  level_green: number | null;\n  level_yellow: number | null;\n}\n\nexport function level_boundary(config: Config) {\n  const level_direction = config.level_direction;\n  const level_yellow = config.level_yellow ?? 0;\n  const level_green = config.level_green ?? 0;\n\n  switch (level_direction) {\n    case 0:\n      return [\n        { level: \"high\", start: level_green, end: 0 },\n        { level: \"mid\", start: level_yellow, end: level_green },\n        { level: \"low\", start: 1, end: level_yellow },\n      ];\n    case 1:\n      return [\n        { level: \"high\", start: 1, end: level_green },\n        { level: \"mid\", start: level_green, end: level_yellow },\n        { level: \"low\", start: level_yellow, end: 0 },\n      ];\n    default:\n      throw new Error(`${level_direction} is not a valid direction`);\n  }\n}\n","import React from \"react\";\n\nconst NO_DATA = () => {\n  return <div style={{ textAlign: \"center\", opacity: \"0.3\" }}>Ingen data</div>;\n};\n\nexport default NO_DATA;\n","import React from \"react\";\n\nconst LOW_COV = () => {\n  return <div style={{ textAlign: \"center\", opacity: \"0.3\" }}>Lav dg</div>;\n};\n\nexport default LOW_COV;\n","import React from \"react\";\n\nconst LOW_N = () => {\n  return <div style={{ textAlign: \"center\", opacity: \"0.3\" }}>Lav N</div>;\n};\n\nexport default LOW_N;\n","import React from \"react\";\n\nimport INDICATOR_VALUE from \"./indicator_value\";\nimport INDICATOR_DESCRIPTION from \"./indicator_description\";\nimport TF_FIGURE from \"./TF_FIGURE\";\n\nimport NO_DATA from \"./no_data\";\nimport LOW_COV from \"./low_cov\";\nimport LOW_N from \"./low_n\";\nimport { Description } from \"../App\";\nimport { GraphData } from \"./main_component\";\n\nexport const format_indicator_values = (\n  treatment_unit_name: string[],\n  data: GraphData,\n  ind_id: string,\n  description: Description,\n  show_level_filter: string\n) => {\n  if (treatment_unit_name.length === 0) return null;\n  return treatment_unit_name.map((tr_unit, index) => {\n    const ind_per_unit = data.agg_data.filtered_by_year.filter(\n      (data) => data.unit_name === tr_unit // [data_config.column.treatment_unit]\n    );\n    if (ind_per_unit.length < 1) {\n      return (\n        <td key={`${ind_id}_${tr_unit}_${index}_su`} className=\"selected_unit\">\n          <NO_DATA />\n        </td>\n      );\n    } else if ((ind_per_unit[0].dg ?? 1) < 0.6) {\n      // [data_config.column.coverage_id as keyof StatisticData]\n      //|| typeof(ind_per_unit[0][data_config.column.coverage_id]) === \"undefined\") {\n      return (\n        <td key={`${ind_id}_${tr_unit}_${index}_su`} className=\"selected_unit\">\n          <LOW_COV />\n        </td>\n      );\n    } else if (\n      ind_per_unit[0].denominator < (description.min_denominator ?? 0) //[data_config.column.denominator as keyof StatisticData] [data_config.column.min_denominator as keyof Description]\n    ) {\n      return (\n        <td key={`${ind_id}_${tr_unit}_${index}_su`} className=\"selected_unit\">\n          <LOW_N />\n        </td>\n      );\n    } else {\n      const ind_type = description.type; // [data_config.column.indicator_type as keyof Description];\n      const level_class =\n        ind_per_unit[0].level !== show_level_filter && // [data_config.column.achieved_level as keyof StatisticData]\n        show_level_filter !== null\n          ? \"filtered_level\"\n          : \"\";\n      return (\n        <INDICATOR_VALUE\n          key={`${ind_id}_${tr_unit}_${index}_su`}\n          ind_type={ind_type}\n          data={ind_per_unit[0]}\n          td_class={`selected_unit ${level_class}`}\n          filtered={!!level_class}\n        />\n      );\n    }\n  });\n};\n\ninterface Props {\n  data: GraphData;\n  treatment_unit_name?: string[];\n  med_field_class?: string;\n  show_level_filter?: string;\n  selected_row: string;\n  colspan?: number;\n  update_selected_row(row: string): void;\n}\n\nfunction INDICATOR_ROW(props: Props) {\n  const {\n    data,\n    treatment_unit_name = [],\n    med_field_class = \"\",\n    show_level_filter = \"\",\n    selected_row,\n    update_selected_row,\n    colspan,\n  } = props;\n  const description = data.description[0];\n  const ind_id = description.id; // [data_config.column.id as keyof Description];\n  const tr_indicator_class = `${ind_id}  ${\n    description.rname // [data_config.column.registry_short_name as keyof Description]\n  }`;\n  const indicator_val = format_indicator_values(\n    treatment_unit_name,\n    data,\n    ind_id,\n    description,\n    show_level_filter\n  );\n\n  const level_class =\n    data.agg_data.nation.filtered_by_year[0].level !== show_level_filter &&\n    show_level_filter !== null\n      ? \"filtered_level\"\n      : \"\";\n\n  const tr_fig =\n    selected_row === ind_id ? (\n      <TF_FIGURE\n        colspan={colspan}\n        data={data}\n        figure_class={med_field_class}\n        selectedTreatmentUnits={treatment_unit_name}\n        update_selected_row={update_selected_row}\n      />\n    ) : null;\n\n  const tr_click_handler = () => {\n    if (selected_row === ind_id) {\n      update_selected_row(\"\");\n    } else {\n      update_selected_row(ind_id);\n    }\n  };\n  return (\n    <>\n      <tr\n        onClick={() => tr_click_handler()}\n        id={`${tr_indicator_class}`}\n        className={`${tr_indicator_class} ${med_field_class} indicator`}\n      >\n        <INDICATOR_DESCRIPTION description={description} />\n        {indicator_val}\n        <INDICATOR_VALUE\n          key={``}\n          data={data.agg_data.nation.filtered_by_year[0]}\n          td_class={`nationally ${level_class}`}\n        />\n      </tr>\n      {tr_fig}\n    </>\n  );\n}\n\nexport default INDICATOR_ROW;\n","import React from \"react\";\n\ninterface Props {\n  register_name: string;\n  colspan: number;\n  tr_register_name_class: string;\n}\n\nfunction REGISTER_NAME(props: Props) {\n  const {\n    register_name = \"Nasjonalt hoftebruddregister\",\n    colspan = 2,\n    tr_register_name_class = \"register-row\",\n  } = props;\n  return (\n    <tr className={tr_register_name_class}>\n      <td colSpan={colspan}>\n        <h3 className=\"reg-name\">{register_name}</h3>\n      </td>\n    </tr>\n  );\n}\n\nexport default REGISTER_NAME;\n","import React from \"react\";\n\nimport INDICATOR_ROW from \"./indicator_row\";\nimport REGISTER_NAME from \"./register_name\";\nimport { AggData, Description } from \"../App\";\n// import { GraphData } from \"./main_component\";\n\ninterface RegisterData {\n  agg_data: AggData;\n  description: Description[];\n}\nexport interface RegisterProps {\n  data: RegisterData;\n  register_sname: string;\n  treatment_year: number;\n  treatment_unit_name: string[];\n  tr_register_name_class?: string;\n  med_field_filter: string[];\n  show_level_filter: string;\n  colspan?: number;\n  selected_row: string;\n  update_selected_row: (e: string) => void;\n}\n\nconst Register = (props: RegisterProps) => {\n  const {\n    register_sname = \"hjerte\",\n    colspan = 4,\n    tr_register_name_class = \"register-row\",\n    data,\n    treatment_unit_name,\n    med_field_filter,\n    show_level_filter,\n    selected_row,\n    update_selected_row,\n  } = props;\n  const med_field_class = med_field_filter.includes(register_sname)\n    ? \"\"\n    : \"filter_med_field\";\n  const register_name = Array.from(\n    new Set(data.description.map((d) => d.full_name))\n  );\n  const ind_id: string[] = Array.from(\n    new Set(data.agg_data.filtered_by_year.map((d) => d.ind_id))\n  );\n  const IndicatorRow = ind_id.map((indicator) => {\n    let agg_data: AggData = {\n      nation: {\n        filtered_by_unit: [],\n        filtered_by_year: [],\n      },\n      filtered_by_unit: [],\n      filtered_by_year: [],\n      all_filtered_by_year: [],\n    };\n    agg_data.filtered_by_year = data.agg_data.filtered_by_year.filter(\n      (d) => d.ind_id === indicator\n    );\n    agg_data.filtered_by_unit = data.agg_data.filtered_by_unit.filter(\n      (d) => d.ind_id === indicator\n    );\n    agg_data.nation.filtered_by_year = data.agg_data.nation.filtered_by_year.filter(\n      (d) => d.ind_id === indicator\n    );\n    agg_data.all_filtered_by_year = data.agg_data.all_filtered_by_year.filter(\n      (d) => d.ind_id === indicator\n    );\n    agg_data.nation.filtered_by_unit = data.agg_data.nation.filtered_by_unit.filter(\n      (d) => d.ind_id === indicator\n    );\n    const description = data.description.filter((d) => d.id === indicator);\n\n    return (\n      <INDICATOR_ROW\n        data={{ agg_data, description }}\n        key={indicator}\n        treatment_unit_name={treatment_unit_name}\n        med_field_class={med_field_class}\n        show_level_filter={show_level_filter}\n        colspan={colspan}\n        selected_row={selected_row}\n        update_selected_row={update_selected_row}\n      />\n    );\n  });\n  return (\n    <>\n      <REGISTER_NAME\n        register_name={register_name[0]}\n        colspan={colspan}\n        tr_register_name_class={`${tr_register_name_class} ${register_sname} ${med_field_class}`}\n      />\n      {IndicatorRow}\n    </>\n  );\n};\n\nexport default Register;\n","import { AggData, Description, StatisticData, TreatmentUnit } from \"../App\";\nimport app_config from \"../app_config\";\n\ninterface NestedTreatmentUnitName {\n  rhf: string;\n  hf: {\n    hf: string;\n    hf_full: string;\n    hospital: string[];\n  }[];\n}\ninterface InputParams {\n  selected_unit: string[];\n  selected_year: number;\n}\n\nexport const filter_year_unit = (\n  data: StatisticData[],\n  input_params: InputParams\n) => {\n  const { selected_unit, selected_year } = input_params;\n\n  const filtered_by_unit = data.filter(\n    (d) => selected_unit.includes(d.unit_name) // [data_config.column.treatment_unit]\n  );\n\n  const filtered_by_year = filtered_by_unit.filter(\n    (d) => d.year === selected_year // [data_config.column.year]\n  );\n\n  return {\n    filtered_by_unit,\n    filtered_by_year,\n  };\n};\n\nexport const filter_register = (\n  data: { agg_data: AggData; description: Description[] },\n  register: any\n) => {\n  const description = data.description.filter(\n    (desc: any) =>\n      desc[app_config.data_config.column.registry_short_name] === register\n  );\n  const indicator_name = description.map(\n    (desc: any) => desc[app_config.data_config.column.id]\n  );\n  const agg_data: any = {};\n  agg_data.filtered_by_unit = data.agg_data.filtered_by_unit.filter(\n    (data) => indicator_name.includes(data.ind_id) // [app_config.data_config.column.indicator_id]\n  );\n  agg_data.filtered_by_year = data.agg_data.filtered_by_year.filter(\n    (data) => indicator_name.includes(data.ind_id) // [app_config.data_config.column.indicator_id]\n  );\n  agg_data.all_filtered_by_year = data.agg_data.all_filtered_by_year.filter(\n    (data) => indicator_name.includes(data.ind_id) // [app_config.data_config.column.indicator_id]\n  );\n  const nation: any = {};\n  nation.filtered_by_unit = data.agg_data.nation.filtered_by_unit.filter(\n    (data: any) => indicator_name.includes(data.ind_id) // [app_config.data_config.column.indicator_id]\n  );\n  nation.filtered_by_year = data.agg_data.nation.filtered_by_year.filter(\n    (data: any) => indicator_name.includes(data.ind_id) // [app_config.data_config.column.indicator_id]\n  );\n  agg_data.nation = nation;\n  return { agg_data, description };\n};\n\nexport const nest_tu_names = (tu_names: TreatmentUnit[]) => {\n  tu_names.sort((a, b) => {\n    return a.hospital > b.hospital ? 1 : a.hospital < b.hospital ? -1 : 0;\n  });\n  tu_names.sort((a, b) => {\n    return a.hf_full > b.hf_full ? 1 : a.hf_full < b.hf_full ? -1 : 0;\n  });\n  tu_names.sort((a, b) => {\n    return a.rhf > b.rhf ? 1 : a.rhf < b.rhf ? -1 : 0;\n  });\n\n  const nested_tu_names = tu_names.reduce((acc, cur) => {\n    if (acc.length === 0 || acc.every((tu_entry) => tu_entry.rhf !== cur.rhf)) {\n      const entry = {\n        rhf: cur.rhf,\n        hf: [\n          {\n            hf: cur.hf,\n            hf_full: cur.hf_full,\n            hospital: [cur.hospital],\n          },\n        ],\n      };\n      acc = [...acc, entry];\n    } else {\n      const hf_names = acc\n        .filter((acc_data) => acc_data.rhf === cur.rhf)\n        .map((data) => data.hf)\n        .map((data) => data.map((d) => d.hf))\n        .flat();\n\n      if (!hf_names.includes(cur.hf)) {\n        const hf_entry = {\n          hf: cur.hf,\n          hf_full: cur.hf_full,\n          hospital: [cur.hospital],\n        };\n        acc.filter((acc_data) => acc_data.rhf === cur.rhf)[0].hf.push(hf_entry);\n      } else {\n        acc\n          .filter((acc_data) => acc_data.rhf === cur.rhf)[0]\n          .hf.filter((hf) => hf.hf === cur.hf)[0]\n          .hospital.push(cur.hospital);\n      }\n    }\n    return acc;\n  }, [] as NestedTreatmentUnitName[]);\n\n  return nested_tu_names;\n};\n","import React from \"react\";\n\nimport Register, { RegisterProps } from \"./register\";\n\nimport { med_field } from \"../app_config\";\nimport { filter_register } from \"../data/filter_year_unit\";\n\nfunction TABLE_BODY(props: RegisterProps) {\n  const {\n    colspan = 4,\n    data,\n    treatment_unit_name,\n    treatment_year,\n    med_field_filter,\n    show_level_filter,\n    selected_row,\n    update_selected_row,\n  } = props;\n\n  //if no valid treatment unit loop through the national\n  if (treatment_unit_name.length < 1) {\n    data.agg_data.filtered_by_year = data.agg_data.nation.filtered_by_year;\n    data.agg_data.filtered_by_unit = data.agg_data.nation.filtered_by_unit;\n  }\n  //loop registry for registry following the seq laid out by the med field list\n  const done: string[] = [];\n  const table_body = med_field.map(function (field) {\n    let register_block = field.key.map((register) => {\n      if (!done.includes(register)) {\n        done.push(register);\n        const register_data = filter_register(data, register);\n\n        if (register_data.agg_data.filtered_by_year.length > 0) {\n          return (\n            <Register\n              key={`${register}`}\n              register_sname={register}\n              data={register_data}\n              colspan={colspan}\n              treatment_unit_name={treatment_unit_name}\n              treatment_year={treatment_year}\n              med_field_filter={med_field_filter}\n              show_level_filter={show_level_filter}\n              selected_row={selected_row}\n              update_selected_row={update_selected_row}\n            />\n          );\n        }\n      }\n      return null;\n    });\n    return register_block;\n  });\n\n  return <tbody>{table_body}</tbody>;\n}\n\nexport default TABLE_BODY;\n","import React from \"react\";\n\nimport TABLE_HEADER from \"./indicator_table_header\";\nimport TABLE_BODY from \"./indicator_table_body\";\n\nfunction INDICATOR_TABLE(props) {\n  const {\n    treatment_unit_name = [],\n    treatment_year = 2019,\n    data,\n    colspan,\n    med_field_filter,\n    show_level_filter,\n    selected_row,\n    update_selected_row,\n    selection_bar_height,\n    legend_height,\n  } = props;\n\n  return (\n    <table>\n      <TABLE_HEADER\n        col_nr={colspan}\n        treatment_unit_name={treatment_unit_name}\n        selection_bar_height={selection_bar_height}\n        legend_height={legend_height}\n      />\n      <TABLE_BODY\n        colspan={colspan}\n        data={data}\n        treatment_unit_name={treatment_unit_name}\n        treatment_year={treatment_year}\n        med_field_filter={med_field_filter}\n        show_level_filter={show_level_filter}\n        selected_row={selected_row}\n        update_selected_row={update_selected_row}\n      />\n    </table>\n  );\n}\n\nexport default INDICATOR_TABLE;\n","import React from \"react\";\n\ninterface Props {\n  level: string;\n  icon_class: string;\n  legend_btn_class: string;\n  update_show_level_filter: (p: string | null) => void | null;\n  show_level_filter: string;\n}\n\nfunction LEGEND_BTN(props: Props) {\n  const {\n    level = \"Hy mloppnelse\",\n    icon_class = \"fa fa-fas fa-circle\",\n    legend_btn_class = \"high\",\n    update_show_level_filter,\n    show_level_filter,\n  } = props;\n\n  const level_filter = legend_btn_class[0].toUpperCase();\n  const checked_class = level_filter === show_level_filter ? \"checked\" : \"\";\n  const handle_level_filter = (current_state: string, update_state: string) => {\n    if (current_state === update_state) {\n      update_show_level_filter(null);\n    } else {\n      update_show_level_filter(update_state);\n    }\n  };\n\n  return (\n    <button\n      className={`${legend_btn_class} ${checked_class}`}\n      onClick={() => handle_level_filter(show_level_filter, level_filter)}\n    >\n      <i className={`${icon_class} legend-icon`}> </i>\n      <div className=\"legend-text\">{level}</div>\n    </button>\n  );\n}\n\nexport default LEGEND_BTN;\n","import React, { useRef, useEffect } from \"react\";\n\nimport LEGEND_BTN from \"./legend_btn\";\n\nimport useResizeObserver from \"./utils\";\n\nfunction LEGEND(props) {\n  const {\n    app_text = {\n      indicators: {\n        high: { text: \"Hy mloppnelse\", icon: \"fa fa-fas fa-circle\" },\n      },\n    },\n    update_show_level_filter,\n    show_level_filter,\n    selection_bar_height,\n    update_legend_height,\n  } = props;\n  const legend_ref = useRef();\n  const dim = useResizeObserver(legend_ref);\n  useEffect(() => {\n    const top = dim ? dim.target.offsetHeight : \"\";\n    update_legend_height(top);\n  }, [dim, legend_ref, update_legend_height]);\n\n  const legend_btns = Object.keys(app_text.indicators).map(function (level) {\n    return (\n      <LEGEND_BTN\n        update_show_level_filter={update_show_level_filter}\n        show_level_filter={show_level_filter}\n        key={`${level}_legend_btn`}\n        icon_class={this[level].icon}\n        level={this[level].text}\n        legend_btn_class={level}\n      />\n    );\n  }, app_text.indicators);\n\n  const style = { top: `${selection_bar_height}px` };\n\n  return (\n    <div className=\"table_legend\" ref={legend_ref} style={style}>\n      {legend_btns}\n    </div>\n  );\n}\n\nexport default LEGEND;\n","import React from \"react\";\n\nfunction MED_FIELD_ROW(props) {\n  const {\n    med_field_name = \"Hjerte- og karsykdommer\",\n    nr_indicators = 10,\n    update_med_field_filter,\n    update_clicked_med_field,\n    clicked_med_field,\n  } = props;\n\n  const class_checked =\n    clicked_med_field === med_field_name.react_key ? \"checked\" : \"\";\n  const handle_med_field_click = () => {\n    update_clicked_med_field(med_field_name.react_key);\n    update_med_field_filter(med_field_name.key);\n  };\n\n  return (\n    <li\n      className={`med_field ${class_checked} med_field_${med_field_name.react_key}`}\n    >\n      <button\n        className=\"med_field_text\"\n        onClick={() => handle_med_field_click()}\n      >\n        {med_field_name.name.toUpperCase()}\n        <div className=\"med_field_nrind\">{nr_indicators}</div>\n      </button>\n    </li>\n  );\n}\n\nexport default MED_FIELD_ROW;\n","import React from \"react\";\n\nimport MED_FIELD_ROW from \"./med_field_row\";\n\nfunction MED_FIELD(props) {\n  const {\n    med_field = [],\n    ind_per_reg,\n    update_med_field_filter,\n    clicked_med_field,\n    update_clicked_med_field,\n    selection_bar_height,\n    legend_height,\n  } = props;\n\n  const all_reg = ind_per_reg.map((ind) => ind.registry_name);\n  const med_field_row = med_field.map((med_field) => {\n    const nr_ind = ind_per_reg\n      .filter((reg) => med_field.key.includes(reg.registry_name))\n      .reduce((acc, cur) => {\n        return acc + cur.number_ind;\n      }, 0);\n\n    return (\n      <MED_FIELD_ROW\n        key={med_field.react_key}\n        med_field_name={med_field}\n        nr_indicators={nr_ind}\n        update_med_field_filter={update_med_field_filter}\n        clicked_med_field={clicked_med_field}\n        update_clicked_med_field={update_clicked_med_field}\n      />\n    );\n  });\n\n  const tot_nr_ind = ind_per_reg.reduce((acc, cur) => {\n    return acc + cur.number_ind;\n  }, 0);\n\n  const checked_class = \"all\" === clicked_med_field ? \"checked\" : \"\";\n  const handle_med_field_click = () => {\n    update_clicked_med_field(\"all\");\n    update_med_field_filter(all_reg);\n  };\n\n  const style = { top: `${legend_height + selection_bar_height}px` };\n  return (\n    <ul style={style} className=\"med_field_list\">\n      <li className={`med_field_title ${checked_class}`}>\n        <button onClick={() => handle_med_field_click()}>\n          <h4 className=\"med_field_text\">\n            ALLE INDIKATORER\n            <div className=\"med_field_nrind\">{tot_nr_ind}</div>\n          </h4>\n        </button>\n      </li>\n      {med_field_row}\n    </ul>\n  );\n}\n\nexport default MED_FIELD;\n","import React, { useState } from \"react\";\nimport { AggData, Description, StatisticData } from \"../App\";\n\nimport INDICATOR_TABLE from \"./indicator_table\";\nimport LEGEND from \"./legend\";\nimport MED_FIELD from \"./med_field\";\n\nexport interface GraphData {\n  agg_data: AggData;\n  description: Description[];\n}\n\nexport interface IndPerReg {\n  registry_name: string;\n  number_ind: number;\n  indicators: Description[];\n}\n\nconst apply_filters = ({\n  agg_data,\n  description,\n  show_level_filter,\n  filter_level_only = false,\n}: {\n  agg_data: StatisticData[];\n  description: Description[];\n  show_level_filter: string;\n  filter_level_only?: boolean;\n}): StatisticData[] => {\n  const filtered_by_threshold =\n    filter_level_only ?? false\n      ? agg_data\n      : agg_data\n          .filter((u) => {\n            return (u.dg ?? 0) > 0.6;\n          })\n          .filter((u) => {\n            return (\n              u.denominator >\n              (description[description.findIndex((d) => d.id === u.ind_id)]\n                .min_denominator ?? 0)\n            );\n          });\n  const filter_by_level = filtered_by_threshold.filter(\n    (u) => u.level === show_level_filter\n  );\n  return filter_by_level;\n};\n\nconst filter_data = (\n  data: GraphData,\n  show_level_filter: string | null\n): GraphData => {\n  if (show_level_filter === null) {\n    return data;\n  }\n\n  const data_filtered = [\n    apply_filters({\n      agg_data: data.agg_data.filtered_by_year,\n      description: data.description,\n      show_level_filter,\n    }),\n    apply_filters({\n      agg_data: data.agg_data.nation.filtered_by_year,\n      description: data.description,\n      show_level_filter,\n      filter_level_only: true,\n    }),\n  ].sort((a, b) => b.length - a.length);\n\n  const ind_ids_remaining = data_filtered\n    .map((a) => Array.isArray(a) && a.map((u) => u.ind_id))\n    .reduce((acc: string[], val) => acc.concat(val || []), [])\n    .filter((v, i, a) => a.indexOf(v) === i);\n\n  return {\n    agg_data: {\n      filtered_by_year: data.agg_data.filtered_by_year.filter((u) =>\n        ind_ids_remaining.includes(u.ind_id)\n      ),\n      filtered_by_unit: data.agg_data.filtered_by_unit.filter((u) =>\n        ind_ids_remaining.includes(u.ind_id)\n      ),\n      all_filtered_by_year: data.agg_data.all_filtered_by_year.filter((u) =>\n        ind_ids_remaining.includes(u.ind_id)\n      ),\n      nation: {\n        filtered_by_year: data.agg_data.nation.filtered_by_year.filter((u) =>\n          ind_ids_remaining.includes(u.ind_id)\n        ),\n        filtered_by_unit: data.agg_data.nation.filtered_by_unit.filter((u) =>\n          ind_ids_remaining.includes(u.ind_id)\n        ),\n      },\n    },\n    description: data.description.filter((d) =>\n      ind_ids_remaining.includes(d.id)\n    ),\n  };\n};\n\nexport interface Props {\n  data: GraphData;\n  med_field: any;\n  app_text: any;\n  ind_per_reg: IndPerReg[];\n  treatment_units: string[];\n  selected_year: number;\n  colspan: number;\n  selected_row: any;\n  update_selected_row(row: any): void;\n  selection_bar_height: number | null;\n  legend_height: any;\n  update_legend_height(height: any): void;\n}\nconst Main = (props: Props) => {\n  const {\n    data,\n    med_field,\n    app_text,\n    ind_per_reg,\n    treatment_units,\n    selected_year,\n    colspan,\n    selected_row,\n    update_selected_row,\n    selection_bar_height,\n    legend_height,\n    update_legend_height,\n  } = props;\n  const all_reg = ind_per_reg.map((reg) => reg.registry_name);\n  const [show_level_filter, update_show_level_filter] = useState(null);\n  const [med_field_filter, update_med_field_filter] = useState(all_reg);\n  const [clicked_med_field, update_clicked_med_field] = useState(\"all\");\n  const filtered_data = filter_data(data, show_level_filter);\n  return (\n    <>\n      <LEGEND\n        app_text={app_text}\n        update_show_level_filter={update_show_level_filter}\n        show_level_filter={show_level_filter}\n        selected_row={selected_row}\n        update_selected_row={update_selected_row}\n        selection_bar_height={selection_bar_height}\n        update_legend_height={update_legend_height}\n      />\n      <div className=\"content_container\">\n        <div className=\"med_field_container\">\n          <MED_FIELD\n            ind_per_reg={ind_per_reg}\n            med_field={med_field}\n            update_med_field_filter={update_med_field_filter}\n            clicked_med_field={clicked_med_field}\n            update_clicked_med_field={update_clicked_med_field}\n            selected_row={selected_row}\n            update_selected_row={update_selected_row}\n            selection_bar_height={selection_bar_height}\n            legend_height={legend_height}\n          />\n        </div>\n        <div className=\"main_table_container\">\n          <INDICATOR_TABLE\n            data={filtered_data}\n            treatment_unit_name={treatment_units}\n            treatment_year={selected_year}\n            ind_per_reg={ind_per_reg}\n            colspan={colspan}\n            med_field_filter={med_field_filter}\n            show_level_filter={show_level_filter}\n            selected_row={selected_row}\n            update_selected_row={update_selected_row}\n            selection_bar_height={selection_bar_height}\n            legend_height={legend_height}\n          />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Main;\n","import React from \"react\";\n\nconst HEADER_LOGO_NSM = () => {\n  const style_1 = { fill: \"#231f20\" };\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      id=\"Layer_1\"\n      width=\"100%\"\n      viewBox=\"0 0 330 40\"\n      data-name=\"Layer 1\"\n    >\n      <title>NSFMK_logo_SORT_outline_april_2015</title>\n      <circle className=\"cls-3\" style={style_1} cx=\"16.85\" cy=\"4.38\" r=\"4.38\" />\n      <circle className=\"cls-3\" style={style_1} cx=\"16.85\" cy=\"17\" r=\"4.38\" />\n      <circle className=\"cls-3\" style={style_1} cx=\"4.38\" cy=\"17\" r=\"4.38\" />\n      <circle className=\"cls-3\" style={style_1} cx=\"29.56\" cy=\"17\" r=\"4.38\" />\n      <circle className=\"cls-3\" style={style_1} cx=\"16.85\" cy=\"29.6\" r=\"4.38\" />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 67.41 35.42 l -6 -9.22 l -0.23 -0.41 a 1.32 1.32 0 0 1 -0.15 -0.27 a 2.07 2.07 0 0 1 -0.18 -0.45 V 35.32 H 59.42 V 23.49 h 1.92 l 5.86 9 a 2.52 2.52 0 0 1 0.16 0.29 c 0.07 0.18 0.07 0.2 0.22 0.54 a 0.89 0.89 0 0 0 0.07 0.18 v -10 h 1.47 V 35.42 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 80 35.32 l -1.22 -3.5 H 74 l -1.22 3.5 H 71.21 l 4.4 -12.17 h 1.58 l 4.39 12.17 Z M 76.4 25.07 l -1.93 5.41 h 3.85 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 89.64 25.5 a 5.92 5.92 0 0 0 -1.24 -0.61 a 6.44 6.44 0 0 0 -1.63 -0.25 c -1.34 0 -2.26 0.66 -2.26 1.67 s 0.52 1.32 2.92 2.59 a 10.51 10.51 0 0 1 1.87 1.2 a 2.84 2.84 0 0 1 0.91 2.15 c 0 2 -1.5 3.3 -3.89 3.3 a 5.72 5.72 0 0 1 -2.18 -0.4 a 7.06 7.06 0 0 1 -1.53 -0.87 l 0.76 -1.17 a 6.14 6.14 0 0 0 1.36 0.77 a 4.71 4.71 0 0 0 1.7 0.31 c 1.4 0 2.24 -0.67 2.24 -1.79 a 1.67 1.67 0 0 0 -0.18 -0.85 a 2.73 2.73 0 0 0 -1 -1 c -0.2 -0.11 -0.86 -0.45 -2 -1.06 c -1.78 -1 -2.53 -1.88 -2.53 -3.1 c 0 -1.88 1.56 -3.13 3.91 -3.13 a 6.72 6.72 0 0 1 2 0.28 a 6.38 6.38 0 0 1 1.44 0.7 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 93.79 37.77 a 7.7 7.7 0 0 1 -1.45 1.72 l -1 -0.81 A 7.93 7.93 0 0 0 92.7 37 a 6.19 6.19 0 0 0 0.53 -2.69 V 23.49 H 94.7 V 35.66 A 6.29 6.29 0 0 1 93.79 37.77 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 103.5 35.55 a 5.85 5.85 0 0 1 -6 -6.15 a 5.94 5.94 0 1 1 11.88 0 A 5.84 5.84 0 0 1 103.5 35.55 Z m 0 -11 a 4.63 4.63 0 0 0 -4.34 4.83 a 4.35 4.35 0 1 0 8.65 0 A 4.62 4.62 0 0 0 103.5 24.57 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 120.26 35.42 l -6 -9.22 c -0.06 -0.09 -0.15 -0.24 -0.24 -0.41 a 1.78 1.78 0 0 1 -0.14 -0.27 a 2.07 2.07 0 0 1 -0.18 -0.45 V 35.32 h -1.47 V 23.49 h 1.92 l 5.86 9 c 0 0.08 0.1 0.18 0.16 0.29 s 0.07 0.2 0.21 0.54 c 0 0 0 0.11 0.07 0.18 v -10 H 122 V 35.42 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 132.85 35.32 l -1.22 -3.5 h -4.78 l -1.22 3.5 h -1.58 l 4.41 -12.17 H 130 l 4.39 12.17 Z m -3.6 -10.25 l -1.94 5.41 h 3.86 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 136.52 35.32 V 23.49 H 138 V 34.08 h 5.28 v 1.24 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 147.19 24.73 V 35.32 h -1.47 V 24.73 h -3.94 V 23.49 h 9.35 v 1.24 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 163.69 25.5 a 5.92 5.92 0 0 0 -1.24 -0.61 a 6.44 6.44 0 0 0 -1.63 -0.25 c -1.34 0 -2.26 0.66 -2.26 1.67 s 0.52 1.32 2.92 2.59 a 10.51 10.51 0 0 1 1.87 1.2 a 2.84 2.84 0 0 1 0.91 2.15 c 0 2 -1.51 3.3 -3.89 3.3 a 5.72 5.72 0 0 1 -2.18 -0.4 a 6.84 6.84 0 0 1 -1.53 -0.87 l 0.76 -1.17 a 6.14 6.14 0 0 0 1.36 0.77 a 4.71 4.71 0 0 0 1.7 0.31 c 1.4 0 2.24 -0.67 2.24 -1.79 a 1.67 1.67 0 0 0 -0.18 -0.85 a 2.73 2.73 0 0 0 -1 -1 c -0.2 -0.11 -0.86 -0.45 -2 -1.06 c -1.78 -1 -2.53 -1.88 -2.53 -3.1 c 0 -1.88 1.56 -3.13 3.91 -3.13 a 6.77 6.77 0 0 1 2 0.28 a 6.59 6.59 0 0 1 1.44 0.7 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 167.28 35.32 V 23.49 h 6.65 v 1.24 h -5.18 v 3.94 H 173 v 1.24 h -4.28 v 4.17 h 5.34 v 1.24 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 183.24 35.32 L 180 30.25 H 178.4 v 5.07 h -1.46 V 23.49 h 3.6 a 3.44 3.44 0 0 1 2.79 0.88 a 3.29 3.29 0 0 1 0.93 2.31 a 3.38 3.38 0 0 1 -1 2.46 a 3.16 3.16 0 0 1 -1.79 0.89 l 3.5 5.29 Z M 182 25.07 c -0.36 -0.29 -0.66 -0.34 -1.72 -0.34 H 178.4 V 29 h 1.92 a 2.08 2.08 0 0 0 2.37 -2.31 A 2 2 0 0 0 182 25.07 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 191.14 35.62 h -0.9 l -4.66 -12.13 h 1.58 l 3.49 9.23 a 2.09 2.09 0 0 1 0.13 0.57 a 1.6 1.6 0 0 1 0.11 -0.57 l 3.37 -9.23 h 1.46 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 197.83 35.32 V 23.49 h 1.47 V 35.32 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 211 25.52 a 4.7 4.7 0 0 0 -2.91 -0.9 a 4.31 4.31 0 0 0 -4.29 4.64 c 0 3 1.8 4.93 4.58 4.93 a 6.47 6.47 0 0 0 2.72 -0.56 l 0.42 1.15 a 7.61 7.61 0 0 1 -1.6 0.57 a 6.21 6.21 0 0 1 -1.63 0.2 a 5.9 5.9 0 0 1 -6.09 -6.2 a 5.88 5.88 0 0 1 5.95 -6.07 a 6.6 6.6 0 0 1 2.22 0.39 a 5 5 0 0 1 1.36 0.74 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 214 35.32 V 23.49 h 6.65 v 1.24 h -5.18 v 3.94 h 4.28 v 1.24 h -4.28 v 4.17 h 5.34 v 1.24 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 234.05 35.32 V 25 a 7.28 7.28 0 0 1 -0.45 1.45 l -3.49 8.91 h -1.35 l -3.26 -8.67 a 7.4 7.4 0 0 1 -0.46 -1.58 V 35.32 h -1.35 V 23.49 h 2 l 3.6 9.46 a 3.19 3.19 0 0 1 0.23 0.9 a 3 3 0 0 1 0.22 -0.9 l 3.72 -9.46 h 2 V 35.32 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 239.42 35.32 V 23.49 h 1.47 V 35.32 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 244.79 35.32 V 23.49 h 1.47 V 34.08 h 5.28 v 1.24 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 254.21 37.77 a 7.7 7.7 0 0 1 -1.45 1.72 l -0.95 -0.81 a 7.93 7.93 0 0 0 1.31 -1.7 a 6.18 6.18 0 0 0 0.54 -2.69 V 23.49 h 1.46 V 35.66 A 6.29 6.29 0 0 1 254.21 37.77 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 263.92 35.55 a 4.57 4.57 0 0 1 -3.6 -1.22 l -0.2 -0.16 l -1.77 2 l -0.67 -0.55 l 1.83 -2.12 a 6 6 0 0 1 -1.45 -4.05 a 5.84 5.84 0 0 1 6 -6.21 a 4.88 4.88 0 0 1 3.35 1 l 0.11 0.07 l 1.67 -1.88 l 0.66 0.57 l -1.65 1.89 a 6.32 6.32 0 0 1 1.76 4.47 A 5.84 5.84 0 0 1 263.92 35.55 Z m 0 -11 c -2.29 0 -4.28 2.22 -4.28 4.82 a 5.39 5.39 0 0 0 0.92 2.94 l 5.91 -6.77 A 4 4 0 0 0 264 24.55 Z m 3.16 1.58 L 261.16 33 A 4.12 4.12 0 0 0 264 34.24 a 4.66 4.66 0 0 0 4.32 -4.82 A 5.09 5.09 0 0 0 267.11 26.13 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 278.73 24.73 v 4.05 H 283 V 30 h -4.28 v 5.29 h -1.47 V 23.49 h 6.64 v 1.24 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 290.78 35.55 a 5.85 5.85 0 0 1 -5.95 -6.15 a 5.94 5.94 0 1 1 11.88 0 A 5.84 5.84 0 0 1 290.78 35.55 Z m 0 -11 a 4.62 4.62 0 0 0 -4.33 4.83 a 4.35 4.35 0 1 0 8.65 0 A 4.62 4.62 0 0 0 290.78 24.57 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 305.14 35.32 l -3.26 -5.07 h -1.57 v 5.07 h -1.47 V 23.49 h 3.6 a 3.44 3.44 0 0 1 2.79 0.88 a 3.25 3.25 0 0 1 0.93 2.31 a 3.41 3.41 0 0 1 -1 2.46 a 3.23 3.23 0 0 1 -1.8 0.89 l 3.5 5.29 Z m -1.2 -10.25 c -0.36 -0.29 -0.66 -0.34 -1.72 -0.34 h -1.91 V 29 h 1.91 a 2.08 2.08 0 0 0 2.37 -2.31 A 2 2 0 0 0 303.94 25.07 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 69.33 54.88 V 46.21 a 5.45 5.45 0 0 1 -0.45 1.68 l -2.7 7 h -2 L 61.68 48 a 8.76 8.76 0 0 1 -0.45 -1.89 v 8.75 h -2 V 43.05 H 61.9 l 3.15 8.44 a 3.18 3.18 0 0 1 0.23 0.91 a 2.83 2.83 0 0 1 0.22 -0.91 l 3.28 -8.44 h 2.7 V 54.88 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 74.81 54.88 V 43.05 H 82 V 45 h -5 v 2.92 h 4 v 1.92 h -4 V 53 h 5.18 v 1.92 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 93.51 53.14 a 6.24 6.24 0 0 1 -4.79 1.74 H 84.35 V 43.05 h 4.39 c 2.24 0 3.64 0.5 4.8 1.74 a 6.1 6.1 0 0 1 1.6 4.14 A 6.19 6.19 0 0 1 93.51 53.14 Z m -2.17 -7.4 a 4.64 4.64 0 0 0 -2.83 -0.7 H 86.72 v 7.85 h 1.79 c 2.69 0 4.19 -1.42 4.19 -3.94 A 4 4 0 0 0 91.34 45.74 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 97.14 54.88 V 43.05 H 99.4 V 54.88 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 109.1 45.87 A 8 8 0 0 0 106 45 c -1.06 0 -1.74 0.43 -1.74 1.1 c 0 0.5 0.29 0.8 1.13 1.25 A 17.1 17.1 0 0 1 109 49.65 a 3 3 0 0 1 0.8 2.11 c 0 2.11 -1.54 3.35 -4.15 3.35 a 7.35 7.35 0 0 1 -1.06 -0.07 a 7 7 0 0 1 -2.47 -0.83 c -0.16 -0.07 -0.43 -0.19 -0.77 -0.36 l 1 -2.07 a 14.74 14.74 0 0 0 1.68 0.82 a 5.27 5.27 0 0 0 1.7 0.34 c 1 0 1.72 -0.46 1.72 -1.18 c 0 -0.5 -0.26 -0.84 -1 -1.27 l -1.83 -1 c -2.1 -1.2 -2.74 -2 -2.74 -3.28 a 3.24 3.24 0 0 1 0.46 -1.65 a 3.49 3.49 0 0 1 0.88 -0.88 a 4.57 4.57 0 0 1 3 -0.78 a 7.9 7.9 0 0 1 2.23 0.3 a 10.52 10.52 0 0 1 1.68 0.68 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 112.07 54.88 V 43.05 h 2.26 V 54.88 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 125.38 55 l -5.07 -7.65 s -0.1 -0.21 -0.25 -0.46 s -0.12 -0.23 -0.14 -0.25 a 2 2 0 0 1 -0.16 -0.41 v 8.67 h -2.15 V 43.05 h 2.6 l 5 7.78 a 1.46 1.46 0 0 1 0.12 0.25 c 0.06 0.12 0.09 0.2 0.11 0.23 l 0.11 0.31 l 0.11 0.21 V 43.05 h 2.13 V 55 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 137.63 45.87 a 8 8 0 0 0 -3.06 -0.85 c -1.06 0 -1.74 0.43 -1.74 1.1 c 0 0.5 0.29 0.8 1.13 1.25 a 17.1 17.1 0 0 1 3.55 2.28 a 3 3 0 0 1 0.8 2.11 c 0 2.11 -1.54 3.35 -4.15 3.35 A 7.35 7.35 0 0 1 133.1 55 a 7 7 0 0 1 -2.47 -0.83 c -0.16 -0.07 -0.43 -0.19 -0.77 -0.36 l 0.95 -2.07 a 14 14 0 0 0 1.68 0.82 a 5.27 5.27 0 0 0 1.7 0.34 c 1 0 1.72 -0.46 1.72 -1.18 c 0 -0.5 -0.27 -0.84 -1 -1.27 l -1.82 -1 c -2.1 -1.2 -2.74 -2 -2.74 -3.28 a 3.14 3.14 0 0 1 0.46 -1.65 a 3.49 3.49 0 0 1 0.88 -0.88 a 4.57 4.57 0 0 1 3 -0.78 a 7.78 7.78 0 0 1 2.22 0.3 a 10.22 10.22 0 0 1 1.69 0.68 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 146.75 54.88 l -3.94 -5.63 v 5.63 h -2.26 V 43.05 h 2.26 v 5.52 l 3.7 -5.52 h 2.6 L 145 48.8 l 4.29 6.08 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 150.88 54.88 V 43.05 h 7.2 V 45 h -4.94 v 2.92 h 4.05 v 1.92 h -4.05 V 53 h 5.18 v 1.92 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 171.1 54.88 l -3.94 -5.63 v 5.63 H 164.9 V 43.05 h 2.26 v 5.52 l 3.71 -5.52 h 2.6 L 169.4 48.8 l 4.28 6.08 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 179.63 55.22 h -1.58 l -4.39 -12.17 h 2.47 l 2.71 8 l 0 0.16 l 0 0.2 l 0.05 0.22 l 0 -0.13 a 0.59 0.59 0 0 1 0.06 -0.3 l 0.07 -0.15 l 2.58 -8 H 184 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 191.43 54.88 L 190.5 52 h -4 l -1 2.92 H 183.2 l 4.29 -11.83 h 2 l 4.28 11.83 Z m -2.92 -9.12 L 187.15 50 h 2.74 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 195.44 54.88 V 43.05 h 2.25 V 53 h 4.84 v 1.92 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 204.25 54.88 V 43.05 h 2.25 V 54.88 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 214 45 v 9.91 h -2.26 V 45 H 208.2 V 43.05 h 9.36 V 45 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 219.33 54.88 V 43.05 h 7.2 V 45 h -4.95 v 2.92 h 4 v 1.92 h -4 V 53 h 5.18 v 1.92 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 233.31 45 v 9.91 h -2.25 V 45 h -3.55 V 43.05 h 9.35 V 45 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 245.17 45.87 a 8 8 0 0 0 -3.06 -0.85 c -1.06 0 -1.74 0.43 -1.74 1.1 c 0 0.5 0.28 0.8 1.13 1.25 A 16.67 16.67 0 0 1 245 49.65 a 3 3 0 0 1 0.81 2.11 c 0 2.11 -1.54 3.35 -4.16 3.35 a 7.31 7.31 0 0 1 -1.05 -0.07 a 7 7 0 0 1 -2.48 -0.83 c -0.16 -0.07 -0.43 -0.19 -0.77 -0.36 l 1 -2.07 a 13.91 13.91 0 0 0 1.69 0.82 a 5.22 5.22 0 0 0 1.7 0.34 c 1 0 1.72 -0.46 1.72 -1.18 c 0 -0.5 -0.27 -0.84 -1 -1.27 l -1.83 -1 c -2.09 -1.2 -2.74 -2 -2.74 -3.28 a 3.15 3.15 0 0 1 0.47 -1.65 a 3.33 3.33 0 0 1 0.88 -0.88 a 4.57 4.57 0 0 1 3 -0.78 a 7.78 7.78 0 0 1 2.22 0.3 a 10.16 10.16 0 0 1 1.68 0.68 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 254.28 54.88 l -2.7 -4.73 h -1.13 v 4.73 h -2.26 V 43.05 h 3.94 c 1.72 0 2.51 0.22 3.21 0.88 a 3.29 3.29 0 0 1 1 2.56 a 3.57 3.57 0 0 1 -0.65 2.22 a 2.89 2.89 0 0 1 -1.84 1.1 l 2.94 5.07 Z M 251.92 45 h -1.47 v 3.26 h 1.47 c 1.43 0 2.06 -0.5 2.06 -1.68 S 253.39 45 251.92 45 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 258.65 54.88 V 43.05 h 7.2 V 45 h -4.94 v 2.92 h 4 v 1.92 h -4 V 53 h 5.18 v 1.92 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 276.87 54.71 a 12 12 0 0 1 -3 0.4 c -3.92 0 -6.64 -2.51 -6.64 -6.16 a 6 6 0 0 1 1.95 -4.52 a 6.26 6.26 0 0 1 4.62 -1.57 a 11.41 11.41 0 0 1 2.47 0.26 a 9.85 9.85 0 0 1 1.76 0.63 l -0.54 1.88 l -1 -0.34 a 7.84 7.84 0 0 0 -2.43 -0.43 c -2.65 0 -4.5 1.63 -4.5 4 a 4.4 4.4 0 0 0 4.66 4.26 a 4.72 4.72 0 0 0 1.54 -0.25 V 49.59 h 2.26 v 4.84 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 280.93 54.88 V 43.05 h 2.26 V 54.88 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 292.89 45.87 a 8 8 0 0 0 -3.06 -0.85 c -1.06 0 -1.74 0.43 -1.74 1.1 c 0 0.5 0.29 0.8 1.13 1.25 a 17.1 17.1 0 0 1 3.55 2.28 a 3 3 0 0 1 0.81 2.11 c 0 2.11 -1.55 3.35 -4.16 3.35 a 7.35 7.35 0 0 1 -1.06 -0.07 a 7 7 0 0 1 -2.47 -0.83 c -0.16 -0.07 -0.43 -0.19 -0.77 -0.36 l 0.95 -2.07 a 14.74 14.74 0 0 0 1.68 0.82 a 5.28 5.28 0 0 0 1.71 0.34 c 1 0 1.71 -0.46 1.71 -1.18 c 0 -0.5 -0.26 -0.84 -1 -1.27 l -1.83 -1 c -2.1 -1.2 -2.74 -2 -2.74 -3.28 a 3.24 3.24 0 0 1 0.46 -1.65 a 3.66 3.66 0 0 1 0.88 -0.88 a 4.59 4.59 0 0 1 3 -0.78 a 7.9 7.9 0 0 1 2.23 0.3 a 10.52 10.52 0 0 1 1.68 0.68 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 300.25 45 v 9.91 H 298 V 45 h -3.55 V 43.05 h 9.35 V 45 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 311.66 54.88 L 309 50.15 h -1.13 v 4.73 h -2.26 V 43.05 h 3.94 c 1.72 0 2.51 0.22 3.21 0.88 a 3.32 3.32 0 0 1 1 2.56 a 3.57 3.57 0 0 1 -0.65 2.22 a 2.92 2.92 0 0 1 -1.84 1.1 l 2.93 5.07 Z M 309.3 45 h -1.47 v 3.26 h 1.47 c 1.43 0 2.06 -0.5 2.06 -1.68 S 310.77 45 309.3 45 Z\"\n      />\n      <path\n        className=\"cls-3\"\n        style={style_1}\n        transform=\"translate(-15.9 -22.3)\"\n        d=\"M 316 54.88 V 43.05 h 7.2 V 45 h -4.94 v 2.92 h 4 v 1.92 h -4 V 53 h 5.17 v 1.92 Z\"\n      />\n    </svg>\n  );\n};\n\nexport default HEADER_LOGO_NSM;\n","import React from \"react\";\n\nconst HEADER_LOGO_SKDE = () => {\n  const style_1 = { fill: \"#1d1d1b\" };\n  const style_2 = { fill: \"#575756\" };\n\n  return (\n    <svg\n      id=\"Layer_1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      data-name=\"Layer 1\"\n      width=\"100%\"\n      height=\"80px\"\n      viewBox=\"17 0 50 30\"\n    >\n      <title>SKDE_sort</title>\n      <path\n        className=\"cls-1\"\n        style={style_1}\n        d=\"M350.94,285.45a3.55,3.55,0,1,1-3.55-3.55,3.55,3.55,0,0,1,3.55,3.55\"\n        transform=\"translate(-333.03 -281.9)\"\n      />\n      <path\n        className=\"cls-2\"\n        style={style_2}\n        d=\"M350.94,296.26a3.55,3.55,0,1,1-3.55-3.55,3.55,3.55,0,0,1,3.55,3.55\"\n        transform=\"translate(-333.03 -281.9)\"\n      />\n      <path\n        className=\"cls-2\"\n        style={style_2}\n        d=\"M340.12,296.26a3.55,3.55,0,1,1-3.54-3.55,3.55,3.55,0,0,1,3.54,3.55\"\n        transform=\"translate(-333.03 -281.9)\"\n      />\n      <path\n        className=\"cls-2\"\n        style={style_2}\n        d=\"M361.76,296.26a3.54,3.54,0,1,1-3.54-3.55,3.54,3.54,0,0,1,3.54,3.55\"\n        transform=\"translate(-333.03 -281.9)\"\n      />\n      <path\n        className=\"cls-2\"\n        style={style_2}\n        d=\"M350.94,307.08a3.55,3.55,0,1,1-3.55-3.54,3.55,3.55,0,0,1,3.55,3.54\"\n        transform=\"translate(-333.03 -281.9)\"\n      />\n      <path\n        className=\"cls-1\"\n        style={style_1}\n        d=\"M377.82,292.62a11.46,11.46,0,0,0-4-1c-1.38,0-2.27.5-2.27,1.27,0,.59.37.94,1.47,\n          1.46a22.38,22.38,0,0,1,4.64,2.66,3.29,3.29,0,0,1,1,2.46c0,2.47-2,3.91-5.43,3.91a12.3,\n          12.3,0,0,1-1.38-.09,10.29,10.29,0,0,1-3.23-1l-1-.41,1.24-2.43a15.87,15.87,0,0,0,\n          2.2,1,7.86,7.86,0,0,0,2.23.4c1.36,0,2.25-.54,\n          2.25-1.38,0-.58-.36-1-1.36-1.48l-2.39-1.21c-2.74-1.4-3.59-2.32-3.59-3.82a3.48,\n          3.48,0,0,1,.61-1.93,4.33,4.33,0,0,1,1.15-1,6.53,6.53,0,0,1,3.89-.92,\n          11.14,11.14,0,0,1,2.9.36,14.85,14.85,0,0,1,2.21.79Z\"\n        transform=\"translate(-333.03 -281.9)\"\n      />\n      <path\n        className=\"cls-1\"\n        style={style_1}\n        d=\"M388.19,303.13l-5.09-6.56v6.56h-2.91V289.34h2.91v6.44l4.79-6.44h3.36L386,296.05l5.53,7.08Z\"\n        transform=\"translate(-333.03 -281.9)\"\n      />\n      <path\n        className=\"cls-1\"\n        style={style_1}\n        d=\"M403.34,301.1a7.22,7.22,0,0,1-5.58,2h-5.09V289.34h5.11c2.61,0,4.24.59,5.6,2a7.1,7.1,\n          0,0,1,1.86,4.82A7.21,7.21,0,0,1,403.34,301.1Zm-2.53-8.62a5.38,5.38,0,0,\n          0-3.3-.82h-2.09v9.15h2.09c3.13,0,4.89-1.65,4.89-4.6A4.68,4.68,0,0,0,400.81,292.48Z\"\n        transform=\"translate(-333.03 -281.9)\"\n      />\n      <path\n        className=\"cls-1\"\n        style={style_1}\n        d=\"M406.31,303.13V289.34h11v2.24h-7.54V295h6.17v2.24h-6.17v3.67h7.89v2.24Z\"\n        transform=\"translate(-333.03 -281.9)\"\n      />\n    </svg>\n  );\n};\n\nexport default HEADER_LOGO_SKDE;\n","import React from \"react\";\n\nconst HEADER_TEXT = () => {\n  return (\n    <h1 className=\"header_text\" style={{ fontSize: \"2.7rem\" }}>\n      {\"Resultater fra medisinske kvalitetsregistre\"}\n    </h1>\n  );\n};\n\nexport default HEADER_TEXT;\n","import React from \"react\";\n\nimport HEADER_LOGO_NSM from \"./header_logo_nsm\";\nimport HEADER_LOGO_SKDE from \"./header_logo_skde\";\nimport HEADER_TEXT from \"./header_text\";\n\nconst HEADER = () => {\n  return (\n    <div\n      style={{\n        backgroundImage: \"linear-gradient(-270deg, #A2CFD6 0%, #7EBEC7 100%)\",\n        padding: \"1rem 0 0 1rem\",\n        color: \"#2D3034\",\n        display: \"flex\",\n        flexDirection: \"column\",\n      }}\n    >\n      <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n        <div style={{ width: \"230px\" }}>\n          <a href=\"http://skde.no/\">\n            {\" \"}\n            <HEADER_LOGO_SKDE />\n          </a>\n        </div>\n        <div style={{ width: \"230px\" }}>\n          <a href=\"https://www.kvalitetsregistre.no/\">\n            {\" \"}\n            <HEADER_LOGO_NSM />\n          </a>\n        </div>\n      </div>\n      <div\n        style={{ color: \"white\", fontSize: \"2.8rem\", padding: \"0 0 10px 17%\" }}\n      >\n        <HEADER_TEXT />\n      </div>\n    </div>\n  );\n};\n\nexport default HEADER;\n","import React from \"react\";\nimport Select from \"react-select\";\n\nimport { app_text } from \"../app_config\";\n\ninterface OptsTu {\n  label: string;\n  options: {\n    value: string;\n    label: string;\n  }[];\n}\n\ninterface Props {\n  opts: OptsTu[];\n  select_className?: string;\n  placeholder?: JSX.Element;\n  update_tu(x: string[]): void;\n  treatment_unit: string[];\n}\n\nfunction SELECT_MULTI(props: Props) {\n  const {\n    opts = [],\n    select_className = \"pick_treatment_unit\",\n    placeholder = (\n      <div>\n        <i className=\"fas fa-search\" /> Sk etter behandlingsenheter\n      </div>\n    ),\n    update_tu,\n    treatment_unit,\n  } = props;\n\n  let selection_options = opts;\n  const customStyles = {\n    control: (provided: any, state: any) => ({\n      ...provided,\n      width: \"100%\",\n      backgroundColor: \"#00263d\",\n      boxShadow: state.isFocused ? undefined : undefined,\n      fontSize: \"1rem\",\n      border: \"none\",\n      borderRadius: state.isFocused ? 0 : 0,\n      borderBottom: state.isFocused\n        ? \"3px solid #7ebec7\"\n        : // @ts-ignore\n        state.isSelected\n        ? \"3px solid #EEF6F7\"\n        : \"3px solid #EEF6F7\",\n      cursor: \"text\",\n    }),\n    input: (provided: any) => ({\n      ...provided,\n      color: \"#EEF6F7\",\n      paddingLeft: \"1.3rem\",\n    }),\n    multiValue: (provided: any) => ({\n      ...provided,\n      color: \"#00263d\",\n      backgroundColor: \"#EEF6F7\",\n    }),\n    placeholder: (provided: any) => ({\n      ...provided,\n      color: \"#EEF6F7\",\n      fontSize: \"1.2rem\",\n    }),\n    // @ts-ignore\n    crossIcon: (provided: any) => ({\n      ...provided,\n      color: \"white\",\n    }),\n    dropdownIndicator: (provided: any) => ({\n      ...provided,\n      display: \"none\",\n    }),\n    indicatorSeparator: (provided: any) => ({\n      ...provided,\n      display: \"none\",\n    }),\n    menu: (provided: any) => ({\n      ...provided,\n      zIndex: 3,\n    }),\n    option: (provided: any) => ({\n      ...provided,\n    }),\n  };\n  const value_tu = treatment_unit.map((tu) => ({ value: tu, label: tu }));\n  const handle_input_change = (e: { value: string }[]) => {\n    const tu = e !== null ? e.map((e) => e.value) : [];\n    update_tu(tu);\n  };\n\n  return (\n    <form>\n      <Select\n        className={select_className}\n        options={selection_options}\n        placeholder={placeholder}\n        closeMenuOnSelect={true}\n        value={value_tu}\n        openMenuOnClick={false}\n        isSearchable\n        isMulti={true}\n        onChange={(e: any) => handle_input_change(e)}\n        styles={customStyles}\n        menuIsOpen={\n          treatment_unit.length < app_text.tu_list.max_nr_tu ? undefined : false\n        }\n      />\n    </form>\n  );\n}\n\nexport default SELECT_MULTI;\n","import React from \"react\";\nimport Select from \"react-select\";\n\nfunction SELECT_SINGLE(props) {\n  const { opts = [], select_className = \"pick_year\", update_year } = props;\n\n  let selection_options = opts.map((opt) => ({ value: opt, label: opt }));\n  const customStyles = {\n    control: (provided, state) => ({\n      ...provided,\n      width: \"100%\",\n      backgroundColor: \"#00263d\",\n      boxShadow: null,\n      fontSize: \"1rem\",\n      border: state.isFocused\n        ? \"3px solid #7ebec7\"\n        : state.isSelected\n        ? \"3px solid #EEF6F7\"\n        : \"3px solid #EEF6F7\",\n      minHeight: \"2rem\",\n      cursor: \"pointer\",\n    }),\n    input: (provided) => ({\n      ...provided,\n      color: \"#EEF6F7\",\n    }),\n    singleValue: (provided) => ({\n      ...provided,\n      color: \"#EEF6F7\",\n    }),\n    menu: (provided) => ({\n      ...provided,\n      zIndex: 3,\n    }),\n    option: (provided) => ({\n      ...provided,\n    }),\n  };\n  const handle_input_change = (e) => {\n    update_year(e.value);\n  };\n\n  return (\n    <form>\n      <Select\n        className={select_className}\n        onChange={(e) => handle_input_change(e)}\n        options={selection_options}\n        defaultValue={selection_options[0]}\n        isSearchable\n        styles={customStyles}\n      />\n    </form>\n  );\n}\n\nexport default SELECT_SINGLE;\n","import React from \"react\";\n\nimport { app_text } from \"../app_config\";\n\nconst TU_LIST_HEADER = () => {\n  return (\n    <h2 className={`tu_list_header`}>\n      {`${app_text.tu_list.header_text} (maks ${app_text.tu_list.max_nr_tu})`}\n    </h2>\n  );\n};\n\nexport default TU_LIST_HEADER;\n","import React from \"react\";\nimport { app_text } from \"../app_config\";\n\ninterface NestedTreatmentUnitName {\n  rhf: string;\n  hf: {\n    hf: string;\n    hf_full: string;\n    hospital: string[];\n  }[];\n}\n\ninterface Props {\n  tu_names: NestedTreatmentUnitName;\n  treatment_units: string[];\n  update_treatment_units: (arg: string[]) => void;\n}\n\nconst TU_LIST_BODY = (props: Props) => {\n  const { tu_names, treatment_units, update_treatment_units } = props;\n\n  const handle_tu_list_click = (\n    selected_unit: string,\n    treatment_units: string[],\n    update_treatment_units: (arg: string[]) => void\n  ) => {\n    if (\n      treatment_units.length < app_text.tu_list.max_nr_tu &&\n      !treatment_units.includes(selected_unit)\n    ) {\n      update_treatment_units([...treatment_units, selected_unit]);\n    } else if (treatment_units.includes(selected_unit)) {\n      update_treatment_units(\n        treatment_units.filter((tu) => tu !== selected_unit)\n      );\n    } else {\n      alert(`maks ${app_text.tu_list.max_nr_tu} behandlingsenheter!`);\n    }\n  };\n  const hf_hospital = tu_names.hf.map((element) => {\n    const hospital = element.hospital.map((hospital) => {\n      const style_hospital = treatment_units.includes(hospital)\n        ? { transform: \"scale(1.05,1.1)\", color: \"#08418e\" }\n        : {};\n\n      return (\n        <button\n          key={`hospital_${hospital}`}\n          className=\"tu_list_hospital_btn\"\n          style={style_hospital}\n          onClick={() =>\n            handle_tu_list_click(\n              hospital,\n              treatment_units,\n              update_treatment_units\n            )\n          }\n        >\n          {hospital}\n        </button>\n      );\n    });\n    const style_hf = treatment_units.includes(element.hf)\n      ? {\n          transform: \"scale(1.05,1.1)\",\n          color: \"#08418e\",\n        }\n      : {};\n    return (\n      <div key={`hf_hospital_${element.hf}`} className={`tu_list_hf`}>\n        <div className=\"tu_list_hf_btn_constainer\">\n          <button\n            style={style_hf}\n            className=\"tu_list_hf_btn\"\n            onClick={() =>\n              handle_tu_list_click(\n                element.hf,\n                treatment_units,\n                update_treatment_units\n              )\n            }\n          >\n            {element.hf_full}\n          </button>\n        </div>\n        <div className=\"tu_list_hospital\">{hospital}</div>\n      </div>\n    );\n  });\n\n  return (\n    <>\n      <div className={`tu_list_rhf`}>\n        <h3 className=\"tu_list_rhf_header\">{tu_names.rhf}</h3>\n        <div className={`tu_list_rhf_content`}>\n          <div className={`tu_list_hfs_in_rhf`}>{hf_hospital}</div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default TU_LIST_BODY;\n","import React, { useState } from \"react\";\n\nimport TU_LIST_HEADER from \"./tu_list_header\";\nimport TU_LIST_BODY from \"./tu_list_body\";\nimport useEventListener from \"../helpers/hooks/useEventListener\";\n\ninterface NestedTreatmentUnitName {\n  rhf: string;\n  hf: {\n    hf: string;\n    hf_full: string;\n    hospital: string[];\n  }[];\n}\n\nexport interface Props {\n  tu_structure: NestedTreatmentUnitName[];\n  treatment_units: string[];\n  update_treatment_units: (arg: string[]) => void;\n}\n\nconst TU_LIST = (props: Props) => {\n  const { tu_structure, treatment_units, update_treatment_units } = props;\n  const [tu_list_display, update_tu_list_display] = useState(\"none\");\n  const style_tu_list = { display: tu_list_display };\n  const tu_str_elm = tu_structure.map((element) => {\n    return (\n      <TU_LIST_BODY\n        key={`rhf_${element.rhf}`}\n        treatment_units={treatment_units}\n        update_treatment_units={update_treatment_units}\n        tu_names={element}\n      />\n    );\n  });\n  const handleKeyDown = (event: KeyboardEvent) => {\n    if (event.defaultPrevented) {\n      return;\n    }\n    switch (event.key) {\n      case \"Esc\":\n      case \"Escape\":\n        update_tu_list_display(\"none\");\n        break;\n      default:\n        return;\n    }\n    event.preventDefault();\n  };\n  useEventListener(\"keydown\", handleKeyDown);\n\n  return (\n    <>\n      <div className=\"hospital_list_btn_container\">\n        <button\n          className=\"hospital_list_btn\"\n          onClick={() => update_tu_list_display(\"\")}\n        >\n          Vis alle\n        </button>\n      </div>\n      <div style={style_tu_list} className=\"tu_list\" test-id=\"tu_list\">\n        <TU_LIST_HEADER />\n        <div className=\"all_tu\">{tu_str_elm}</div>\n        <button\n          onClick={() => update_tu_list_display(\"none\")}\n          className=\"tu_list_close_btn\"\n        >\n          <i className=\"far fa-times-circle\" />\n        </button>\n      </div>\n    </>\n  );\n};\n\nexport default TU_LIST;\n","import React, { useState, useRef, useEffect, useMemo } from \"react\";\n\nimport MAIN from \"./components/main_component\";\nimport HEADER from \"./components/header_main\";\nimport SELECT_MULTI from \"./components/select_multi\";\nimport SELECT_SINGLE from \"./components/select_single\";\nimport TU_LIST from \"./components/tu_list\";\n\nimport config from \"./app_config\";\nimport { nest_tu_names } from \"./data/filter_year_unit\";\nimport useResizeObserver from \"./components/utils\";\nimport { filter_year_unit } from \"./data/filter_year_unit\";\n\nconst { med_field, app_text } = config;\n\nexport interface StatisticData {\n  ind_id: string;\n  unit_level: string;\n  unit_name: string;\n  orgnr: number;\n  year: number;\n  denominator: number;\n  var: number;\n  level: string;\n  level_direction: number | null;\n  dg?: number;\n  include: number | null;\n}\n\nexport interface Description {\n  id: string;\n  dg_id: string | null;\n  include: number | null;\n  title: string | null;\n  name: string | null;\n  type: string | null;\n  min_denominator: number | null;\n  level_green: number | null;\n  level_yellow: number | null;\n  level_direction: number;\n  short_description: string | null;\n  long_description: string | null;\n  registry_id: number;\n  rname: string | null;\n  full_name: string;\n}\n\nexport interface TreatmentUnit {\n  hospital: string;\n  hf: string;\n  hf_full: string;\n  rhf: string;\n}\n\nexport interface AggData {\n  nation: {\n    filtered_by_unit: StatisticData[];\n    filtered_by_year: StatisticData[];\n  };\n  filtered_by_unit: StatisticData[];\n  filtered_by_year: StatisticData[];\n  all_filtered_by_year: StatisticData[];\n}\n\nfunction APP() {\n  //data as state\n  const [indicator_hosp, update_hosp] = useState<StatisticData[]>(\n    (window as any).indicator_hosp ? (window as any).indicator_hosp : []\n  );\n  const [indicator_hf, update_hf] = useState<StatisticData[]>(\n    (window as any).indicator_hf ? (window as any).indicator_hf : []\n  );\n  const [indicator_rhf, update_rhf] = useState<StatisticData[]>(\n    (window as any).indicator_rhf ? (window as any).indicator_rhf : []\n  );\n  const [indicator_nation, update_nation] = useState<StatisticData[]>(\n    (window as any).indicator_nat ? (window as any).indicator_nat : []\n  );\n  const [description, update_description] = useState<Description[]>(\n    (window as any).description ? (window as any).description : []\n  );\n  const [tu_names, update_tu_names] = useState<TreatmentUnit[]>(\n    (window as any).tu_names ? (window as any).tu_names : []\n  );\n\n  const indicatorSorter = useMemo(() => {\n    const descriptionMap: { [key: string]: string } = {};\n    for (const d of description) {\n      descriptionMap[d.id] = d.name ?? \"\";\n    }\n    return (a: StatisticData, b: StatisticData) => {\n      const aName = descriptionMap[a.ind_id];\n      const bName = descriptionMap[b.ind_id];\n\n      return aName.localeCompare(bName);\n    };\n  }, [description]);\n\n  const sortedIndicatorHospital = useMemo(\n    () => indicator_hosp.sort(indicatorSorter),\n    [indicatorSorter, indicator_hosp]\n  );\n\n  const sortedIndicatorHf = useMemo(() => indicator_hf.sort(indicatorSorter), [\n    indicatorSorter,\n    indicator_hf,\n  ]);\n\n  const sortedIndicatorRhf = useMemo(\n    () => indicator_rhf.sort(indicatorSorter),\n    [indicatorSorter, indicator_rhf]\n  );\n\n  const sortedIndicatorNation = useMemo(\n    () => indicator_nation.sort(indicatorSorter),\n    [indicatorSorter, indicator_nation]\n  );\n\n  //update data as it arrives\n  if (typeof (window as any).Shiny !== \"undefined\") {\n    (window as any).Shiny.addCustomMessageHandler(\n      \"tu_names\",\n      function (message: any) {\n        update_tu_names(message);\n      }\n    );\n    (window as any).Shiny.addCustomMessageHandler(\n      \"description\",\n      function (message: any) {\n        update_description(message);\n      }\n    );\n    (window as any).Shiny.addCustomMessageHandler(\n      \"nation\",\n      function (message: any) {\n        update_nation(message);\n      }\n    );\n    (window as any).Shiny.addCustomMessageHandler(\n      \"hospital\",\n      function (message: any) {\n        update_hosp(message);\n      }\n    );\n    (window as any).Shiny.addCustomMessageHandler(\n      \"hf\",\n      function (message: any) {\n        update_hf(message);\n      }\n    );\n    (window as any).Shiny.addCustomMessageHandler(\n      \"rhf\",\n      function (message: any) {\n        update_rhf(message);\n      }\n    );\n  }\n\n  //states\n  const [treatment_units, update_treatment_units] = useState<string[]>([]);\n  const [selected_year, update_selected_year] = useState(2019);\n  const [selected_row, update_selected_row] = useState(null);\n  const [selection_bar_height, update_selection_bar_height] = useState<\n    number | null\n  >(null);\n  const [legend_height, update_legend_height] = useState(null);\n\n  const opts_hosp = Array.from(\n    new Set(sortedIndicatorHospital.map((d) => d.unit_name))\n  )\n    .sort()\n    .map((opt) => ({ value: opt, label: opt }));\n  const opts_hf = Array.from(new Set(sortedIndicatorHf.map((d) => d.unit_name)))\n    .sort()\n    .map((opt) => ({ value: opt, label: opt }));\n  const opts_rhf = Array.from(\n    new Set(sortedIndicatorRhf.map((d) => d.unit_name))\n  )\n    .sort()\n    .map((opt) => ({ value: opt, label: opt }));\n  const opts_tu = [\n    { label: \"Sykehus\", options: opts_hosp },\n    { label: \"HF\", options: opts_hf },\n    { label: \"RHF\", options: opts_rhf },\n  ];\n  let opts_year = [2019, 2018, 2017, 2016];\n\n  const input_data = {\n    selected_unit: treatment_units,\n    selected_year: selected_year,\n  };\n\n  const hospital = filter_year_unit(sortedIndicatorHospital, input_data);\n  const hf = filter_year_unit(sortedIndicatorHf, input_data);\n  const rhf = filter_year_unit(sortedIndicatorRhf, input_data);\n  const nation = filter_year_unit(sortedIndicatorNation, {\n    selected_unit: [\"Nasjonalt\"],\n    selected_year: selected_year,\n  });\n\n  const tu_name_hospital = Array.from(\n    new Set(\n      hospital.filtered_by_year.map((d) => d.unit_name) // [data_config.column.treatment_unit]\n    )\n  ).sort();\n  const tu_name_hf = Array.from(\n    new Set(\n      hf.filtered_by_year.map((d) => d.unit_name) // [data_config.column.treatment_unit]\n    )\n  ).sort();\n  const tu_name_rhf = Array.from(\n    new Set(\n      rhf.filtered_by_year.map((d) => d.unit_name) // [data_config.column.treatment_unit]\n    )\n  ).sort();\n  const tu_name = tu_name_hospital.concat(tu_name_hf, tu_name_rhf);\n  const colspan = tu_name.length + 2;\n\n  const agg_data: AggData = {\n    nation,\n    filtered_by_unit: [\n      ...hospital.filtered_by_unit,\n      ...hf.filtered_by_unit,\n      ...rhf.filtered_by_unit,\n    ],\n    filtered_by_year: [\n      ...hospital.filtered_by_year,\n      ...hf.filtered_by_year,\n      ...rhf.filtered_by_year,\n    ],\n    all_filtered_by_year: [\n      ...indicator_hosp.filter(\n        (d) => d.year === selected_year // [data_config.column.year]\n      ),\n      ...indicator_nation.filter(\n        (d) => d.year === selected_year // [data_config.column.year]\n      ),\n    ],\n  };\n\n  const unique_indicators =\n    tu_name.length > 0\n      ? Array.from(\n          new Set(\n            agg_data.filtered_by_year.map(\n              (d) => d.ind_id // [data_config.column.indicator_id]\n            )\n          )\n        )\n      : Array.from(\n          new Set(\n            agg_data.nation.filtered_by_year.map(\n              (d) => d.ind_id // [data_config.column.indicator_id]\n            )\n          )\n        );\n  const unique_register = Array.from(\n    new Set(med_field.flatMap((entry) => entry.key))\n  ).map((registry) => {\n    const ind = description.filter(\n      (description) =>\n        description.rname === registry && // [data_config.column.registry_short_name]\n        unique_indicators.includes(description.id) // [data_config.column.id]\n    );\n    return { registry_name: registry, number_ind: ind.length, indicators: ind };\n  });\n  const ind_per_reg = unique_register;\n\n  const tu_structure = nest_tu_names(tu_names);\n\n  //height of the selection bar\n  const selection_bar_ref = useRef<HTMLDivElement | null>(null);\n  const selection_bar_dim = useResizeObserver(selection_bar_ref);\n  useEffect(() => {\n    if (!selection_bar_dim) {\n      return;\n    }\n    const top = (selection_bar_dim.target as HTMLElement).offsetHeight ?? \"\";\n    update_selection_bar_height(top);\n  }, [selection_bar_dim]);\n\n  return (\n    <div className=\"app-container\">\n      <HEADER />\n      <div className=\"app-body\">\n        <div className=\"selection-container\" ref={selection_bar_ref}>\n          <div className=\"treatment-unit-selection\">\n            <SELECT_MULTI\n              opts={opts_tu}\n              update_tu={update_treatment_units}\n              treatment_unit={treatment_units}\n            />\n            <TU_LIST\n              tu_structure={tu_structure}\n              treatment_units={treatment_units}\n              update_treatment_units={update_treatment_units}\n            />\n          </div>\n          <div className=\"year-selection\">\n            <SELECT_SINGLE\n              opts={opts_year}\n              update_year={update_selected_year}\n              selected_row={selected_row}\n              update_selected_row={update_selected_row}\n            />\n          </div>\n        </div>\n        <MAIN\n          ind_per_reg={ind_per_reg}\n          treatment_units={tu_name}\n          selected_year={selected_year}\n          med_field={med_field}\n          app_text={app_text}\n          colspan={colspan}\n          data={{ agg_data, description }}\n          selected_row={selected_row}\n          update_selected_row={update_selected_row}\n          selection_bar_height={selection_bar_height}\n          legend_height={legend_height}\n          update_legend_height={update_legend_height}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default APP;\n","import loadDevTools from \"./dev-tools/load\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nloadDevTools(() =>\n  ReactDOM.render(\n    <React.StrictMode>\n      <App />,\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n  )\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"barChart\":\"BarChart_barChart__1kbC0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lineChart\":\"LineChart_lineChart__34mcV\"};","import { useEffect, useRef } from \"react\";\n\nexport const useEventListener = (\n  eventName: string,\n  handler: Function,\n  targetElement = global\n) => {\n  const listenerRef = useRef<Function>();\n\n  useEffect(() => {\n    listenerRef.current = handler;\n  }, [handler]);\n\n  useEffect(() => {\n    const isSupported = targetElement && targetElement.addEventListener;\n    if (!isSupported) return;\n    const eventListener = (event: Event) =>\n      !!listenerRef.current && listenerRef.current(event);\n    targetElement.addEventListener(eventName, eventListener);\n    return () => {\n      targetElement.removeEventListener(eventName, eventListener);\n    };\n  }, [eventName, targetElement]);\n};\n\nexport default useEventListener;\n"],"sourceRoot":""}